{"version":3,"sources":["components/simulator.ts","components/SimFrame.tsx","components/Joystick.tsx","components/GameButtons.tsx","components/GamePlayer.tsx","sprite-editor/bitmap.ts","bitmap_helpers.ts","components/TabBar.tsx","components/ColorPicker.tsx","telemetry/appinsights.ts","games/bunny_hop/bin.js.ts","sprite-editor/svgUtil.ts","sprite-editor/svgEvents.ts","sprite-editor/util.ts","sprite-editor/tools.ts","sprite-editor/buttons.ts","sprite-editor/sidebar.ts","sprite-editor/canvasGrid.ts","sprite-editor/canvasState.ts","sprite-editor/spriteEditor.ts","components/SpriteGallery.tsx","components/SpriteEditor.tsx","components/screenshot.ts","components/GameModder.tsx","games/bunny_hop/main.ts.ts","games/bunny_hop/main.blocks.ts","components/util.ts","components/Social.tsx","components/Share.tsx","App.tsx","index.tsx"],"names":["SimulatorButton","SimFrame","props","className","ref","simulator","setFrame","title","allow","sandbox","Simulator","frame","buttonState","changeListeners","framePromise","readyPromise","lastRunBinary","messageHandler","ev","msg","data","handleMessage","this","window","addEventListener","resolve","button","sendButtonState","cb","indexOf","push","index","splice","binaryjs","waitForSimFrameAsync","then","undefined","id","Math","random","setAttribute","src","waitForSimReadyAsync","sendMessage","type","code","removeEventListener","pressed","updateButtonState","forEach","contentWindow","postMessage","command","runCode","Promise","promise","Deferrable","_resolve","_reject","reject","SVG_WIDTH","HALF_WIDTH","getTouch","identifier","i","changedTouches","length","Joystick","dPadUp","dPadDown","dPadLeft","dPadRight","joystickHandle","joystickAnimation","handleX","handleY","lastOctet","buttonChangeListener","isPressed","Down","updateDirection","Up","Left","Right","refs","bindEvents","addChangeListener","removeChangeListener","changeMode","onClick","xmlns","viewBox","width","height","cx","cy","r","fill","stroke","strokeWidth","x","y","rx","ry","div","PointerEvent","bindPointerEvents","navigator","maxTouchPoints","bindTouchEvents","bindMouseEvents","inGesture","updateJoystickDrag","clientX","clientY","startAnimation","touchIdentifier","touch","preventDefault","bounds","getBoundingClientRect","dx","left","dy","top","angle","atan2","distance","min","sqrt","pow","setHandlePosition","cos","sin","clearButtonPresses","stopAnimation","requestAnimationFrame","animationFrame","getHandleDistance","getHandleAngle","max","cancelAnimationFrame","animation","octet","floor","PI","right","up","down","pressButton","releaseButton","React","Component","GameButtons","sim","aButton","aLabel","bButton","bLabel","textAnchor","fontSize","aDistance","bDistance","setButtonState","A","B","isAButton","circle","label","updateButtonGesture","GamePlayer","proj","binJs","hexChars","Bitmap","x0","y0","buf","Uint8Array","ceil","col","row","value","coordToIndex","setCore","getCore","sub","c","set","get","change","current","transparent","other","cell","imageLiteralToBitmap","text","defaultPattern","replace","trim","rows","split","sprite","spriteWidth","rowValues","spriteHeight","result","f4EncodeImg","w","h","bpp","getPix","hex2","ptr","curr","shift","pushBits","n","j","toString","slice","parseColorString","color","parseInt","substr","_r","_g","_b","defaultPalletColors","colors","res","toNumbers","bitmapToBinHex","bitmap","bind","bitmapToText","bmp","bitmapToImageLiteral","textToBitmap","bitmapToUrl","context","scale","canvas","document","createElement","cellSize","getContext","fillStyle","fillRect","bitmapToCanvas","toDataURL","isEmptyBitmap","R","SVG_W","TAB_SVG_H","IMG_SPACE","TabBar","TabBarSvg","TOTAL_IMG_SPACE","LEFT_SPACE","TABS_START","state","currentTab","startTab","tabImages","idx","tabW","tabStart","tabFinish","TAB_MARGIN_T","tabPath","getTabPath","tabImgs","map","img","clickHandler","setState","tabChange","d","key","href","Swatch","style","backgroundColor","classes","selected","backgroundImg","SAMPLE_TREE","ColorPicker","colorPicker","selection","selectionChanged","swatchs","tickEvent","measures","isLocalHost","appInsights","trackEvent","test","location","e","PatternUnits","LengthUnit","isTouchEnabled","hasPointerEvents","BaseElement","el","titleElement","elt","attributes","Object","keys","at","name","ns","setAttributeNS","join","cls","classList","add","baseVal","addSingleClass","remove","filter","removeSingleClass","addClassInternal","removeClassInternal","firstChild","insertBefore","appendChild","textContent","visible","DrawContext","Text","Circle","Rect","Line","Polygon","Polyline","Path","Drawable","drawable","draw","g","Group","child","handler","events","buttons","SVG","parent","defs","DefsElement","scaleFactor","updateTransform","factor","StyleElement","transform","Pattern","kind","objectBoundingBox","RadialGradient","LinearGradient","ClipPath","css","opacity","url","family","size","units","lengthWithUnits","unit","px","radius","corners","x1","y1","x2","y2","from","to","PolyElement","points","PathContext","toAttribute","update","Gradient","offset","s","fx","fy","fr","createElementNS","ops","op","c1x","c1y","c2x","c2y","dc1x","dc1y","dc2x","dc2y","dcx","dcy","xRotate","large","sweepClockwise","args","em","ex","in","cm","mm","pt","pc","percent","MapTools","Bitmask","mask","cellIndex","pointerEvents","move","enter","leave","PaintTool","getPaintToolShortcut","tool","Normal","Rectangle","Fill","Erase","Marquee","Cursor","offsetX","offsetY","Edit","canvasWidth","canvasHeight","toolWidth","startCol","startRow","isStarted","showPreview","doEditCore","cursorCol","cursorRow","mergeFloatingLayer","SelectionEdit","endCol","endRow","isDragged","PaintEdit","interpolate","xStep","yStep","dErr","abs","err","drawCore","endY","image","setPixel","OutlineEdit","tl","topLeft","br","bottomRight","drawRectangle","LineEdit","bresenham","CircleEdit","hypot","midpoint","FillEdit","replColor","q","pop","tryPush","MarqueeEdit","isMove","floatingLayer","inFloatingLayer","layerOffsetX","layerOffsetY","copyToLayer","BUTTON_CORNER_RADIUS","BUTTON_BORDER_WIDTH","BUTTON_BOTTOM_BORDER_WIDTH","Button","root","_title","_shortcut","appendClass","removeClass","translate","setRootTitle","disabled","editClass","TextButton","textEl","mkText","moveTo","getComputedTextLength","CursorButton","mkIconButton","icon","drawSingleButton","mkXIconButton","drawLeftButton","lip","border","svg","bg","lineBy","arcBy","close","fg","CursorMultiButton","indexHandler","group","widths","buttonGroup","b","handleClick","cursorIndex","sizeAdjective","getElement","setSelected","UndoRedoGroup","host","undo","redo","setDisabled","drawMidButton","drawRightButton","segments","available","segmentWidth","anchor","InputEvent","GestureType","UNDO_REDO_WIDTH","UNDO_REDO_HEIGHT","TOOLBAR_HEIGHT","SideBar","palette","colorSwatches","pencilTool","eraseTool","rectangleTool","fillTool","marqueeTool","sizeGroup","paletteGroup","selectedTool","selectedSwatch","colorPreview","undoRedo","initSizes","initTools","initPalette","updateState","setActiveTool","getButtonForTool","addClass","setActiveColor","SELECTED_BORDER_WIDTH","setToolWidth","onSelected","setCursorSize","initButton","TOOL_BUTTON_WIDTH","setTool","COLOR_PREVIEW_HEIGHT","bgHeight","def","create","clipPathUnits","TOOLBAR_WIDTH","swatch","PALETTE_BORDER_WIDTH","clipPath","setColor","xicon","btn","shortcut","setIconsToDefault","lightModeBackground","CanvasGrid","lightMode","cellWidth","cellHeight","gesture","fadeAnimation","selectAnimation","backgroundLayer","paintLayer","overlayLayer","mouseCol","mouseRow","upHandler","endDrag","clientEventToCell","handle","stopPropagation","leaveHandler","Leave","moveHandler","Move","hoverHandler","isHover","alpha","hideOverlay","on","clearContext","drawImage","drawFloatingLayer","edit","doEdit","drawCursor","cursor","getCursor","repaint","drawColor","strokeStyle","strokeRect","transparency","copy","resizeGrid","kill","showOverlay","stopSelectAnimation","toastLeft","toastWidth","toastTop","Fade","dead","globalAlpha","font","textBaseline","textAlign","fillText","toastHeight","visibility","rowLength","numCells","lockAspectRatio","maxCellWidth","maxCellHeight","aspectRatio","setCellDimensions","initDragSurface","subscribe","Drag","layoutCanvas","drawBackground","start","end","alphaCols","alphaRows","ac","ar","coord","touches","te","clientCoord","scrollX","pageXOffset","scrollY","pageYOffset","cellW","cellH","drawSelectionAnimation","dashOffset","lineWidth","setLineDash","lineDashOffset","drawLayer","setInterval","clearRect","GestureState","utils","surface","evId","startDrag","clearInterval","lastCol","lastRow","isDown","handlers","event","fire","delay","duration","slope","Date","now","setTimeout","v","CanvasState","equals","apply","cut","COLORS","SpriteEditor","blocksInfo","toolbarRoot","paintSurface","sidebar","header","cachedState","activeTool","undoStack","redoStack","columns","shiftDown","altDown","mouseDown","closeHandler","keyDown","keyCode","shiftAction","discardEdit","setEyedropperMouse","didSomething","updateEdit","pushState","restore","switchIconTo","keyUp","clearShiftAction","undoRedoEvent","controlOrMeta","ctrlKey","metaKey","setClass","createDefs","drag","debug","setCell","onEditEnd","rePaint","commit","concat","updateUndoRedo","paintCell","onEditStart","paintEdit","layout","canvasHolder","render","setGridDimensions","updateBounds","HEADER_HEIGHT","PADDING","setPalette","todo","resizeBitmap","afterResize","presets","ch","updateIcon","setText","removeMouseListeners","showResizeOverlay","gestureEnd","applyEdit","stack","newEdit","writeColor","Outline","define","p","userSpaceOnUse","Item","SpriteGallery","spriteGallery","options","items","SpriteEditorComp","spriteEditorHolder","editor","renderSpriteEditor","removeSpriteEditor","toRemove","children","removeChild","currImg","startImage","spriteEditor","getElementsByClassName","setSizePresets","addKeyListeners","onClose","onPlay","gp","galleryProps","base","defaultBackground","mkScreenshotAsync","bgColor","images","a","loadImageAsync","background","imgData","getImageData","toReplace","colorToArray","putImageData","uri","onload","onerror","IsGameModderState","userImages","moddableImages","CALL_TO_ACTION","img2Rows","imgTxt","rows2img","resizeUp","targW","targH","oldW","oldH","left2add","top2add","numL","numR","l","repeat","o","addCols","numT","len","newR","Array","_","addRows","resizeTo24x24","mirror","reverse","SAMPLE_CHARACTERS","SAMPLE_OBSTACLES","SAMPLE_OBSTACLES2","replaceImages","sourceFile","userImage","sourceLines","replaceLines","foundMatch","GameModder","playBtn","gameModderState","imgs","CreateEmptyImageText","callToAction","default","currentImg","currentBackground","assign","k","newState","m","old","newImg","updateCurrentUserImage","save","isBackgroundTab","body","getElementsByTagName","wScale","clientWidth","hScale","clientHeight","spriteGalleryHeight","colorPickerHeight","spriteGalleryOptions","startImg","galProps","onSpriteGalleryPick","onTabChange","onBackgroundColorChanged","SE","ontouchmove","modBackground","modBackgroundTs","modImg","bin","MOD_PREFIX_LEN","BIN_PREFIX_LEN","newHex","oldToFind","oldStartIncl","oldEndExcl","oldHex","newColor","template","nw","ui","gameBinJs","gameMainTs","gameMainBlocks","user","u","screenshot","playHandler","mainTs","mainBlocks","requestAsync","client","resolved","headers","XMLHttpRequest","responseArrayBuffer","responseType","onreadystatechange","readyState","statusCode","status","buffer","responseBody","response","responseText","getAllResponseHeaders","exec","toLowerCase","method","JSON","stringify","Error","open","setRequestHeader","send","httpRequestCoreAsync","resp","allowHttpErrors","json","parse","scriptText","SocialButton","platform","shareUrl","getTwitterUrl","getFacebookUrl","encodeURIComponent","lastBinary","playTimestamp","Share","publishScript","pending","screenshotUri","mainTS","thumbnailBuffer","thumbnailMimeType","target","targetVersion","description","meta","allowGzipPost","util","publishID","shortid","copyToClipboard","input","focus","setSelectionRange","execCommand","renderShared","renderUnshared","shareLink","readOnly","autoComplete","autoCorrect","autoCapitalize","spellCheck","App","mode","setVh","vh","innerHeight","documentElement","setProperty","playGame","includeCookie","config","t","arguments","queue","f","parentNode","cookie","version","disableExceptionTracking","instrumentationKey","disableAjaxTracking","overridePageViewDuration","isCookieUseDisabled","isStorageUseDisabled","scrubUrl","addTelemetryInitializer","envelope","telemetryItem","baseData","properties","trackPageView","urlReferrer","referrer","loadAppInsights","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.b031c67c.chunk.js","sourcesContent":["export enum SimulatorButton {\n    A,\n    B,\n    Up,\n    Down,\n    Left,\n    Right,\n    Menu,\n    Reset\n}\n\ninterface SimulatorMessage {\n    type: string;\n}\n\ninterface SimulatorReadyMessage extends SimulatorMessage {\n    type: \"ready\";\n}\n\ninterface SimulatorRestartMessage extends SimulatorMessage {\n    type: \"simulator\";\n    command: \"restart\";\n}\n\ninterface SimulatorRunMessage extends SimulatorMessage {\n    type: \"run\";\n    code: string;\n}\n\ninterface SimulatorButtonMessage extends SimulatorMessage {\n    type: \"button-pressed\"\n    button: SimulatorButton;\n    pressed: boolean;\n}\n\ntype SentMessage = SimulatorRunMessage | SimulatorButtonMessage;\ntype ReceivedMessage = SimulatorReadyMessage | SimulatorRestartMessage;\n\n// No trailing slash!!!\nconst baseurl = \"https://trg-arcade.userpxt.io/beta---simulator\"\n\nexport class Simulator {\n    protected frame: HTMLIFrameElement | undefined;\n    protected buttonState: boolean[] = [];\n\n    protected changeListeners: ((button: SimulatorButton, pressed: boolean) => void)[] = [];\n    protected framePromise: Deferrable;\n    protected readyPromise: Deferrable;\n\n    protected lastRunBinary: string;\n\n    constructor(frame?: HTMLIFrameElement) {\n        this.frame = frame;\n\n        window.addEventListener(\"message\", this.messageHandler);\n    }\n\n    setFrame(frame: HTMLIFrameElement | null) {\n        if (frame) {\n            this.frame = frame;\n            if (this.framePromise) this.framePromise.resolve();\n        }\n    }\n\n    pressButton(button: SimulatorButton) {\n        if (!this.buttonState[button]) {\n            this.sendButtonState(button, true);\n        }\n    }\n\n    releaseButton(button: SimulatorButton) {\n        if (this.buttonState[button]) {\n            this.sendButtonState(button, false);\n        }\n    }\n\n    isPressed(button: SimulatorButton) {\n        return !!this.buttonState[button];\n    }\n\n    addChangeListener(cb: (button: SimulatorButton, pressed: boolean) => void) {\n        if (this.changeListeners.indexOf(cb) === -1) {\n            this.changeListeners.push(cb);\n        }\n    }\n\n    removeChangeListener(cb: (button: SimulatorButton, pressed: boolean) => void) {\n        const index = this.changeListeners.indexOf(cb);\n        if (index !== -1) {\n            this.changeListeners.splice(index, 1);\n        }\n    }\n\n    runCode(binaryjs: string) {\n        this.lastRunBinary = binaryjs;\n\n        this.waitForSimFrameAsync()\n            .then(() => {\n                this.readyPromise = undefined;\n\n                const id = `sim-frame-${Math.random() * 1000000}`;\n                this.frame.setAttribute(\"id\", id);\n                this.frame.src = `${baseurl}?justscreen=1&run=${id}#${id}`;\n\n                this.waitForSimReadyAsync()\n                    .then(() => {\n                        this.sendMessage({\n                            type: \"run\",\n                            code: binaryjs\n                        });\n                    });\n            })\n    }\n\n    dispose() {\n        window.removeEventListener(\"message\", this.messageHandler);\n    }\n\n    protected sendButtonState(button: SimulatorButton, pressed: boolean) {\n        this.updateButtonState(button, pressed);\n        this.sendMessage({\n            type: \"button-pressed\",\n            button,\n            pressed\n        });\n    }\n\n    protected updateButtonState(button: SimulatorButton, pressed: boolean) {\n        if ((!!this.buttonState[button]) !== pressed) {\n            this.buttonState[button] = pressed;\n            this.changeListeners.forEach(cb => cb(button, pressed));\n        }\n    }\n\n    protected sendMessage(msg: SentMessage) {\n        if (this.frame && this.frame.contentWindow) {\n            this.frame.contentWindow.postMessage(msg, \"*\");\n        }\n    }\n\n    protected handleMessage(msg: ReceivedMessage) {\n        switch (msg.type) {\n            case \"ready\":\n                if (this.readyPromise) this.readyPromise.resolve();\n                break;\n            case \"simulator\":\n                if (msg.command === \"restart\") this.runCode(this.lastRunBinary);\n        }\n    }\n\n    protected messageHandler = (ev: MessageEvent) => {\n        const msg = ev.data as ReceivedMessage;\n        this.handleMessage(msg);\n    }\n\n    protected waitForSimFrameAsync() {\n        if (this.frame) return Promise.resolve();\n        if (this.framePromise) return this.framePromise.promise;\n\n        this.framePromise = new Deferrable();\n\n        return this.framePromise.promise;\n    }\n\n    protected waitForSimReadyAsync() {\n        if (this.readyPromise) return this.readyPromise.promise;\n\n        this.readyPromise = new Deferrable();\n\n        return this.readyPromise.promise;\n    }\n}\n\nclass Deferrable {\n    promise: Promise<void>;\n    protected _resolve: () => void;\n    protected _reject: (reason?: any) => void;\n\n    constructor() {\n        this.promise = new Promise((resolve, reject) => {\n            this._resolve = resolve;\n            this._reject = reject;\n        });\n    }\n\n    resolve() {\n        if (this._resolve) this._resolve();\n        this._resolve = undefined;\n        this._reject = undefined;\n    }\n\n    reject() {\n        if (this._reject) this._reject();\n        this._resolve = undefined;\n        this._reject = undefined;\n    }\n\n    isFinished() {\n        return !this._resolve;\n    }\n}","import React from 'react';\nimport \"../css/SimFrame.css\";\nimport { Simulator } from './simulator';\n\n// https://arcade.makecode.com/beta/--run?fullscreen=1&nofooter=1&id=13415-29846-81435-24572\n\nexport interface SimFrameProps {\n    simulator: Simulator;\n}\n\nconst SimFrame: React.FC<SimFrameProps> = props => {\n    return (\n        <div className=\"game-embed\">\n            <iframe ref={ref => props.simulator.setFrame(ref)} className=\"game-embed-frame\" title=\"MakeCode Arcade Simulator\" allow=\"autoplay\" sandbox=\"allow-same-origin allow-scripts\" />\n        </div>\n    );\n}\n\n\nexport default SimFrame;","import React from 'react';\n\nimport { Simulator, SimulatorButton } from \"./simulator\";\n\nimport '../css/Joystick.css';\n\nexport interface JoystickProps {\n    simulator: Simulator;\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nconst SVG_WIDTH = 40;\nconst HALF_WIDTH = SVG_WIDTH >> 1;\n\nexport class Joystick extends React.Component<JoystickProps, {}> {\n    protected dPadUp: SVGRectElement | undefined;\n    protected dPadDown: SVGRectElement | undefined;\n    protected dPadLeft: SVGRectElement | undefined;\n    protected dPadRight: SVGRectElement | undefined;\n    protected joystickHandle: SVGCircleElement | undefined;\n\n    protected joystickAnimation: number | undefined;\n\n    protected handleX = SVG_WIDTH >> 1;\n    protected handleY = SVG_WIDTH >> 1;\n    protected lastOctet: number | undefined;\n\n    componentDidMount() {\n        this.dPadUp = this.refs[\"dpad-up\"] as SVGRectElement;\n        this.dPadDown = this.refs[\"dpad-down\"] as SVGRectElement;\n        this.dPadLeft = this.refs[\"dpad-left\"] as SVGRectElement;\n        this.dPadRight = this.refs[\"dpad-right\"] as SVGRectElement;\n        this.joystickHandle = this.refs[\"joystick-handle\"] as SVGCircleElement;\n\n        this.bindEvents(this.refs[\"joystick-bounds\"] as HTMLDivElement);\n\n        this.props.simulator.addChangeListener(this.buttonChangeListener);\n    }\n\n    componentWillUnmount() {\n        this.dPadUp = undefined;\n        this.dPadDown = undefined;\n        this.dPadLeft = undefined;\n        this.dPadRight = undefined;\n        this.joystickHandle = undefined;\n\n        this.props.simulator.removeChangeListener(this.buttonChangeListener);\n    }\n\n    render() {\n        const { changeMode } = this.props;\n        return (\n            <div ref=\"joystick-container\" className=\"game-joystick\">\n                <div className=\"spacer\" />\n                <div className=\"action-button\">\n                    <button className=\"share-mod-button\" onClick={() => changeMode(\"mod\")}>Mod</button>\n                </div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" ref=\"joystick-bounds\" className=\"game-joystick-svg\" viewBox=\"1 0 40 40\" width=\"200px\" height=\"200px\">\n                    <circle id=\"joystick-background\" cx=\"20\" cy=\"20\" r=\"16\" fill=\"#397382\" stroke=\"#397382\" strokeWidth=\"2\"/>\n                    <rect ref=\"dpad-up\" x=\"16\" y=\"6\" width=\"8\" height=\"12\" rx=\"2\" fill=\"#cecece\" stroke=\"none\" strokeWidth=\"1\" />\n                    <rect ref=\"dpad-down\" x=\"16\" y=\"22\" width=\"8\" height=\"12\" rx=\"2\" fill=\"#cecece\" stroke=\"none\" strokeWidth=\"1\" />\n                    <rect ref=\"dpad-right\" x=\"22\" y=\"16\" width=\"12\" height=\"8\" ry=\"2\" fill=\"#cecece\" stroke=\"none\" strokeWidth=\"1\" />\n                    <rect ref=\"dpad-left\" x=\"6\" y=\"16\" width=\"12\" height=\"8\" ry=\"2\" fill=\"#cecece\" stroke=\"none\" strokeWidth=\"1\" />\n                    <circle cx=\"20\" cy=\"20\" r=\"6\" fill=\"#cecece\" />\n                    <circle ref=\"joystick-handle\" cx=\"20\" cy=\"20\" r=\"6\" fill=\"#333\" stroke=\"#999\" strokeWidth=\"2\" />\n                </svg>\n            </div>\n        )\n    }\n\n    protected buttonChangeListener = (button: SimulatorButton, isPressed: boolean) => {\n        switch (button) {\n            case SimulatorButton.Down:\n                this.updateDirection(this.dPadDown, isPressed);\n                break;\n            case SimulatorButton.Up:\n                this.updateDirection(this.dPadUp, isPressed);\n                break;\n            case SimulatorButton.Left:\n                this.updateDirection(this.dPadLeft, isPressed);\n                break;\n            case SimulatorButton.Right:\n                this.updateDirection(this.dPadRight, isPressed);\n                break;\n        }\n    }\n\n    protected updateDirection(button: SVGRectElement | undefined, isPressed: boolean) {\n        if (button) {\n            button.setAttribute(\"fill\", isPressed ? \"#249ca3\" : \"#cecece\");\n        }\n    }\n\n    protected bindEvents(div: HTMLDivElement) {\n        if (!div) return;\n\n        if (hasPointerEvents()) {\n            this.bindPointerEvents(div);\n        }\n        else if (isTouchEnabled()) {\n            this.bindTouchEvents(div);\n        }\n        else {\n            this.bindMouseEvents(div);\n        }\n    }\n\n    protected bindPointerEvents(div: HTMLDivElement) {\n        let inGesture = false;\n\n        div.addEventListener(\"pointerup\", ev => {\n            if (inGesture) {\n                this.updateJoystickDrag(ev.clientX, ev.clientY);\n                this.startAnimation();\n            }\n            inGesture = false;\n        });\n\n        div.addEventListener(\"pointerdown\", ev => {\n            this.updateJoystickDrag(ev.clientX, ev.clientY);\n            inGesture = true\n        });\n\n        div.addEventListener(\"pointermove\", ev => {\n            if (inGesture) this.updateJoystickDrag(ev.clientX, ev.clientY);\n        });\n\n        div.addEventListener(\"pointerleave\", ev => {\n            if (inGesture) {\n                this.updateJoystickDrag(ev.clientX, ev.clientY);\n                this.startAnimation();\n            }\n            inGesture = false;\n        });\n    }\n\n    protected bindMouseEvents(div: HTMLDivElement) {\n        let inGesture = false;\n\n        div.addEventListener(\"mouseup\", ev => {\n            if (inGesture) {\n                this.updateJoystickDrag(ev.clientX, ev.clientY);\n                this.startAnimation();\n            }\n            inGesture = false;\n        });\n\n        div.addEventListener(\"mousedown\", ev => {\n            this.updateJoystickDrag(ev.clientX, ev.clientY);\n            inGesture = true\n        });\n\n        div.addEventListener(\"mousemove\", ev => {\n            if (inGesture) this.updateJoystickDrag(ev.clientX, ev.clientY);\n        });\n\n        div.addEventListener(\"mouseleave\", ev => {\n            if (inGesture) {\n                this.updateJoystickDrag(ev.clientX, ev.clientY);\n                this.startAnimation();\n            }\n            inGesture = false;\n        });\n    }\n\n    protected bindTouchEvents(div: HTMLDivElement) {\n        let touchIdentifier: number | undefined;\n\n        div.addEventListener(\"touchend\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.updateJoystickDrag(touch.clientX, touch.clientY);\n                    this.startAnimation();\n                    ev.preventDefault();\n                }\n            }\n            touchIdentifier = undefined;\n        });\n\n        div.addEventListener(\"touchstart\", ev => {\n            touchIdentifier = ev.changedTouches[0].identifier;\n            this.updateJoystickDrag(ev.changedTouches[0].clientX, ev.changedTouches[0].clientY);\n        });\n\n        div.addEventListener(\"touchmove\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.updateJoystickDrag(touch.clientX, touch.clientY);\n                    ev.preventDefault();\n                }\n            }\n        });\n\n        div.addEventListener(\"touchcancel\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.updateJoystickDrag(touch.clientX, touch.clientY);\n                    this.startAnimation();\n                }\n            }\n            touchIdentifier = undefined;\n        });\n    }\n\n    protected updateJoystickDrag(x: number, y: number) {\n        if (this.joystickHandle) {\n            const bounds = (this.refs[\"joystick-bounds\"] as HTMLDivElement).getBoundingClientRect();\n\n            const dx = ((x - bounds.left) * (SVG_WIDTH / bounds.width)) - HALF_WIDTH;\n            const dy = ((y - bounds.top) * (SVG_WIDTH / bounds.height)) - HALF_WIDTH;\n\n            const angle = Math.atan2(dy, dx);\n            const distance = Math.min(Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2)), 10);\n\n            this.setHandlePosition(HALF_WIDTH + distance * Math.cos(angle), HALF_WIDTH + distance * Math.sin(angle));\n        }\n    }\n\n    protected startAnimation() {\n        this.clearButtonPresses();\n        if (this.joystickHandle) {\n            this.stopAnimation();\n\n            const animationFrame = () => {\n                let distance = this.getHandleDistance();\n\n                if (distance < 0.5) {\n                    this.setHandlePosition(HALF_WIDTH, HALF_WIDTH, true);\n                    this.stopAnimation();\n                }\n                else {\n                    const angle = this.getHandleAngle();\n                    distance = Math.max(distance - 1, 0);\n                    this.setHandlePosition(HALF_WIDTH + distance * Math.cos(angle), HALF_WIDTH + distance * Math.sin(angle), true);\n                    this.joystickAnimation = requestAnimationFrame(animationFrame);\n                }\n            }\n\n            this.joystickAnimation = requestAnimationFrame(animationFrame);\n        }\n    }\n\n    protected stopAnimation() {\n        if (this.joystickAnimation) {\n            cancelAnimationFrame(this.joystickAnimation);\n            this.joystickAnimation = undefined;\n        }\n    }\n\n    /**\n     *\n     * @param x The x location in SVG coordinates\n     * @param y The y location in SVG coordinates\n     */\n    protected setHandlePosition(x: number, y: number, animation = false) {\n        if (this.joystickHandle) {\n            this.joystickHandle.setAttribute(\"cx\", \"\" + x)\n            this.joystickHandle.setAttribute(\"cy\", \"\" + y)\n\n            this.handleX = x;\n            this.handleY = y;\n\n            if (!animation) {\n                if (this.getHandleDistance() < 5) {\n                    this.clearButtonPresses();\n                }\n                else {\n                    const { simulator } = this.props;\n                    const angle = this.getHandleAngle();\n                    const octet = (5 + Math.floor((angle / (Math.PI / 4)) - 0.5)) % 8;\n\n                    if (octet === this.lastOctet) return;\n                    this.lastOctet = octet;\n\n                    let left = false;\n                    let right = false;\n                    let up = false;\n                    let down = false;\n\n                    switch (octet) {\n                        case 0:\n                            left = true;\n                            break;\n                        case 1:\n                            left = true;\n                            up = true;\n                            break;\n                        case 2:\n                            up = true;\n                            break;\n                        case 3:\n                            up = true;\n                            right = true;\n                            break;\n                        case 4:\n                            right = true;\n                            break;\n                        case 5:\n                            right = true;\n                            down = true;\n                            break;\n                        case 6:\n                            down = true;\n                            break;\n                        case 7:\n                            left = true;\n                            down = true;\n                            break;\n                    }\n\n                    if (down) simulator.pressButton(SimulatorButton.Down);\n                    else simulator.releaseButton(SimulatorButton.Down);\n\n                    if (up) simulator.pressButton(SimulatorButton.Up);\n                    else simulator.releaseButton(SimulatorButton.Up);\n\n                    if (left) simulator.pressButton(SimulatorButton.Left);\n                    else simulator.releaseButton(SimulatorButton.Left);\n\n                    if (right) simulator.pressButton(SimulatorButton.Right);\n                    else simulator.releaseButton(SimulatorButton.Right);\n                }\n            }\n        }\n    }\n\n    protected getHandleAngle() {\n        return Math.atan2(this.handleY - HALF_WIDTH, this.handleX - HALF_WIDTH);;\n    }\n\n    protected getHandleDistance() {\n        return Math.sqrt(Math.pow(this.handleX - HALF_WIDTH, 2) + Math.pow(this.handleY - HALF_WIDTH, 2));\n    }\n\n    protected clearButtonPresses() {\n        const { simulator } = this.props;\n        simulator.releaseButton(SimulatorButton.Down);\n        simulator.releaseButton(SimulatorButton.Up);\n        simulator.releaseButton(SimulatorButton.Left);\n        simulator.releaseButton(SimulatorButton.Right);\n        this.lastOctet = undefined;\n    }\n}\n\nfunction hasPointerEvents(): boolean {\n    return typeof window != \"undefined\" && !!(window as any).PointerEvent;\n}\n\nfunction isTouchEnabled(): boolean {\n    return typeof window !== \"undefined\" &&\n        ('ontouchstart' in window                              // works on most browsers\n            || (navigator && navigator.maxTouchPoints > 0));       // works on IE10/11 and Surface);\n}\n\nfunction getTouch(ev: TouchEvent, identifier: number) {\n    for (let i = 0; i < ev.changedTouches.length; i++) {\n        if (ev.changedTouches[i].identifier === identifier) {\n            return ev.changedTouches[i];\n        }\n    }\n\n    return undefined;\n}\n\nexport default Joystick;","import React from 'react';\n\nimport '../css/GameButtons.css';\nimport { Simulator, SimulatorButton } from './simulator';\n\nexport interface GameButtonsProps {\n    simulator: Simulator;\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nconst SVG_WIDTH = 40;\n\nclass GameButtons extends React.Component<GameButtonsProps, {}>  {\n    protected aButton: SVGCircleElement | undefined;\n    protected aLabel: SVGTextElement | undefined;\n    protected bButton: SVGCircleElement | undefined;\n    protected bLabel: SVGTextElement | undefined;\n\n    componentDidMount() {\n        this.aButton = this.refs[\"button-a\"] as SVGCircleElement;\n        this.aLabel = this.refs[\"label-a\"] as SVGTextElement;\n        this.bButton = this.refs[\"button-b\"] as SVGCircleElement;;\n        this.bLabel = this.refs[\"label-b\"] as SVGTextElement;\n\n        this.bindEvents(this.refs[\"button-bounds\"] as HTMLElement)\n    }\n\n    componentWillUnmount() {\n        this.aButton = undefined;\n        this.aLabel = undefined;\n        this.bButton = undefined;\n        this.bLabel = undefined;\n    }\n\n    render() {\n        const { changeMode } = this.props;\n        return (\n            <div className=\"game-buttons\">\n                <div className=\"spacer\" />\n                <div className=\"action-button\">\n                    <button className=\"share-mod-button\" onClick={() => changeMode(\"share\")}>Share</button>\n                </div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" ref=\"button-bounds\" className=\"game-button-svg\" viewBox=\"0 0 40 40\" width=\"200px\" height=\"200px\">\n                    <circle ref=\"button-b\" cx=\"13\" cy=\"28\" r=\"9\" fill=\"#333\" stroke=\"#397382\" strokeWidth=\"2.5\" />\n                    <text ref=\"label-b\" x=\"13\" y=\"28\" textAnchor=\"middle\" dy=\"2.5\" fontSize=\"8\">B</text>\n                    <circle ref=\"button-a\" cx=\"28\" cy=\"11\" r=\"9\" fill=\"#333\" stroke=\"#397382\" strokeWidth=\"2.5\" />\n                    <text ref=\"label-a\" x=\"28\" y=\"11\" textAnchor=\"middle\" dy=\"2.5\" fontSize=\"8\">A</text>\n                </svg>\n            </div>\n        )\n    }\n\n    protected updateButtonGesture(x: number, y: number) {\n        const bounds = (this.refs[\"button-bounds\"] as HTMLDivElement).getBoundingClientRect();\n\n        const dx = ((x - bounds.left) * (SVG_WIDTH / bounds.width));\n        const dy = ((y - bounds.top) * (SVG_WIDTH / bounds.height));\n\n        const aDistance = Math.sqrt(Math.pow(dx - 30, 2) + Math.pow(dy - 13, 2));\n        const bDistance = Math.sqrt(Math.pow(dx - 15, 2) + Math.pow(dy - 28, 2));\n\n        this.setButtonState(SimulatorButton.A, aDistance < 8)\n        this.setButtonState(SimulatorButton.B, bDistance < 8)\n    }\n\n    protected clearButtonPresses() {\n        this.setButtonState(SimulatorButton.A, false);\n        this.setButtonState(SimulatorButton.B, false);\n    }\n\n    protected setButtonState(button: SimulatorButton, pressed: boolean) {\n        const isAButton = button === SimulatorButton.A;\n        const circle = isAButton ? this.aButton : this.bButton;\n        const label = isAButton ? this.aLabel : this.bLabel;\n\n        if (circle && label) {\n            const pressedColor = \"#249ca3\";\n            circle.setAttribute(\"fill\", pressed ? pressedColor : \"#333\")\n            label.setAttribute(\"fill\", pressed ? \"#333\" : \"\")\n        }\n\n        const { simulator } = this.props;\n        if (pressed) simulator.pressButton(button);\n        else simulator.releaseButton(button);\n    }\n\n    protected bindEvents(div: HTMLElement) {\n        if (!div) return;\n\n        if (hasPointerEvents()) {\n            this.bindPointerEvents(div);\n        }\n        else if (isTouchEnabled()) {\n            this.bindTouchEvents(div);\n        }\n        else {\n            this.bindMouseEvents(div);\n        }\n    }\n\n    protected bindPointerEvents(div: HTMLElement) {\n        let inGesture = false;\n\n        div.addEventListener(\"pointerup\", ev => {\n            if (inGesture) {\n                this.clearButtonPresses()\n            }\n            inGesture = false;\n        });\n\n        div.addEventListener(\"pointerdown\", ev => {\n            this.updateButtonGesture(ev.clientX, ev.clientY);\n            inGesture = true\n        });\n\n        div.addEventListener(\"pointermove\", ev => {\n            if (inGesture) this.updateButtonGesture(ev.clientX, ev.clientY);\n        });\n\n        div.addEventListener(\"pointerleave\", ev => {\n            if (inGesture) {\n                this.clearButtonPresses()\n            }\n            inGesture = false;\n        });\n    }\n\n    protected bindMouseEvents(div: HTMLElement) {\n        let inGesture = false;\n\n        div.addEventListener(\"mouseup\", ev => {\n            if (inGesture) {\n                this.clearButtonPresses()\n            }\n            inGesture = false;\n        });\n\n        div.addEventListener(\"mousedown\", ev => {\n            this.updateButtonGesture(ev.clientX, ev.clientY);\n            inGesture = true\n        });\n\n        div.addEventListener(\"mousemove\", ev => {\n            if (inGesture) this.updateButtonGesture(ev.clientX, ev.clientY);\n        });\n\n        div.addEventListener(\"mouseleave\", ev => {\n            if (inGesture) {\n                this.clearButtonPresses()\n            }\n            inGesture = false;\n        });\n    }\n\n    protected bindTouchEvents(div: HTMLElement) {\n        let touchIdentifier: number | undefined;\n\n        div.addEventListener(\"touchend\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.clearButtonPresses()\n                    ev.preventDefault();\n                }\n            }\n            touchIdentifier = undefined;\n        });\n\n        div.addEventListener(\"touchstart\", ev => {\n            touchIdentifier = ev.changedTouches[0].identifier;\n            this.updateButtonGesture(ev.changedTouches[0].clientX, ev.changedTouches[0].clientY);\n        });\n\n        div.addEventListener(\"touchmove\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.updateButtonGesture(touch.clientX, touch.clientY);\n                    ev.preventDefault();\n                }\n            }\n        });\n\n        div.addEventListener(\"touchcancel\", ev => {\n            if (touchIdentifier) {\n                const touch = getTouch(ev, touchIdentifier);\n\n                if (touch) {\n                    this.clearButtonPresses();\n                }\n            }\n            touchIdentifier = undefined;\n        });\n    }\n}\n\nfunction hasPointerEvents(): boolean {\n    return typeof window != \"undefined\" && !!(window as any).PointerEvent;\n}\n\nfunction isTouchEnabled(): boolean {\n    return typeof window !== \"undefined\" &&\n        ('ontouchstart' in window                              // works on most browsers\n            || (navigator && navigator.maxTouchPoints > 0));       // works on IE10/11 and Surface);\n}\n\nfunction getTouch(ev: TouchEvent, identifier: number) {\n    for (let i = 0; i < ev.changedTouches.length; i++) {\n        if (ev.changedTouches[i].identifier === identifier) {\n            return ev.changedTouches[i];\n        }\n    }\n\n    return undefined;\n}\n\nexport default GameButtons;","import React from 'react';\n\nimport SimFrame from './SimFrame';\nimport Joystick from './Joystick';\nimport GameButtons from './GameButtons';\n\nimport '../css/GamePlayer.css';\nimport { Simulator } from './simulator';\nimport { UserProject } from './util';\n\n\nlet sim: Simulator;\n\nexport interface GamePlayerProps {\n    proj: UserProject;\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nconst GamePlayer: React.FC<GamePlayerProps> = props => {\n    if (!sim) sim = new Simulator();\n\n    sim.runCode(props.proj.binJs);\n\n    return (\n        <div className=\"game-player\">\n            <Joystick simulator={sim} changeMode={props.changeMode} />\n            <SimFrame simulator={sim} />\n            <GameButtons simulator={sim} changeMode={props.changeMode} />\n            <div className=\"game-player-background\"></div>\n            <div className=\"game-player-logo\">MAKECODE</div>\n            <div className=\"game-player-msft\"></div>\n            <div className=\"game-player-vent\"></div>\n        </div>\n    );\n}\n\nexport default GamePlayer;\n","// These are the characters used to output literals (but we support aliases for some of these)\nconst hexChars = [\".\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n\nexport interface Coord {\n    x: number,\n    y: number\n}\n\n/**\n * 16-color sprite\n */\nexport class Bitmap {\n    public buf: Uint8Array;\n\n    constructor(public width: number, public height: number, public x0 = 0, public y0 = 0) {\n        this.buf = new Uint8Array(Math.ceil(width * height / 2));\n    }\n\n    set(col: number, row: number, value: number) {\n        if (col < this.width && row < this.height && col >= 0 && row >= 0) {\n            const index = this.coordToIndex(col, row);\n            this.setCore(index, value);\n        }\n    }\n\n    get(col: number, row: number) {\n        if (col < this.width && row < this.height && col >= 0 && row >= 0) {\n            const index = this.coordToIndex(col, row);\n            return this.getCore(index);\n        }\n        return 0;\n    }\n\n    copy(col = 0, row = 0, width = this.width, height = this.height): Bitmap {\n        const sub = new Bitmap(width, height);\n        sub.x0 = col;\n        sub.y0 = row;\n        for (let c = 0; c < width; c++) {\n            for (let r = 0; r < height; r++) {\n                sub.set(c, r, this.get(col + c, row + r));\n            }\n        }\n        return sub;\n    }\n\n    apply(change: Bitmap, transparent = false) {\n        let current: number;\n        for (let c = 0; c < change.width; c++) {\n            for (let r = 0; r < change.height; r++) {\n                current = change.get(c, r);\n\n                if (!current && transparent) continue;\n                this.set(change.x0 + c, change.y0 + r, current);\n            }\n        }\n    }\n\n    equals(other: Bitmap) {\n        if (this.width === other.width && this.height === other.height && this.x0 === other.x0 && this.y0 === other.y0 && this.buf.length === other.buf.length) {\n            for (let i = 0; i < this.buf.length; i++) {\n                if (this.buf[i] !== other.buf[i]) return false;\n            }\n            return true;\n        }\n\n        return false;\n    }\n\n    protected coordToIndex(col: number, row: number) {\n        return col + row * this.width;\n    }\n\n    protected getCore(index: number) {\n        const cell = Math.floor(index / 2);\n        if (index % 2 === 0) {\n            return this.buf[cell] & 0xf;\n        }\n        else {\n            return (this.buf[cell] & 0xf0) >> 4;\n        }\n    }\n\n    protected setCore(index: number, value: number) {\n        const cell = Math.floor(index / 2);\n        if (index % 2 === 0) {\n            this.buf[cell] = (this.buf[cell] & 0xf0) | (value & 0xf);\n        }\n        else {\n            this.buf[cell] = (this.buf[cell] & 0x0f) | ((value & 0xf) << 4);\n        }\n    }\n}\n\nexport class Bitmask {\n    protected mask: Uint8Array;\n\n    constructor(public width: number, public height: number) {\n        this.mask = new Uint8Array(Math.ceil(width * height / 8));\n    }\n\n    set(col: number, row: number) {\n        const cellIndex = col + this.width * row;\n        const index = cellIndex >> 3;\n        const offset = cellIndex & 7;\n        this.mask[index] |= (1 << offset);\n    }\n\n    get(col: number, row: number) {\n        const cellIndex = col + this.width * row;\n        const index = cellIndex >> 3;\n        const offset = cellIndex & 7;\n        return (this.mask[index] >> offset) & 1;\n    }\n}\n\nexport function resizeBitmap(img: Bitmap, width: number, height: number) {\n    const result = new Bitmap(width, height);\n    result.apply(img);\n    return result;\n}\n\nexport function imageLiteralToBitmap(text: string, defaultPattern?: string): Bitmap {\n    // Strip the tagged template string business and the whitespace. We don't have to exhaustively\n    // replace encoded characters because the compiler will catch any disallowed characters and throw\n    // an error before the decompilation happens. 96 is backtick and 9 is tab\n    text = text.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:img)/g, \"\").trim();\n    text = text.replace(/^[\"`\\(\\)]*/, '').replace(/[\"`\\(\\)]*$/, '');\n    text = text.replace(/&#10;/g, \"\\n\");\n\n    if (!text && defaultPattern)\n        text = defaultPattern;\n\n    const rows = text.split(\"\\n\");\n\n    // We support \"ragged\" sprites so not all rows will be the same length\n    const sprite: number[][] = [];\n    let spriteWidth = 0;\n\n    for (let r = 0; r < rows.length; r++) {\n        const row = rows[r];\n        const rowValues: number[] = [];\n        for (let c = 0; c < row.length; c++) {\n            // This list comes from libs/screen/targetOverrides.ts in pxt-arcade\n            // Technically, this could change per target.\n            switch (row[c]) {\n                case \"0\": case \".\": rowValues.push(0); break;\n                case \"1\": case \"#\": rowValues.push(1); break;\n                case \"2\": case \"T\": rowValues.push(2); break;\n                case \"3\": case \"t\": rowValues.push(3); break;\n                case \"4\": case \"N\": rowValues.push(4); break;\n                case \"5\": case \"n\": rowValues.push(5); break;\n                case \"6\": case \"G\": rowValues.push(6); break;\n                case \"7\": case \"g\": rowValues.push(7); break;\n                case \"8\": rowValues.push(8); break;\n                case \"9\": rowValues.push(9); break;\n                case \"a\": case \"A\": case \"R\": rowValues.push(10); break;\n                case \"b\": case \"B\": case \"P\": rowValues.push(11); break;\n                case \"c\": case \"C\": case \"p\": rowValues.push(12); break;\n                case \"d\": case \"D\": case \"O\": rowValues.push(13); break;\n                case \"e\": case \"E\": case \"Y\": rowValues.push(14); break;\n                case \"f\": case \"F\": case \"W\": rowValues.push(15); break;\n            }\n        }\n\n        if (rowValues.length) {\n            sprite.push(rowValues);\n            spriteWidth = Math.max(spriteWidth, rowValues.length);\n        }\n    }\n\n    const spriteHeight = sprite.length;\n\n    const result = new Bitmap(spriteWidth, spriteHeight)\n\n    for (let r = 0; r < spriteHeight; r++) {\n        const row = sprite[r];\n        for (let c = 0; c < spriteWidth; c++) {\n            if (c < row.length) {\n                result.set(c, r, row[c]);\n            }\n            else {\n                result.set(c, r, 0);\n            }\n        }\n    }\n\n    return result;\n}\n\nexport function bitmapToImageLiteral(bitmap: Bitmap): string {\n    let res = \"img`\";\n\n\n    if (bitmap) {\n        for (let r = 0; r < bitmap.height; r++) {\n            res += \"\\n\"\n            for (let c = 0; c < bitmap.width; c++) {\n                res += hexChars[bitmap.get(c, r)] + \" \";\n            }\n        }\n    }\n\n    res += \"\\n\";\n    res += \"`\";\n    return res;\n}","import { Bitmap, bitmapToImageLiteral, imageLiteralToBitmap } from \"./sprite-editor/bitmap\";\n\nexport function f4EncodeImg(w: number, h: number, bpp: number, getPix: (x: number, y: number) => number) {\n    let r = hex2(0xe0 | bpp) + hex2(w) + hex2(h) + \"00\"\n    let ptr = 4\n    let curr = 0\n    let shift = 0\n\n    let pushBits = (n: number) => {\n        curr |= n << shift\n        if (shift == 8 - bpp) {\n            r += hex2(curr)\n            ptr++\n            curr = 0\n            shift = 0\n        } else {\n            shift += bpp\n        }\n    }\n\n    for (let i = 0; i < w; ++i) {\n        for (let j = 0; j < h; ++j)\n            pushBits(getPix(i, j))\n        while (shift != 0)\n            pushBits(0)\n        if (bpp > 1) {\n            while (ptr & 3)\n                pushBits(0)\n        }\n    }\n\n    return r\n\n    function hex2(n: number) {\n        return (\"0\" + n.toString(16)).slice(-2)\n    }\n}\n\nexport function f4PreProcess(s: string) {\n    let matrix: number[][] = []\n    let line: number[] = []\n    let tbl: { [k: string]: number } = {}\n    let maxLen = 0\n    // attrs.groups.forEach((str, n) => {\n    //     for (let c of str) tbl[c] = n\n    // })\n    s += \"\\n\"\n    for (let i = 0; i < s.length; ++i) {\n        let c = s[i]\n        switch (c) {\n            case ' ':\n            case '\\t':\n                break\n            case '\\n':\n                if (line.length > 0) {\n                    matrix.push(line)\n                    maxLen = Math.max(line.length, maxLen)\n                    line = []\n                }\n                break\n            default:\n                let v = tbl[c] // U.lookup(tbl, c) //TODO(dz):\n                if (v == null) {\n                    //     if (attrs.groups.length == 2)\n                    // v = 1 // default anything non-zero to one\n                    //     else\n                    //         throw unhandled(node, lf(\"invalid character in image literal: '{0}'\", v), 9273)\n                }\n                line.push(v)\n                break\n        }\n    }\n\n    let bpp = 8\n    // if (attrs.groups.length <= 2) {\n    //     bpp = 1\n    // } else if (attrs.groups.length <= 16) {\n    bpp = 4 // TODO:\n    // }\n    return f4EncodeImg(maxLen, matrix.length, bpp, (x, y) => matrix[y][x] || 0)\n}\n\nexport function toNumbers(colors: string[]): number[][] {\n    const res: number[][] = [];\n    for (let i = 0; i < colors.length; i++) {\n        const color = parseColorString(colors[i]);\n        res.push([_r(color), _g(color), _b(color)]);\n    }\n    return res;\n}\n\nfunction parseColorString(color: string) {\n    if (color) {\n        if (color.length === 6) {\n            return parseInt(\"0x\" + color);\n        }\n        else if (color.length === 7) {\n            return parseInt(\"0x\" + color.substr(1));\n        }\n    }\n    return 0;\n}\n\nfunction _r(color: number) { return (color >> 16) & 0xff }\nfunction _g(color: number) { return (color >> 8) & 0xff }\nfunction _b(color: number) { return color & 0xff }\n\nconst defaultPalletColors = [\n    \"#000000\",\n    \"#ffffff\",\n    \"#ff2121\",\n    \"#ff93c4\",\n    \"#ff8135\",\n    \"#fff609\",\n    \"#249ca3\",\n    \"#78dc52\",\n    \"#003fad\",\n    \"#87f2ff\",\n    \"#8e2ec4\",\n    \"#a4839f\",\n    \"#5c406c\",\n    \"#e5cdc4\",\n    \"#91463d\",\n    \"#000000\"\n]\nexport const defaultColorArray = toNumbers(defaultPalletColors);\n\nfunction scale_color(v: number) {\n    return v * v\n}\nexport function textToBinHex(text: string): string {\n    // TODO(dz): does this behave different than a roundtrip through Bitmap?\n    return f4PreProcess(text)\n}\nexport function bitmapToBinHex(bitmap: Bitmap): string {\n    // return f4PreProcess(\n    return f4EncodeImg(bitmap.width, bitmap.height, 4, bitmap.get.bind(bitmap))\n}\nexport function bitmapToText(bmp: Bitmap): string {\n    return bitmapToImageLiteral(bmp);\n}\nexport function textToBitmap(text: string): Bitmap {\n    const bmp = imageLiteralToBitmap(text);\n\n    // Ignore invalid bitmaps\n    if (bmp && bmp.width && bmp.height) {\n        return bmp\n    } else {\n        return null;\n    }\n}\n\nexport function bitmapToCanvas(bmp: Bitmap, scale: number = 4) {\n    const colors = defaultPalletColors.slice(1)\n    // const canvas = document.createElementNS(\"http://www.w3.org/2000/svg\", \"canvas\");\n    const canvas = document.createElement(\"canvas\");\n    let width = canvas.width = bmp.width * scale;\n    let height = canvas.height = bmp.height * scale;\n\n    let cellSize = scale\n\n    // TODO: Center the image if it isn't square\n    const xOffset = 0\n    const yOffset = 0\n\n    let context: CanvasRenderingContext2D;\n    context = canvas.getContext(\"2d\");\n\n    for (let c = 0; c < bmp.width; c++) {\n        for (let r = 0; r < bmp.height; r++) {\n            const color = bmp.get(c, r);\n\n            if (color) {\n                context.fillStyle = colors[color - 1];\n                context.fillRect(xOffset + c * cellSize, yOffset + r * cellSize, cellSize, cellSize);\n            }\n        }\n    }\n\n    return canvas;\n}\nexport function bitmapToUrl(bmp: Bitmap): string {\n    return bitmapToCanvas(bmp).toDataURL();\n}\n\nexport function createPngImg(x: number, y: number, w: number, h: number, bmp?: Bitmap): SVGImageElement {\n    let img = document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\")\n    img.setAttribute(\"x\", `${x}`)\n    img.setAttribute(\"y\", `${y}`)\n    img.setAttribute(\"width\", `${w}px`)\n    img.setAttribute(\"height\", `${h}px`)\n    if (bmp) {\n        updatePngImg(img, bmp)\n    }\n    return img\n}\n\nexport function updatePngImg(img: SVGImageElement, bmp: Bitmap) {\n    let imgData = bitmapToUrl(bmp)\n    img.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", `${imgData}`)\n}\n\nexport function isEmptyBitmap(bmp: Bitmap) {\n    for (let x = 0; x < bmp.width; x++) {\n        for (let y = 0; y < bmp.height; y++) {\n            if (bmp.get(x, y)) return false;\n        }\n    }\n    return true;\n}","import React from 'react';\n\nimport { Bitmap } from '../sprite-editor/bitmap';\n\nimport '../css/TabBar.css';\nimport { bitmapToUrl } from '../bitmap_helpers';\n\ninterface TabBarProps {\n    tabImages: Bitmap[],\n    tabChange: (idx: number) => void,\n    startTab: number\n}\ninterface TabBarState {\n    currentTab: number\n}\n\nconst R = 10\nconst ICON_H = 64\nconst ICON_W = 64\nconst TAB_MARGIN_T = 10\nconst TAB_MARGIN_B = 2\nconst SVG_W = 541\nconst TAB_SVG_H = R * 2 + ICON_H + TAB_MARGIN_T + TAB_MARGIN_B\nconst IMG_SPACE = R * 2 + ICON_W\nconst OUT = TAB_MARGIN_T + TAB_MARGIN_B + 5\nconst TOTAL_TAB_W = R * 4 + ICON_W\n\nexport class TabBar extends React.Component<TabBarProps, TabBarState>\n{\n    public TabBarSvg: SVGSVGElement | undefined;\n\n    private TOTAL_IMG_SPACE: number;\n    private LEFT_SPACE: number;\n    private TABS_START: number;\n\n    constructor(props: TabBarProps) {\n        super(props);\n\n        this.state = {\n            currentTab: props.startTab\n        }\n\n        this.TOTAL_IMG_SPACE = IMG_SPACE * this.props.tabImages.length\n        this.LEFT_SPACE = (SVG_W - this.TOTAL_IMG_SPACE) / 2\n        this.TABS_START = this.LEFT_SPACE - R\n    }\n\n    componentDidMount() {\n        this.TabBarSvg = this.refs[\"tab-bar-svg\"] as SVGSVGElement\n    }\n    componentWillUnmount() {\n        this.TabBarSvg = undefined\n    }\n\n    getTabPath(idx: number): string {\n        let tabW = ICON_W + R * 2\n        let tabStart = this.TABS_START + tabW * idx\n        let tabFinish = SVG_W - (tabStart + tabW)\n        let tabPath = `M -${OUT},${(TAB_SVG_H - TAB_MARGIN_B) + OUT} l 0,-${OUT} l ${OUT},0 h ${tabStart} q ${R},0 ${R},-${R} v -${ICON_H} q 0,-${R} ${R},-${R} h ${ICON_W} q ${R},0 ${R},${R} v ${ICON_H} q 0,${R} ${R},${R} h ${tabFinish} l ${OUT},0 l 0,${OUT} z`\n        return tabPath\n    }\n\n    render() {\n        const viewBox = `0 0 ${SVG_W} ${TAB_SVG_H}`\n        const tabPath = this.getTabPath(this.state.currentTab)\n        const tabImgs = this.props.tabImages\n            .map((img, i) => {\n                return {\n                    x: this.TABS_START + R + R + i * IMG_SPACE,\n                    y: TAB_MARGIN_T + R,\n                    w: ICON_W,\n                    h: ICON_H,\n                    idx: i,\n                    data: bitmapToUrl(img)\n                }\n            })\n        function clickHandler(this: TabBar, idx: number) {\n            this.setState({ currentTab: idx })\n            this.props.tabChange(idx)\n        }\n        return (\n            <div ref=\"tab-bar\" className=\"tab-bar\">\n                <svg ref=\"tab-bar-svg\" viewBox={viewBox}>\n                    <path ref=\"tab-path\" d={tabPath}>\n                    </path>\n                    {tabImgs.map(i =>\n                        <image key={i.idx} x={i.x} y={i.y}\n                            width={i.w} height={i.h}\n                            href={i.data}\n                            onClick={clickHandler.bind(this, i.idx)}></image>)}\n                </svg>\n            </div>\n        );\n    }\n}\n\nexport default TabBar;\n","import React, { CSSProperties } from 'react';\n\nimport '../css/ColorPicker.css';\nimport { textToBitmap, bitmapToUrl } from '../bitmap_helpers';\n\ninterface ColorPickerProps {\n    height: number,\n    colors: string[],\n    selected: number,\n    selectionChanged: (idx: number) => void,\n}\ninterface ColorPickerState {\n    selection: number\n}\n\ninterface SwatchProps {\n    color: string,\n    selected: boolean,\n    onClick: () => void\n}\nconst Swatch: React.FC<SwatchProps> = (props: SwatchProps) => {\n    let style: CSSProperties = {\n        backgroundColor: props.color\n    }\n    let classes = `swatch ${props.selected ? \"selected\" : \"\"}`\n    let backgroundImg = bitmapToUrl(SAMPLE_TREE)\n    return (\n        <div className={classes} style={style} onClick={props.onClick}>\n            <img src={backgroundImg}>\n            </img>\n        </div>\n    );\n}\nexport class ColorPicker extends React.Component<ColorPickerProps, ColorPickerState>\n{\n    private colorPicker: HTMLDivElement | undefined;\n\n    constructor(props: ColorPickerProps) {\n        super(props);\n\n        this.state = {\n            selection: this.props.selected\n        }\n\n    }\n\n    componentDidMount() {\n        this.colorPicker = this.refs[\"color-picker\"] as HTMLDivElement\n\n        // this.colorPicker.setAttribute(\"style\", `height:${this.props.height}px`)\n    }\n    componentWillUnmount() {\n        this.colorPicker = undefined\n    }\n\n    clickHandler(idx: number) {\n        this.props.selectionChanged(idx)\n        this.setState({ selection: idx })\n    }\n\n    render() {\n        let swatchs = this.props.colors\n            .map((c, i) =>\n                <Swatch key={`swatch-${i}`} color={c} selected={i == this.state.selection}\n                    onClick={this.clickHandler.bind(this, i)}></Swatch>\n            )\n\n        return (\n            <div ref=\"color-picker\"\n                className=\"color-picker\">\n                {swatchs}\n            </div>\n        );\n    }\n}\n\nexport default ColorPicker;\n\nconst TREES = [`\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b . . b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b . b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . b b b b b . . b b b b b . b b b b . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . b b b . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b . b b . . . . . . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . b b b b b b . . b b b b . b b b . . . . . . . . . . .\n        . . . . . . . . . . b b b b b . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . b b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . b b b b . b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . b b . . . . b b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . b b b b b b b b b b b b b b b b b b b b b b b . . . . . .\n        . . . . . . b b b b b b b b . . . b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n   `, `\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b . b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b . . b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . b b b b . b b b b b b b b . b . . . . . . . . . .\n        . . . . . . . . . . . . b . . . b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b . b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . . b b b b . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b . b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b . . b b b . . . . . . . . .\n        . . . . . . . . . b b b b b b b b b b b b b b . . b b b b . . . . . . .\n        . . . . . . . . b b . . . b b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b . b . . . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b . . b b b b . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b . b b b b b b b b . . . . . . . . .\n        . . . . . . . . . b b b b b b . . b b b b . . b b b b b . . . . . . . .\n        . . . . . . . . b b . b . . . . b b b b b . . . . . b b b . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n   `, `\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . . b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . b . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b b b b b b b . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b b b . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . . b b b b b . . . b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b . b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b . b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n    `]\nconst CLOUDS = [\n]\nconst SAMPLE_TREE = textToBitmap(TREES[0])","export function loadAppInsights(includeCookie: any) {\n    var appInsights = (window as any).appInsights || function(config: any) {\n        // @ts-ignore\n        function i(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o=\"script\",s=\"AuthenticatedUserContext\",h=\"start\",c=\"stop\",l=\"Track\",a=l+\"Event\",v=l+\"Page\",y=u.createElement(o),r,f;y.src=config.url||\"https://az416426.vo.msecnd.net/scripts/a/ai.0.js\";u.getElementsByTagName(o)[0].parentNode.appendChild(y);try{t.cookie=u.cookie}catch(p){}for(t.queue=[],t.version=\"1.0\",r=[\"Event\",\"Exception\",\"Metric\",\"PageView\",\"Trace\",\"Dependency\"];r.length;)i(\"track\"+r.pop());return i(\"set\"+s),i(\"clear\"+s),i(h+a),i(c+a),i(h+v),i(c+v),i(\"flush\"),config.disableExceptionTracking||(r=\"onerror\",i(\"_\"+r),f=e[r],e[r]=function(config,i,u,e,o){var s=f&&f(config,i,u,e,o);return s!==!0&&t[\"_\"+r](config,i,u,e,o),s}),t\n    }({\n        instrumentationKey:\"9801ed01-c40f-46ec-aa40-2a1742a9e71c\",\n        disableAjaxTracking: true,\n        overridePageViewDuration: false,\n        disableExceptionTracking: true,\n        isCookieUseDisabled: !includeCookie,\n        isStorageUseDisabled: !includeCookie,\n        url: \"https://pxt.azureedge.net/blob/dd22520c096be24e7432f5b46e8aad59711f31f0/ai.0.js\" // Hardcode docs CDN url for experiment\n    });\n    (window as any).appInsights = appInsights;\n    \n    if (!isLocalHost()) {\n        appInsights.queue.push(function () {\n            appInsights.context.addTelemetryInitializer(function (envelope: any) {\n                var telemetryItem = envelope.data.baseData;\n                telemetryItem.properties = telemetryItem.properties || {};\n                telemetryItem.properties[\"target\"] = \"arcade\";\n                telemetryItem.properties[\"cookie\"] = includeCookie;\n            });\n        });\n        appInsights.trackPageView(null, scrubUrl(window.location.toString()), {urlReferrer: scrubUrl(document.referrer.toString())});\n    }\n\n    // Scrub the key (if any) from the URL.\n    function scrubUrl(url: any) {\n        var scriptIdRegex = /(?:\\d{5}-\\d{5}-\\d{5}-\\d{5})|(?:_[0-9a-zA-Z]{12})/g;\n        return url.replace(scriptIdRegex, \"xxxxx-xxxxx-xxxxx-xxxxx\");\n    }\n}\n\nexport function tickEvent(id: string, data?: any, measures?: any) {\n    // Don't log events for localhost\n    if (!isLocalHost()) (window as any).appInsights.trackEvent(id, data, measures);\n}\n\nfunction isLocalHost(): boolean {\n    try {\n        return typeof window !== \"undefined\"\n            && /^http:\\/\\/(localhost|127\\.0\\.0\\.1):\\d+\\//.test(window.location.href)\n            && !/nolocalhost=1/.test(window.location.href);\n    } catch (e) { return false; }\n}","export const bunny_hop_bin_js: string = `\n// total=1307309 new=9.29% cached=85.58% other=5.12%\n(function (ectx) {\n'use strict';\nconst runtime = ectx.runtime;\nconst oops = ectx.oops;\nconst doNothing = ectx.doNothing;\nconst pxsim = ectx.pxsim;\nconst globals = ectx.globals;\nconst maybeYield = ectx.maybeYield;\nconst setupDebugger = ectx.setupDebugger;\nconst isBreakFrame = ectx.isBreakFrame;\nconst breakpoint = ectx.breakpoint;\nconst trace = ectx.trace;\nconst checkStack = ectx.checkStack;\nconst leave = ectx.leave;\nconst checkResumeConsumed = ectx.checkResumeConsumed;\nconst setupResume = ectx.setupResume;\nconst setupLambda = ectx.setupLambda;\nconst checkSubtype = ectx.checkSubtype;\nconst failedCast = ectx.failedCast;\nconst buildResume = ectx.buildResume;\nconst mkVTable = ectx.mkVTable;\nconst __this = runtime;\nconst pxtrt = pxsim.pxtrt;\nlet yieldSteps = 1;\nectx.setupYield(function() { yieldSteps = 100; })\npxsim.setTitle(\"bunny-hop-updated\");\npxsim.setConfigData({\n \"37\": 160,\n \"38\": 120\n}, {\n \"DISPLAY_WIDTH\": 37,\n \"DISPLAY_HEIGHT\": 38\n});\npxtrt.mapKeyNames = [\n \"\",\n \"__draw\",\n \"__drawCore\",\n \"__preUpdate\",\n \"__update\",\n \"__visible\",\n \"_action\",\n \"_ax\",\n \"_ay\",\n \"_buttonId\",\n \"_connected\",\n \"_controlledSprites\",\n \"_data\",\n \"_destroyCore\",\n \"_dt\",\n \"_factory\",\n \"_hitbox\",\n \"_id\",\n \"_image\",\n \"_kind\",\n \"_kindsOverlappedWith\",\n \"_lastX\",\n \"_lastY\",\n \"_layer\",\n \"_layers\",\n \"_map\",\n \"_millis\",\n \"_obstacles\",\n \"_overlappers\",\n \"_owner\",\n \"_player\",\n \"_pressed\",\n \"_pressedElasped\",\n \"_prune\",\n \"_repeatCount\",\n \"_sprites\",\n \"_text\",\n \"_tileSets\",\n \"_update\",\n \"_vx\",\n \"_vy\",\n \"_x\",\n \"_y\",\n \"_z\",\n \"action\",\n \"activeCard\",\n \"add\",\n \"addShape\",\n \"addSprite\",\n \"alignX\",\n \"alignY\",\n \"allSprites\",\n \"anchor\",\n \"animations\",\n \"apply\",\n \"applyTo\",\n \"areaHeight\",\n \"areaWidth\",\n \"ax\",\n \"ay\",\n \"background\",\n \"basicCard\",\n \"bg\",\n \"bgColor\",\n \"border\",\n \"borderColor\",\n \"bottom\",\n \"buckets\",\n \"button\",\n \"buttons\",\n \"cachedImage\",\n \"cachedRender\",\n \"cachedVx\",\n \"cachedVy\",\n \"camera\",\n \"card\",\n \"cardSpacing\",\n \"cardWidth\",\n \"cardsPerRow\",\n \"cardsTop\",\n \"cellHeight\",\n \"cellWidth\",\n \"change\",\n \"changeScoreBy\",\n \"charHeight\",\n \"charWidth\",\n \"clear\",\n \"clearInterior\",\n \"clearObstacles\",\n \"collisionHandlers\",\n \"color\",\n \"columnCount\",\n \"columns\",\n \"connected\",\n \"constrain\",\n \"contains\",\n \"controlledSprites\",\n \"countdownEndHandler\",\n \"countdownExpired\",\n \"createMovingSprite\",\n \"createParticle\",\n \"createdHandlers\",\n \"cursor\",\n \"cursorCount\",\n \"cursorOn\",\n \"cursorRowHeight\",\n \"data\",\n \"defaultLifespan\",\n \"defaultRate\",\n \"deltaTime\",\n \"deltaTimeMillis\",\n \"destroy\",\n \"destroyHandler\",\n \"destroyedHandlers\",\n \"displayCursor\",\n \"dispose\",\n \"distance\",\n \"down\",\n \"draw\",\n \"drawBorder\",\n \"drawCursorRow\",\n \"drawLives\",\n \"drawOffsetX\",\n \"drawOffsetY\",\n \"drawPartial\",\n \"drawParticle\",\n \"drawPlayer\",\n \"drawScore\",\n \"drawText\",\n \"drawTextCore\",\n \"dx\",\n \"dy\",\n \"effect\",\n \"enabled\",\n \"endScreenEffect\",\n \"eventContext\",\n \"fastRandom\",\n \"fc\",\n \"flags\",\n \"followingSprites\",\n \"font\",\n \"fontColor\",\n \"frame\",\n \"frameCallbacks\",\n \"frameInterval\",\n \"frameWorker\",\n \"frames\",\n \"framesInSample\",\n \"galois\",\n \"gameEnd\",\n \"gameForeverHandlers\",\n \"generateTile\",\n \"generator\",\n \"getObstacle\",\n \"getState\",\n \"getText\",\n \"handler\",\n \"handlers\",\n \"hasBackgroundImage\",\n \"hasLife\",\n \"hasScore\",\n \"head\",\n \"headerFont\",\n \"headerText\",\n \"heartImage\",\n \"height\",\n \"highScore\",\n \"icon\",\n \"iconImage\",\n \"id\",\n \"idleCallbacks\",\n \"image\",\n \"img\",\n \"infoFont\",\n \"infoTop\",\n \"init\",\n \"innerLeft\",\n \"innerTop\",\n \"insertAABB\",\n \"insertAtKey\",\n \"isNewHighScore\",\n \"isObstacle\",\n \"isOob\",\n \"isOutOfScreen\",\n \"isOutsideMap\",\n \"isPressed\",\n \"key\",\n \"kind\",\n \"lastFrame\",\n \"lastNode\",\n \"layer\",\n \"left\",\n \"length\",\n \"lfsr\",\n \"life\",\n \"lifeZeroHandler\",\n \"lifespan\",\n \"lock\",\n \"loop\",\n \"map\",\n \"maxLifespan\",\n \"maxNegativeVelocity\",\n \"maxSingleStep\",\n \"maxVelocity\",\n \"melody\",\n \"mergeAtKey\",\n \"millis\",\n \"minAngle\",\n \"minLifespan\",\n \"minSingleStep\",\n \"move\",\n \"moveSprite\",\n \"multiplier\",\n \"multiplierImage\",\n \"neighbors\",\n \"next\",\n \"nodeInterval\",\n \"nodes\",\n \"obstacle\",\n \"offsetX\",\n \"offsetY\",\n \"onEvent\",\n \"onPlayFinished\",\n \"onUpdate\",\n \"options\",\n \"order\",\n \"originalImage\",\n \"otherKind\",\n \"overlapHandlers\",\n \"overlapMap\",\n \"overlaps\",\n \"overlapsWith\",\n \"ox\",\n \"oy\",\n \"pFlags\",\n \"padding\",\n \"parent\",\n \"particleSources\",\n \"path\",\n \"period\",\n \"physicsEngine\",\n \"pickRandom\",\n \"play\",\n \"playCore\",\n \"playerIndex\",\n \"playerStates\",\n \"position\",\n \"preferredDelay\",\n \"prevTimeMillis\",\n \"priority\",\n \"raiseButtonDown\",\n \"raiseButtonRepeat\",\n \"raiseButtonUp\",\n \"raiseLifeZero\",\n \"randomRange\",\n \"register\",\n \"registerFrameCallbacks\",\n \"registerFrameHandler\",\n \"registerHandler\",\n \"registerMelody\",\n \"registerObstacle\",\n \"remove\",\n \"removeSprite\",\n \"renderCore\",\n \"repeatDelay\",\n \"repeatInterval\",\n \"repeatX\",\n \"repeatY\",\n \"resizeBuckets\",\n \"right\",\n \"rowCount\",\n \"rows\",\n \"run\",\n \"runCallbacks\",\n \"sayBubbleSprite\",\n \"scale\",\n \"scene\",\n \"sceneDefaultRate\",\n \"score\",\n \"scrollOffset\",\n \"scrollRow\",\n \"scrollTarget\",\n \"seed\",\n \"selectedCard\",\n \"selection\",\n \"setAcceleration\",\n \"setAnchor\",\n \"setDirection\",\n \"setFactory\",\n \"setFlag\",\n \"setImage\",\n \"setKind\",\n \"setOffset\",\n \"setPosition\",\n \"setPressed\",\n \"setRate\",\n \"setScore\",\n \"setSelection\",\n \"setSpeed\",\n \"setStart\",\n \"setState\",\n \"setTheme\",\n \"setVelocity\",\n \"shakeAmplitude\",\n \"shakeDuration\",\n \"shakeStartTime\",\n \"shouldBeVisible\",\n \"show\",\n \"showLife\",\n \"showPlayer\",\n \"showScore\",\n \"source\",\n \"sourceFactory\",\n \"sources\",\n \"speed\",\n \"spread\",\n \"sprite\",\n \"spriteCollisions\",\n \"spriteNextId\",\n \"sprites\",\n \"spritesByKind\",\n \"src\",\n \"start\",\n \"startScreenEffect\",\n \"startedAt\",\n \"state\",\n \"stop\",\n \"textAreaHeight\",\n \"textAreaWidth\",\n \"textColor\",\n \"theme\",\n \"tileIndex\",\n \"tileMap\",\n \"tilemapCollisions\",\n \"timeInSample\",\n \"timer\",\n \"times\",\n \"toString\",\n \"top\",\n \"unit\",\n \"unregister\",\n \"unregisterMelody\",\n \"up\",\n \"update\",\n \"updateCard\",\n \"updateParticle\",\n \"updateSay\",\n \"updateScrollTarget\",\n \"value\",\n \"visibilityFlag\",\n \"visilibity\",\n \"vx\",\n \"vy\",\n \"width\",\n \"win\",\n \"x\",\n \"xOffset\",\n \"xRange\",\n \"xStep\",\n \"y\",\n \"yOffset\",\n \"yRange\",\n \"yStep\",\n \"z\"\n];\n__this.setupPerfCounters([]);\nconst pxsim_Array__getAt = pxsim.Array_.getAt;\nconst pxsim_Array__length = pxsim.Array_.length;\nconst pxsim_Array__mk = pxsim.Array_.mk;\nconst pxsim_Array__push = pxsim.Array_.push;\nconst pxsim_Boolean__bang = pxsim.Boolean_.bang;\nconst pxsim_String__concat = pxsim.String_.concat;\nconst pxsim_String__stringConv = pxsim.String_.stringConv;\nconst pxsim_numops_toBool = pxsim.numops.toBool;\nconst pxsim_numops_toBoolDecr = pxsim.numops.toBoolDecr;\nconst pxsim_pxtcore_mkAction = pxsim.pxtcore.mkAction;\nconst pxsim_pxtcore_mkClassInstance = pxsim.pxtcore.mkClassInstance;\nconst pxsim_pxtrt_ldlocRef = pxsim.pxtrt.ldlocRef;\nconst pxsim_pxtrt_mapGetByString = pxsim.pxtrt.mapGetByString;\nconst pxsim_pxtrt_stclo = pxsim.pxtrt.stclo;\nconst pxsim_pxtrt_stlocRef = pxsim.pxtrt.stlocRef;\nconst pxsim_Boolean_ = pxsim.Boolean_;\nconst pxsim_pxtcore = pxsim.pxtcore;\nconst pxsim_String_ = pxsim.String_;\nconst pxsim_ImageMethods = pxsim.ImageMethods;\nconst pxsim_Array_ = pxsim.Array_;\nconst pxsim_pxtrt = pxsim.pxtrt;\nconst pxsim_numops = pxsim.numops;\n\n\nfunction _main___P29931(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    globals.zeroFx8___14920 = (0);\n    r0 = (0.5 * 256);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 | 0);\n    globals.oneHalfFx8___14921 = (r0);\n    globals.oneFx8___14923 = (1);\n    globals.twoFx8___14924 = (2);\n    globals._pollEventQueue___15005 = (undefined);\n    globals._intervals___15012 = (undefined);\n    globals.minPriority___15026 = (1);\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, inline__P23447);\n    globals.listeners___15027 = (s.tmp_0);\n    globals.freqs___15174 = (_hex22426);\n    globals.globalVolume___15178 = (null);\n    globals.playToneID___15186 = (0);\n    r0 = pxsim_pxtcore_mkClassInstance(music_Melody__C15190_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = music_Melody_constructor__P15202_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = \"~15 e3:3 r:1 d#:3 r:1 d:4 r:1 c#:8\";\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    globals.wawawawaa___15209 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(music_Melody__C15190_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = music_Melody_constructor__P15202_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = \"g4:1 c5 e g:2 e:1 g:3\";\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    globals.powerUp___15212 = (s.tmp_0);\n    globals.brightness___15242 = (100);\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"charWidth\", 6);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"charHeight\", 8);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"data\", _hex24821);\n    globals.font8___15264 = (s.tmp_0);\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"charWidth\", 12);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"charHeight\", 12);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"data\", _hex18775);\n    globals.font12___15265 = (s.tmp_0);\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"charWidth\", 6);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"charHeight\", 5);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"data\", _hex23455);\n    globals.font5___15269 = (s.tmp_0);\n    globals.__updated___15275 = (false);\n    r0 = pxsim.control.runInParallel(inline__P15280);\n    r0 = pxsim_pxtcore.setPalette(_hex15304);\n    r0 = pxsim.image.create(160, 120);\n    globals.screen___15305 = (r0);\n    s.tmp_0 = control___screen_setupUpdate__P15277_mk(s);\n    s.tmp_0.arg0 = inline__P15311;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    globals.control_EventContext_onStats___15073 = (inline__P15316);\n    s.tmp_0 = settings_initScopes__P15332_mk(s);\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 5;\n    s.tmp_1.arg2 = -1;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    globals.A___15366 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 6;\n    s.tmp_1.arg2 = -1;\n    s.pc = 6; return s.tmp_1;\n  case 6:\n    r0 = s.retval;\n    globals.B___15367 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 1;\n    s.tmp_1.arg2 = -1;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    globals.left___15368 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 2;\n    s.tmp_1.arg2 = -1;\n    s.pc = 8; return s.tmp_1;\n  case 8:\n    r0 = s.retval;\n    globals.up___15369 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 3;\n    s.tmp_1.arg2 = -1;\n    s.pc = 9; return s.tmp_1;\n  case 9:\n    r0 = s.retval;\n    globals.right___15370 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 4;\n    s.tmp_1.arg2 = -1;\n    s.pc = 10; return s.tmp_1;\n  case 10:\n    r0 = s.retval;\n    globals.down___15371 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 7;\n    s.tmp_1.arg2 = -1;\n    s.pc = 11; return s.tmp_1;\n  case 11:\n    r0 = s.retval;\n    globals.menu___15372 = (s.tmp_0);\n    globals._userEventsEnabled___15376 = (true);\n    globals.defaultRepeatDelay___15377 = (500);\n    globals.defaultRepeatInterval___15378 = (30);\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 0;\n    s.tmp_1.arg2 = -1;\n    s.pc = 12; return s.tmp_1;\n  case 12:\n    r0 = s.retval;\n    globals.anyButton___15430 = (s.tmp_0);\n    s.tmp_0 = SpriteKind_create__P15532_mk(s);\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    globals.Player___15533 = (r0);\n    s.tmp_0 = SpriteKind_create__P15532_mk(s);\n    s.pc = 14; return s.tmp_0;\n  case 14:\n    r0 = s.retval;\n    globals.Food___15536 = (r0);\n    s.tmp_0 = SpriteKind_create__P15532_mk(s);\n    s.pc = 15; return s.tmp_0;\n  case 15:\n    r0 = s.retval;\n    globals.Enemy___15538 = (r0);\n    r0 = (100 * 256);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 | 0);\n    globals.MAX_TIME_STEP___15557 = (r0);\n    r0 = (1 | 2);\n    globals.SPRITE_CANNOT_COLLIDE___15559 = (r0);\n    r0 = (0.1 * 256);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 | 0);\n    globals.MIN_MOVE_GAP___15564 = (r0);\n    globals.infoState___15586 = (undefined);\n    s.tmp_0 = game_addScenePushHandler__P15590_mk(s);\n    s.tmp_0.arg0 = inline__P15591;\n    s.pc = 16; return s.tmp_0;\n  case 16:\n    r0 = s.retval;\n    s.tmp_0 = game_addScenePopHandler__P15606_mk(s);\n    s.tmp_0.arg0 = inline__P15607;\n    s.pc = 17; return s.tmp_0;\n  case 17:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkClassInstance(info_PlayerInfo__C15664_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = info_PlayerInfo_constructor__P15681_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 1;\n    s.pc = 18; return s.tmp_1;\n  case 18:\n    r0 = s.retval;\n    globals.player1___15686 = (s.tmp_0);\n    globals.ON_PAINT_Z___15757 = (-20);\n    globals.TILE_MAP_Z___15759 = (-1);\n    r0 = pxsim_Array__mk();\n    globals.scene_Scene_initializers___15772 = (r0);\n    globals.debug___15839 = (false);\n    globals.stats___15840 = (false);\n    globals.winEffect___15842 = (undefined);\n    globals.loseEffect___15844 = (undefined);\n    globals.loseSound___15846 = (undefined);\n    globals.winSound___15848 = (undefined);\n    globals.__isOver___15855 = (false);\n    globals.foreverRunning___15870 = (false);\n    s.tmp_0 = scene_systemMenu_initVolume__P16040_mk(s);\n    s.pc = 19; return s.tmp_0;\n  case 19:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(globals.scene_Scene_initializers___15772, scene_systemMenu_register__P16037);\n    r0 = pxsim.image.ofBuffer(_hex16048);\n    globals.CARD_NORMAL___16046 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16051);\n    globals.CARD_SELECTED___16049 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16054);\n    globals.CARD_ACTIVE___16052 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16057);\n    globals.VOLUME_UP_ICON___16055 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16060);\n    globals.BRIGHTNESS_DOWN_ICON___16058 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16063);\n    globals.CLOSE_MENU_ICON___16061 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16066);\n    globals.VOLUME_DOWN_ICON___16064 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16069);\n    globals.SLEEP_ICON___16067 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16072);\n    globals.CONSOLE_ICON___16070 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16075);\n    globals.BRIGHTNESS_UP_ICON___16073 = (r0);\n    r0 = pxsim.image.ofBuffer(_hex16078);\n    globals.STATS_ICON___16076 = (r0);\n    globals.consoleColor___16079 = (1);\n    globals.tabSize___16081 = (8);\n    globals.consoleFont___16085 = (globals.font5___15269);\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_2 = r0;\n    s.tmp_5 = if_charHeight_1_mk(s);\n    s.tmp_5.arg0 = globals.consoleFont___16085;\n    if (!s.tmp_5.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, \"charHeight\");\n    } else {\n    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 20; return s.tmp_5; }\n    }\n  case 20:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 + 2);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 / s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - 1);\n    globals.consoleLines___16086 = (r0);\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (2 * 4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 - s.tmp_3);\n    s.tmp_1 = r0;\n    s.tmp_5 = if_charWidth_1_mk(s);\n    s.tmp_5.arg0 = globals.consoleFont___16085;\n    if (!s.tmp_5.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, \"charWidth\");\n    } else {\n    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 21; return s.tmp_5; }\n    }\n  case 21:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_1 / s.tmp_4);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_0);\n    globals.consoleColumns___16096 = (r0);\n    s.tmp_0 = console_addListener__P15035_mk(s);\n    s.tmp_0.arg0 = game_consoleOverlay_listener__P16108;\n    s.pc = 22; return s.tmp_0;\n  case 22:\n    r0 = s.retval;\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = inline__P16117;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 23; return s.tmp_0;\n  case 23:\n    r0 = s.retval;\n    globals.MAX_SOURCES___16115 = (r0);\n    r0 = pxsim_pxtcore_mkClassInstance(particles_SprayFactory__C16182_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = particles_SprayFactory_constructor__P16188_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 20;\n    s.tmp_1.arg2 = 0;\n    s.tmp_1.arg3 = 60;\n    s.pc = 24; return s.tmp_1;\n  case 24:\n    r0 = s.retval;\n    globals.defaultFactory___16144 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(Math_FastRandom__C15997_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = Math_FastRandom_constructor__P16004_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = undefined;\n    s.pc = 25; return s.tmp_1;\n  case 25:\n    r0 = s.retval;\n    globals.galois___16165 = (s.tmp_0);\n    r0 = (2 * 3.141592653589793);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 100);\n    globals.angleSlice___16169 = (r0);\n    r0 = (3.141592653589793 / 180);\n    globals.ratio___16175 = (r0);\n    r0 = pxsim_pxtcore_mkClassInstance(effects_ScreenEffect__C16255_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = effects_ScreenEffect_constructor__P16259_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 10;\n    s.tmp_1.arg2 = 40;\n    s.tmp_1.arg3 = 4000;\n    s.tmp_1.arg4 = inline__P17247;\n    s.pc = 26; return s.tmp_1;\n  case 26:\n    r0 = s.retval;\n    globals.confetti___16265 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(effects_ImageEffect__C16279_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = effects_ImageEffect_constructor__P16283_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 100;\n    s.tmp_1.arg2 = inline__P24002;\n    s.pc = 27; return s.tmp_1;\n  case 27:\n    r0 = s.retval;\n    globals.dissolve___16284 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(effects_ImageEffect__C16279_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = effects_ImageEffect_constructor__P16283_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 125;\n    s.tmp_1.arg2 = inline__P21469;\n    s.pc = 28; return s.tmp_1;\n  case 28:\n    r0 = s.retval;\n    globals.melt___16285 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(texteffects_TextEffect__C16289_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = texteffects_TextEffect_constructor__P16290_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = inline__P16294;\n    s.pc = 29; return s.tmp_1;\n  case 29:\n    r0 = s.retval;\n    globals.shake___16291 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(texteffects_TextEffect__C16289_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = texteffects_TextEffect_constructor__P16290_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = inline__P16304;\n    s.pc = 30; return s.tmp_1;\n  case 30:\n    r0 = s.retval;\n    globals.wave___16301 = (s.tmp_0);\n    s.tmp_0 = game_addScenePushHandler__P15590_mk(s);\n    s.tmp_0.arg0 = inline__P16416;\n    s.pc = 31; return s.tmp_0;\n  case 31:\n    r0 = s.retval;\n    s.tmp_0 = game_addScenePopHandler__P15606_mk(s);\n    s.tmp_0.arg0 = inline__P16430;\n    s.pc = 32; return s.tmp_0;\n  case 32:\n    r0 = s.retval;\n    s.tmp_0 = game_setWaitAnyButton__P15856_mk(s);\n    s.tmp_0.arg0 = controller_pauseUntilAnyButtonIsPressed__P15426;\n    s.pc = 33; return s.tmp_0;\n  case 33:\n    r0 = s.retval;\n    s.tmp_0 = game_eventContext__P15858_mk(s);\n    s.pc = 34; return s.tmp_0;\n  case 34:\n    r0 = s.retval;\n    s.tmp_0 = SpriteKind_create__P15532_mk(s);\n    s.pc = 35; return s.tmp_0;\n  case 35:\n    r0 = s.retval;\n    globals.Obstacle___29641 = (r0);\n    s.tmp_0 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_0.arg0 = globals.anyButton___15430;\n    s.tmp_0.arg1 = 2049;\n    s.tmp_0.arg2 = inline__P29646;\n    s.pc = 36; return s.tmp_0;\n  case 36:\n    r0 = s.retval;\n    s.tmp_0 = sprites_onOverlap__P15515_mk(s);\n    s.tmp_0.arg0 = globals.Player___15533;\n    s.tmp_0.arg1 = globals.Obstacle___29641;\n    s.tmp_0.arg2 = inline__P29765;\n    s.pc = 37; return s.tmp_0;\n  case 37:\n    r0 = s.retval;\n    globals.grass___29770 = (null);\n    globals.projectile___29772 = (null);\n    globals.newObstacle___29774 = (null);\n    globals.numObstacles___29776 = (0);\n    globals.osbstacleSpeed___29777 = (0);\n    globals.difficultyFactor___29778 = (0);\n    globals.cloud___29747 = (null);\n    globals.tree___29731 = (null);\n    r0 = pxsim_Array__mk();\n    globals.clouds___29717 = (r0);\n    r0 = pxsim_Array__mk();\n    globals.grassImages___29702 = (r0);\n    r0 = pxsim_Array__mk();\n    globals.trees___29693 = (r0);\n    r0 = pxsim_Array__mk();\n    globals.obstacles___29686 = (r0);\n    r0 = pxsim_Array__mk();\n    globals.birdFrames___29659 = (r0);\n    globals.bird___29683 = (null);\n    globals.gravity___29656 = (0);\n    globals.bunny___29649 = (null);\n    s.tmp_0 = scene_setBackgroundColor__P15776_mk(s);s.tmp_0.arg0=13;\n    s.pc = 38; return s.tmp_0;\n  case 38:\n    r0 = s.retval;\n    s.tmp_0 = sprites_create__P15443_mk(s);\n    r0 = pxsim.image.ofBuffer(_hex29793);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = globals.Player___15533;\n    s.pc = 39; return s.tmp_0;\n  case 39:\n    r0 = s.retval;\n    globals.bunny___29649 = (r0);\n    globals.gravity___29656 = (400);\n    s.tmp_0 = Sprite_ay__P15461_mk(s);\n    s.tmp_0.arg0 = globals.bunny___29649;\n    s.tmp_0.arg1 = globals.gravity___29656;\n    s.pc = 40; return s.tmp_0;\n  case 40:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_x__P15451_mk(s);\n    s.tmp_0.arg0 = globals.bunny___29649;\n    s.tmp_0.arg1 = 20;\n    s.pc = 41; return s.tmp_0;\n  case 41:\n    r0 = s.retval;\n    s.tmp_0 = sprites_create__P15443_mk(s);\n    r0 = pxsim.image.ofBuffer(_hex29804);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = 1;\n    s.pc = 42; return s.tmp_0;\n  case 42:\n    r0 = s.retval;\n    globals.bird___29683 = (r0);\n    s.tmp_0 = Sprite_setPosition__P15480_mk(s);\n    s.tmp_0.arg0 = globals.bird___29683;\n    s.tmp_0.arg1 = 160;\n    s.tmp_0.arg2 = 20;\n    s.pc = 43; return s.tmp_0;\n  case 43:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_setVelocity__P15481_mk(s);\n    s.tmp_0.arg0 = globals.bird___29683;\n    s.tmp_0.arg1 = -120;\n    s.tmp_0.arg2 = 0;\n    s.pc = 44; return s.tmp_0;\n  case 44:\n    r0 = s.retval;\n    s.tmp_0 = setupFrames__P29657_mk(s);\n    s.pc = 45; return s.tmp_0;\n  case 45:\n    r0 = s.retval;\n    s.tmp_0 = game_onUpdate__P15868_mk(s);\n    s.tmp_0.arg0 = inline__P29813;\n    s.pc = 46; return s.tmp_0;\n  case 46:\n    r0 = s.retval;\n    s.tmp_0 = game_onUpdate__P15868_mk(s);\n    s.tmp_0.arg0 = inline__P29823;\n    s.pc = 47; return s.tmp_0;\n  case 47:\n    r0 = s.retval;\n    s.tmp_0 = game_onUpdateInterval__P15869_mk(s);\n    s.tmp_0.arg0 = 100;\n    s.tmp_0.arg1 = inline__P29833;\n    s.pc = 48; return s.tmp_0;\n  case 48:\n    r0 = s.retval;\n    s.tmp_0 = forever__P15346_mk(s);\n    s.tmp_0.arg0 = inline__P29840;\n    s.pc = 49; return s.tmp_0;\n  case 49:\n    r0 = s.retval;\n    s.tmp_0 = game_onUpdateInterval__P15869_mk(s);\n    s.tmp_0.arg0 = 200;\n    s.tmp_0.arg1 = inline__P29876;\n    s.pc = 50; return s.tmp_0;\n  case 50:\n    r0 = s.retval;\n    s.tmp_0 = game_onUpdateInterval__P15869_mk(s);\n    s.tmp_0.arg0 = 100;\n    s.tmp_0.arg1 = inline__P29893;\n    s.pc = 51; return s.tmp_0;\n  case 51:\n    r0 = s.retval;\n    s.tmp_0 = game_onUpdateInterval__P15869_mk(s);\n    s.tmp_0.arg0 = 1000;\n    s.tmp_0.arg1 = inline__P29908;\n    s.pc = 52; return s.tmp_0;\n  case 52:\n    r0 = s.retval;\n    s.tmp_0 = forever__P15346_mk(s);\n    s.tmp_0.arg0 = inline__P29912;\n    s.pc = 53; return s.tmp_0;\n  case 53:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\n_main___P29931.info = {\"start\":0,\"length\":0,\"line\":0,\"column\":0,\"endLine\":0,\"endColumn\":0,\"fileName\":\"main.ts\",\"functionName\":\"<main>\",\"argumentNames\":[]}\n_main___P29931.continuations = [  ]\n\nfunction _main___P29931_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: _main___P29931, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n} }\n\nconst _hex22426 = pxsim.BufferMethods.createBufferFromHex(\"1f00210023002500270029002c002e003100340037003a003e004100450049004e00520057005c00620068006e0075007b0083008b0093009c00a500af00b900c400d000dc00e900f70006011501260137014a015d01720188019f01b801d201ee010b022a024b026e029302ba02e40210033f037003a403dc03170455049704dd0427057505c80520067d06e0064907b8072d08a9082d09b9094d0aea0a900b400cfa0cc00d910e6f0f5a1053115b1272139a14d41520178018f519801b231dde1e\")\nconst _hex24821 = pxsim.BufferMethods.createBufferFromHex(\"2000000000000000210000005e0000002200000e000e0000230028fe28fe280024004c92ff926400250002651248a64026006c92926ca000270000000e000000280000007c82000029000000827c00002a005438103854002b0010107c1010002c000000907000002d001010101010002e000000606000002f000060100806003000003c42423c00310000447e4000003200004462524c00330000424a4e320034003028247e20003500004e4a4a32003600003c4a4a30003700000262120e00380000344a4a34003900000c52523c003a0000006c6c00003b000000967600003c001028284444003d002828282828003e004444282810003f0000025909060040003c425a560800410078141214780042007e4a4a4a34004300003c424224004400007e42423c004500007e4a4a42004600007e0a0a02004700003c425234004800007e08087e00490000427e4200004a002040423e02004b00007e081462004c00007e404040004d007e0418047e004e00007e04087e004f003c4242423c005000007e12120c005100003c5262bc005200007e12126c00530000244a522400540002027e0202005500003e40403e005600001e70701e0057007e2018207e00580042241824420059000608700806005a000062524a46005b00007e424200005c000006081060005d000042427e00005e000804020408005f00808080808000600000000204000061000030484878006200007e4848300063000030484848006400003048487e006500003068585000660000107c12040067000018a4a478006800007e08087000690000487a4000006a000040847d00006b00007e102840006c0000427e4000006d007808300870006e000078080870006f00003048483000700000fc24241800710000182424fc0072000078100810007300005058682800740000083e48200075000038404078007600001860601800770038403040380078000048303048007900005ca0a07c007a000048685848007b000008364100007c000000fe0000007d000041360800007e00000804080400a000000000000000a10000007a000000a200003048fc4800a30090fc92928400a400542844285400a5002a2c782c2a00a6000000ee000000a7000094aaaa5200a800000200020000a9003e414955413eaa0000242a2e0000ab00102854284400ac00001010107000ad00001010101000ae003e415d45413eaf00000202020200b000000814140800b1008888be888800b2000024322c0000b30000222a140000b400000004020000b50000f840207800b6000c1e7e027e00b700000010000000b800000080400000b90000243e200000ba0000242a240000bb00442854281000bc00025f70f84000bd00021f90c8b000be0011557af84000bf000030484d2000c000601916186000c100601816196000c200601a151a6000c300601a151a6100c400601914196000c500601a151a6000c6007c0a7e4a4200c700001ea1611200c800007c55564400c900007c56554400ca00007c56554600cb00007c55544500cc0000457e440000cd0000447e450000ce0000467d460000cf0000457c450000d000087e4a423c00d100007e09127d00d200003845463800d300003846453800d400003846453a00d500003a45463900d600003845443900d700442810284400d80000fc724e3f00d900003c41423c00da00003c42413c00db00003c42413e00dc00003c41403d00dd00040872090400de00007e24241800df00007c025a2400e0000030494a7800e10000304a497800e20000304a497a00e3000032494a7900e40000304a487a00e50000304a4d7a00e600304878685000e7000018a4642400e8000030695a5000e90000306a595000ea0000306a595200eb0000306a585200ec0000497a400000ed0000487a410000ee00004a79420000ef00004a78420000f00000304a4b3d00f100007a090a7100f2000030494a3000f30000304a493000f40000304a493200f5000032494a3100f60000304a483200f700101054101000f800007068583800f900003841427800fa00003842417800fb00003842417a00fc00003842407a00fd0000b84241f800fe0000ff24241800ff00005ca1a07d000001601915196000010100304a4a7a000201611a16196000030100314a4a790004013c0a094abc00050100182464bc000601003846452800070100304a4948000801003846452a00090100304a494a000a010038444528000b010030484a48000c010038454629000d010030494a49000e01007c454639000f0100314a497e001001087e4a423c00110130484c7e04001201007d55554500130100326a5a52001401007d56564500150100316a5a51001601007c55544400170100306a5850001801003f65a521001901001874ac28001a01007c555645001b010030695a51001c010038465536001d0100304a49f2001e010039465635001f0100314a4af100200100384455340021010018a4a578002201001ea1691a0023010018a6a578002401007812117a0025017e080a7102002601047e147e04002701047e0c08700028010002457e450029010002497a41002a0100457d4500002b01004a7a4200002c0100014a7a49002d0100014a7a41002e0100217fa100002f0100247da00000300100447d440000310100487840000032017e0022423e0033013d0040847d0034012040463d0600350100800af90200360100bf440a3100370100bf4814200038010078102848003901007c404241003a0100467d4000003b01003fa06020003c0100a17f2000003d01007c414241003e0100457e4100003f01007e40484000400100427e4008004101107e48404000420100527e4800004301007c0a117c00440100780a097000450100bf42043f00460100bc440438004701007c09127d00480100790a09700049010a06780870004a01003f02847f004b01003c048478004c013945454539004d0100324a4a32004e013946464639004f0100314a4a310050013a4544463900510132494832010052013c427e4a420053013048306850005401007c163548005501007812091000560100bf49093600570100bc480408005801007d1635480059010079120910005a010048565524005b0100505a6928005c010048565526005d0100505a692a005e010012a56912005f010028ac741400600100485556250061010050596a290062010101bf410100630100049f641000640104057e050400650100083d4a2100660102127e120200670100183e5820006801003a414239006901003a414279006a01003d41413d006b01003a42427a006c010039424239006d010039424279006e01003a45453a006f01003a45457a0070013a41403a010071013a41407a01007201001f60a01f007301001c60a03c00740178221122780075013842314238007601081261120800770100b84241fa00780104097009040079010064564d44007a0100486a5948007b010064544d44007c010048685a48007d010064554e45007e010048695a49007f0100087c0204008f01003452523c00920100887e090200a0013c42423c0806a101003048483008af01003e403e0806b001003840781008b501006a5a4a4e00b601005878585800d101003845463900d2010030494a3100e601003845563500e7010030494af100fa0100742a750000fb0100304c4a7d00fc0178147e554400fd0130487a695000fe010078744e3d00ff0100706a59380018020012a569120019020028ac7414001a020101bf4101001b0200049f641000bb0200000c0a0000bc0200000a060000bd020000060a0000c602000201020000c702000102010000c902000202020000d802000102020100d902000002000000da02000205020000db02000040800000dc02000201020100dd02020100020100740300000201000075030000804000007a030000c08000007e03000096760000840300000300000085030200030002008603037c12127c008703000010000000880303007e4a4200890303007e087e008a030300427e42008c03033c42423c008e0303000e700e008f03035c62625c00900302003b400200910378141214780092037e4a4a4a34009303007e0202020094036058465860009503007e4a4a420096030062524a46009703007e08087e0098033c4a4a4a3c00990300427e4200009a03007e081462009b036018061860009c037e0418047e009d03007e04087e009e0300424a4a42009f033c4242423c00a003007e02027e00a103007e12120c00a30300665a424200a40302027e020200a503060870080600a60318247e241800a703422418244200a8030e107e100e00a9035c6202625c00aa0300457c450000ab03040970090400ac030030484a7900ad030030685a5100ae0378100a09f000af03003a41200000b0033a4043403a00b103003048487800b20300fe25251a00b3030c30c0300c00b403344a4a4a3000b503003068585000b603021aa6a24200b7033c080404f800b803003c4a4a3c00b903003840200000ba03007820504800bb03641212227c00bc03fc2020103c00bd03182040201800be03112d2ba94100bf03003048483000c003087808780800c103f82424241800c2031824a4a44800c303304848582800c403000838482800c503384040403800c6031c20f8241800c703c4281028c400c8031c20fc201c00c903304820483000ca03000238422000cb03384240423800cc0330484a493000cd03384042413800ce03304822493000d0033c52525c2000d10310344a3c0800d203067804020400d303120a7c020400d4030d7009040800d5031824ff241800d603384828483800d70348302221d800da031c2221a14200db031824a4a44200dc037e1212020200dd0300fc24240400de033e2010087c00df030c0ac9281800e003700c621c7000e10301092516f800e2039ea0bea07e00e30398a0b8a07800e4030c1214107e00e503001028207800e603be9088887000e70348544e443800e803245252524c00e903285454544800ea0364524c526400eb03086458640800ec03385454542200ed03306848682400ee03184a7e4a1800ef031848ff0a0800f003483020205800f10378a4a4a49800f203304848485000f303006080847d00f4033c4a4a4a3c00f5030030585848000004007c555644000104007c55544500020401013f8579000304007c0605040004043c4a4a422400050400244a522400060400427e420000070400457c45000008042040423e020009047c027e4830000a047e087e4830000b0402027e0a72000c04007c102a45000d047c2112087c000e040c5152523d000f043f20e0203f00100478141214780011047e4a4a4a300012047e4a4a4a34001304007e020202001404c07c427ec0001504007e4a4a4200160476087e087600170424424a4a34001804007e08047e001904007d120a7d001a04007e081462001b04403c02027e001c047e0418047e001d04007e08087e001e043c4242423c001f047e0202027e002004007e12120c002104003c42422400220402027e02020023040e5050503e00240418247e241800250442241824420026043f2020bf600027040e1010107e0028047e407e407e0029043f203fa07f002a04027e484830002b047e4848307e002c04007e484830002d0424424a4a3c002e047e183c423c002f04006c12127e0030043048487840003104003c4a4a3100320400786850200033040078080808003404c0704878c000350430686850000036044830783048003704004058683000380478402010780039047942221279003a040078203048003b044030080878003c047810201078003d047810101078003e043048484830003f047808080878004004fc24242418004104304848485000420408087808080043041ca0a0a07c0044041824ff241800450400483030480046043c2020bc60004704182020207800480478407840780049043c203ca07c004a040878505020004b047850502078004c040078505020004d044858683000004e047830304830004f0450282878000050040030696a500051040032686a50005204023f0a887000530400780a09080054040030685848005504005058682800560400487a4000005704004a784200005804004080847d0059047008785020005a047810785020005b04047e141060005c040078223148005d047841221078005e0418a1a2a279005f043c20e0203c006204027f4a4830006304087e5850200070040e107e100e00710418207820180072043c4a4a4a3c0073043068586830007404001e70180c0075040018603010009004007e020203009104007808080c009204087e0a0a0200930420782808080096043b043f043be0970424183c1824c09a04003f040a31c09b04003c101824c0ae04060870080600af040c10e0100c00b004161870181600b1042c30e0302c00b20421120c1221c0b3040024181824c0ba047e0808087000bb04007e08087000d804003452523c00d904002868583000e20400457d450000e304004a7a420000e8043c4a4a4a3c00e904003058583000ee04003d41413d00ef04003a42427a00d005681020285000d105484848784000d205004830600000d305080808780800d405680808087800d505000008780000d605080818680800d705087808087800d805784050487800d905000008180000da0504040404fc00db05484848483800dc050e4848281800dd05087848487800de05582010487000df05000004fc0000e005004040487800e105000878483800e205487840281800e305041c0404fc00e405485848483800e50504f820140800e605485060685000e705f40424241c00e805080808087000e905785058403800ea05487808087800f005087800087800f105081800087800f205081800081800f305000010080000f405100800100800021e7c5455542800031e007e484930000a1e007c454438000b1e003049487e001e1e007c151404001f1e001079140800401e7e0419047e00411e780832087000561e007c15140800571e00fc25241800601e004854552400611e0050586a28006a1e04047d0404006b1e00083d482000801e7c2112207c00811e384132403800821e7c2012217c00831e384032413800841e7c2110217c00851e384230423800f21e040972080400f31e00b84142f800a3207e0a7a120a00a420a8fcaa828400a720087e2a1c0800ab200098a4a6bf02ac20183c5a5a4200af20627f224438009021103854101000912108047e0408009221101054381000932110207e201000942110381010381095212844fe442800\")\nconst _hex18775 = pxsim.BufferMethods.createBufferFromHex(\"20000000000000000000000000000000000000000000000000002100000000000006fc0000000000000000000000000000000000220000001c00000000001c0000000000000000000000000000002300a000f807a000f807a00000000000000000000000000000002400000018022404460c8803000000000000000000000000000025003802c4017800200390040803000000000000000000000000260080037804a4041803800340040000000000000000000000002700000000001c00000000000000000000000000000000000000280000000000f8010606010800000000000000000000000000002900000001080606f801000000000000000000000000000000002a00040014000e001400040000000000000000000000000000002b0040004000f8034000400000000000000000000000000000002c000000000000090006000000000000000000000000000000002d000000800080008000000000000000000000000000000000002e000000000000060000000000000000000000000000000000002f00000c800360001c000300000000000000000000000000000030000000f80304040404f80300000000000000000000000000003100000004040404fc07000400040000000000000000000000003200000008060405c4043804000000000000000000000000000033000000080244044404b803000000000000000000000000000034000000800170010801fc070001000000000000000000000000350000023c0424042404c403000000000000000000000000000036000000f0034804440488030000000000000000000000000000370000000400c40734000c00000000000000000000000000000038000000b80344044404b803000000000000000000000000000039000000780284048802f00100000000000000000000000000003a000000000030060000000000000000000000000000000000003b000000000018090006000000000000000000000000000000003c004000a000a000a000100100000000000000000000000000003d002001200120012001200100000000000000000000000000003e0000001001a000a000a00040000000000000000000000000003f000000080084066400180000000000000000000000000000004000f0030c04c20822092409f80900000000000000000000000041000007f8008400f8000007000000000000000000000000000042000000fc0744044404b803000000000000000000000000000043000000f001080204040404080200000000000000000000000044000000fc0704040802f001000000000000000000000000000045000000fc07440444044404000000000000000000000000000046000000fc07440044004400000000000000000000000000000047000000f00108024404c803000000000000000000000000000048000000fc0740004000fc070000000000000000000000000000490000000404fc070404040400000000000000000000000000004a000000000200040004fc0300000000000000000000000000004b000000fc074000f0000c0304040000000000000000000000004c000000fc0700040004000400000000000000000000000000004d000000fc0738007000fc0700000000000000000000000000004e000000fc073800c003fc0700000000000000000000000000004f000000f80304040404f803000000000000000000000000000050000000fc07840084004400780000000000000000000000000051000000fc0102020206fc09000000000000000000000000000052000000fc074400c4013806000000000000000000000000000053000000180224044404880300000000000000000000000000005400000004000400fc070400040000000000000000000000000055000000fc0300040004fc03000000000000000000000000000056000c00f0030004f0030c00000000000000000000000000000057007c008007e001f0010007fc0000000000000000000000000058000404b8034000b80304040000000000000000000000000000590004003800c00730000c0000000000000000000000000000005a0004040407e4041c04040400000000000000000000000000005b0000000000ff0f0108010800000000000000000000000000005c0003001c0060008003000c00000000000000000000000000005d00000001080108ff0f000000000000000000000000000000005e004000380004003800400000000000000000000000000000005f00000800080008000800080000000000000000000000000000600000000000020004000000000000000000000000000000000061000000200390049004e007000000000000000000000000000062000000fc0710041004e003000000000000000000000000000063000000c001200210043004000200000000000000000000000064000000e00310041004fc07000000000000000000000000000065000000e00390049004e0040000000000000000000000000000660000001000f80714001400000000000000000000000000000067000000b806440944093c09040600000000000000000000000068000000fc0710001000e0070000000000000000000000000000690000000000f4070000000000000000000000000000000000006a00000800080008fd07000000000000000000000000000000006b000000fe078000e001100610040000000000000000000000006c0000000000fc030004000400000000000000000000000000006d00f00710001000e0071000e0070000000000000000000000006e000000f00710001000e00700000000000000000000000000006f000000e00310041004e003000000000000000000000000000070000000fc0f04010401f800000000000000000000000000000071000000f80004010401fc0f000000000000000000000000000072000000f00720001000100000000000000000000000000000007300000060029004900420030000000000000000000000000000740000001000fc0310041004000000000000000000000000000075000000f00300040004f007000000000000000000000000000076003000c0030004c003300000000000000000000000000000007700f0000007e003c0010007f000000000000000000000000000780010046003800060031004000000000000000000000000000079000c0870088007f0000c0000000000000000000000000000007a000000000410079004700410040000000000000000000000007b0000004000be070108010800000000000000000000000000007c0000000000ff0f0000000000000000000000000000000000007d00000001080108be07400000000000000000000000000000007e00800040004000800080004000000000000000000000000000\")\nconst _hex23455 = pxsim.BufferMethods.createBufferFromHex(\"20000000000000002100001700000000220000030003000023000a1f0a1f0a0024000a17151d0a00250013090412190026000a15150a100027000003000000002800000e11000000290000110e0000002a00000a040a00002b0000040e0400002c000010080000002d000004040400002e000008000000002f0010080402010030000e11110e0000310000121f100000320019151512000033000911150b000034000c0a091f080035001715151509003600081416150800370011090503010038000a1515150a00390002150d0502003a00000a000000003b0000100a0000003c0000040a1100003d00000a0a0a00003e0000110a0400003f0002011505020040000e1115090e0041001e05051e000042001f15150a000043000e111111000044001f11110e000045001f151511000046001f050501000047000e1111150c0048001f04041f00004900111f110000004a000911110f01004b001f040a1100004c001f10101000004d001f0204021f004e001f0204081f004f000e11110e000050001f0505020000510006091916000052001f05050a10005300121515090000540001011f01010055000f10100f0000560007081008070057001f0804081f0058001b04041b0000590001021c0201005a001915131100005b00001f111100005c000102040810005d000011111f00005e000002010200005f00101010101000600000010200000061000c12121e100062001f141408000063000c121212000064000814141f000065000e15151200006600041e0501000067000215150f000068001f04041800006900001d000000006a000010100d00006b001f040a1000006c00000f101000006d001e0204021e006e001e02021c00006f000c12120c000070001e0a0a0400007100040a0a1e000072001c0202020000730010140a0200007400000f1414100075000e10101e1000760006081008060077001e1008101e007800120c0c12000079001214080402007a00121a161200007b0000041f1100007c00001f000000007d00111f040000007e00000404080800d3000c1213130c00f3000c12130d000004010e05051e100005010609191f080006010c121313120007010c121313000018010f0b1b19000019010e151d1a000041011f14121000004201100f1412000043011f0205081f0044011e03031c00005a0110140b0302005b0110140b0300007901121a171300007a01121a171300007b01121b171200007c01121b17120000\")\nconst _hex15304 = pxsim.BufferMethods.createBufferFromHex(\"000000ffffffff2121ff93c4ff8135fff609249ca378dc52003fad87f2ff8e2ec4a4839f5c406ce5cdc491463d000000\")\nconst _hex16048 = pxsim.BufferMethods.createBufferFromHex(\"8704240024000000001111111111111111111111111111111100000010313333333333333333333333333333130100001113111111111111111111111111111131110000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000111311111111111111111111111111113111000010313333333333333333333333333333130100000011111111111111111111111111111111000000\")\nconst _hex16051 = pxsim.BufferMethods.createBufferFromHex(\"8704240024000000002222222222222222222222222222222200000020323333333333333333333333333333230200002223222222222222222222222222222232220000322211111111111111111111111111112223000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003222111111111111111111111111111122230000222322222222222222222222222222223222000020323333333333333333333333333333230200000022222222222222222222222222222222000000\")\nconst _hex16054 = pxsim.BufferMethods.createBufferFromHex(\"8704240024000000004444444444444444444444444444444400000040343333333333333333333333333333430400004443444444444444444444444444444434440000344411111111111111111111111111114443000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003444111111111111111111111111111144430000444344444444444444444444444444443444000040343333333333333333333333333333430400000044444444444444444444444444444444000000\")\nconst _hex16057 = pxsim.BufferMethods.createBufferFromHex(\"870420002000000000000000000000000000000000000000000000000000c0fcff0f000000000000000000000000bcddddfb000000000000000000000000dcbbbbfd000000000000000000000000ccbbbbfc0000000000000000000000c0bcd1bdfb0f00000000000000000000c01b11ddbb0f00000000000000000000c0bcbbbbcb0f00000000000000000000bc11d1ddddcb000000000000000000c01d11ddddddd10c0000000000000000bcd1cbbcfbcf1dcb00000000000000001ccdccddbdffdfc100000000000000001cccccdbcbffcfc10000000000000000dbcbccccfcffbfcd0000000000000000bbbdccccffcfdbbb0000000000000000b0dbbdbbbbdbbd0b000000000000000000b0cbccccbc0b000000000000000000000000000000000000000000000000000000d007700d00000000000000000000000070666607000000000000000000000000006776000000000000000000000000660700007066000000000000000000006766777766760000000000000000000060666666660600000000000000000066006766667600660000000000000000667600000000676600000000000000006766767777676676000000000000000060666666666666060000000000000000006766666666760000000000000000000000676666760000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex16060 = pxsim.BufferMethods.createBufferFromHex(\"8704200020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0bb000000000000000000000000b000404500b0000000000000000000005b0b000400540b0000000000000000b0550400000054b5000000000000000000440040bb0040040000000000000000000040d4ddbb0000000000000000000000004055ddbd000000000000000000004b005455d5dd0b400b000000000000005b045411d5dd0b540b000000000000004b005411d5dd0b400b0000000000000000004055ddbd00000000000000000000000040d4ddbb0000000000000000000000440040bb0040040000000000000000b0550400000054b50000000000000000005b04000400540b000000000000000000b000404500b0000000000000000000000000b0bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex16063 = pxsim.BufferMethods.createBufferFromHex(\"87042000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020020000000000002002000000000000202200000000000022020000000000000022020000000020220000000000000000202200000000220200000000000000000022020000202200000000000000000000202200002202000000000000000000000022022022000000000000000000000000202222020000000000000000000000000022220000000000000000000000000000222200000000000000000000000000202222020000000000000000000000002202202200000000000000000000002022000022020000000000000000000022020000202200000000000000000020220000000022020000000000000000220200000000202200000000000000202200000000000022020000000000002002000000000000200200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex16066 = pxsim.BufferMethods.createBufferFromHex(\"8704200020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0fcff0f000000000000000000000000bcddddfb000000000000000000000000dcbbbbfd000000000000000000000000ccbbbbfc0000000000000000000000c0bcd1bdfb0f00000000000000000000c01b11ddbb0f00000000000000000000c0bcbbbbcb0f00000000000000000000bc11d1ddddcb000000000000000000c01d11ddddddd10c0000000000000000bcd1cbbcfbcf1dcb00000000000000001ccdccddbdffdfc100000000000000001cccccdbcbffcfc10000000000000000dbcbccccfcffbfcd0000000000000000bbbdccccffcfdbbb0000000000000000b0dbbdbbbbdbbd0b000000000000000000b0cbccccbc0b000000000000000000000000000000000000000000000000000000d007700d0000000000000000000000007066660700000000000000000000000000677600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex16069 = pxsim.BufferMethods.createBufferFromHex(\"870420002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0cbcc0c0000000000000000000000b0db55d5cd0c00000000000000000000db555555ddcd000000000000000000b055555555d59d0b0000000000000000db55555555d59db900000000000000005b55555555d5ddb900000000000000b05db5cccc5bdddd990b000000000000b055ccccccccdddd9d0b000000000000b0b5ccccccccdbdd9d0b000000000000b0c5ccccccccdcdd9d0b000000000000b0c5ccdccbccdcdd9d0c000000000000b0cdcc5b55ccdcdd9d0c00000000000000ccdc55b5ccdcddc90000000000000000cccc5b55ccdbddc90000000000000000c0ccdccbccdd9d0c000000000000000000ccccccdbddcd00000000000000000000c0dcddddcd0c0000000000000000000000c0cccc0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex16072 = pxsim.BufferMethods.createBufferFromHex(\"870420002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc00000000000000b0bbbbbbbbcb00c0cd000000000000001bddddddddbd0c1ccd000000000000b011cbccccccbc0c1ccd000000000000b01d6c666666bc0cbccd000000000000b01d6c616661bc0c1ccd000000000000b01d6c161666bccc1bcd000000000000b01d6c666166bcccbbcd000000000000b01d6c666666bccc1bcd000000000000b01d6c666661bccc1bcd000000000000b01d6c666661bcccbbcd000000000000b01d6c666661bccc1bcd000000000000b01d6c666666bc0c1ccd000000000000b01dcbccccccbc0cbccd000000000000c0b1bbbbbbbbbb0cdccb000000000000c0bbbbbbbbbbcb00dc0c00000000000000cccccccccc0c00cc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex16075 = pxsim.BufferMethods.createBufferFromHex(\"87042000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004004000000000000000000000000000054450000000000000000000000440b00bbbb00b0440000000000000040550b00000000b0550400000000000040b5000044bb00005b04000000000000b00b0044ddddbb00b00b0000000000000000405d55d5dd0b00000000000000000000d4555555ddbd0000000000000000000054555555d5bd0000000000000000b44055555555d5dd0b4b000000000040b54055555555d5dd0b5b040000000040b54055555555d5dd0b5b040000000000b44055115555d5dd0b4b000000000000000054115555d5bd00000000000000000000d4555555ddbd00000000000000000000405d55d5dd0b0000000000000000b00b0044ddddbb00b00b00000000000040b5000044bb00005b0400000000000040550b00000000b0550400000000000000440b00bbbb00b0440000000000000000000000544500000000000000000000000000004004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex16078 = pxsim.BufferMethods.createBufferFromHex(\"870420002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bbbb00000000000000000000000000b055bb00bbbbbb000000000000000000b0b5bdbcbbbbddcb0000000000000000b0dbcb5b5555bbdd0c00000000000000b0cbdcbdbb5b55dbcd0000000000000000c0dddb11d15bb5bd0c00000000000000bbbd111111b155bb0c00000000000000db1b111111115bb5cb00000000000000db1bb11d1199b9d5cb00000000000000db1b11bb9199b955cb000000000000005b1b11b19b99995bcb000000000000005b1d1111bb99995ccb00000000000000b0b511bbbb99995ccb00000000000000b0d51d919999d95b0b00000000000000005bdb919999c9d50b0000000000000000b0d51b99d9bcb5000000000000000000005bd5bbbc550b00000000000000000000b05b5555bd000000000000000000000000b0bbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex29793 = pxsim.BufferMethods.createBufferFromHex(\"87040c0015000000000000000000000000000000000000000010010000000000000000111110010000000000100110111111010000000000101311111111111101000000003013f1111111111100000010011011f11111111101000010131111f111111101000000003013f11111010000000000000000111110010000000000000000000010010000000000000000000000000000000000\")\nconst _hex29804 = pxsim.BufferMethods.createBufferFromHex(\"87041000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\n\n\n\n\nfunction inline__P15280(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n  case 1:\n    r0 = pxsim_numops_toBoolDecr(true);\n    if (!r0) { step = 4; continue; }\n    globals.__updated___15275 = (false);\n    s.tmp_0 = pause__P15082_mk(s);\n    s.tmp_0.arg0 = 200;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(globals.__updated___15275);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_2 = control___screen_update__P15276_mk(s);\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n    globals.__updated___15275 = (true);\n  case 2:\n  case 3:\n    { step = 1; continue; }\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P15280.info = {\"start\":396,\"length\":211,\"line\":17,\"column\":26,\"endLine\":26,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/frame.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P15280_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P15280, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction inline__P15311(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_pxtcore.updateScreen(globals.screen___15305);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P15311.info = {\"start\":753,\"length\":26,\"line\":22,\"column\":33,\"endLine\":22,\"endColumn\":59,\"fileName\":\"pxt_modules/screen/targetoverrides.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P15311_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P15311, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n} }\n\n\n\n\n\nfunction inline__P15316(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_pxtcore.updateStats(s.arg0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P15316.info = {\"start\":816,\"length\":56,\"line\":23,\"column\":35,\"endLine\":25,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/targetoverrides.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"msg\"]}\n\nfunction inline__P15316_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P15316, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P15591(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(globals.infoState___15586);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_numops_toBoolDecr(globals.infoStateStack___15588);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    globals.infoStateStack___15588 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"state\", globals.infoState___15586);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"scene\", s.arg0);\n    r0 = pxsim_Array__push(globals.infoStateStack___15588, s.tmp_0);\n    globals.infoState___15586 = (undefined);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P15591.info = {\"start\":1913,\"length\":259,\"line\":73,\"column\":29,\"endLine\":82,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"oldScene\"]}\n\nfunction inline__P15591_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P15591, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P15607(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___15608 = undefined;\n    s.nextState___15617 = undefined;\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    s.scene___15608 = (r0);\n    globals.infoState___15586 = (undefined);\n    s.tmp_0 = r0 = globals.infoStateStack___15588;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_Array__length(globals.infoStateStack___15588);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 5; continue; }\n    r0 = pxsim_Array_.pop(globals.infoStateStack___15588);\n    s.nextState___15617 = (r0);\n    s.tmp_2 = if_scene_1_mk(s);\n    s.tmp_2.arg0 = s.nextState___15617;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"scene\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"scene\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"scene\"]; }\n    else { s.pc = 8; return s.tmp_2; }\n    }\n  case 8:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == s.scene___15608);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_3 = if_state_1_mk(s);\n    s.tmp_3.arg0 = s.nextState___15617;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"state\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"state\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"state\"]; }\n    else { s.pc = 9; return s.tmp_3; }\n    }\n  case 9:\n    r0 = s.retval;\n    globals.infoState___15586 = (r0);\n    { step = 4; continue; }\n  case 3:\n    r0 = pxsim_Array__push(globals.infoStateStack___15588, s.nextState___15617);\n  case 4:\n  case 5:\n  case 6:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P15607.info = {\"start\":2204,\"length\":376,\"line\":84,\"column\":28,\"endLine\":95,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P15607_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P15607, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  scene___15608: undefined,\n  nextState___15617: undefined,\n} }\n\n\n\n\n\nfunction inline__P16117(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sz___16118 = undefined;\n    s.tmp_0 = control_ramSize__P15020_mk(s);\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.sz___16118 = (r0);\n    s.tmp_1 = r0 = s.sz___16118;\n    r0 = (1024 * 100);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 <= s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = 8;\n    { step = 5; continue; }\n    { step = 4; continue; }\n  case 1:\n    s.tmp_4 = r0 = s.sz___16118;\n    r0 = (1024 * 200);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 <= s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 2; continue; }\n    r0 = 16;\n    { step = 5; continue; }\n    { step = 3; continue; }\n  case 2:\n    r0 = 50;\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    r0 = undefined;\n  case 5:\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P16117.info = {\"start\":189,\"length\":217,\"line\":7,\"column\":25,\"endLine\":16,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P16117_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P16117, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  sz___16118: undefined,\n} }\n\n\n\n\n\nfunction inline__P16294(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.random();\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 * 2);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"xOffset\", s.tmp_1);\n    r0 = pxsim.Math_.random();\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 * 2);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 - 1);\n    s.tmp_4 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"yOffset\", s.tmp_4);\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P16294.info = {\"start\":860,\"length\":117,\"line\":31,\"column\":40,\"endLine\":34,\"endColumn\":5,\"fileName\":\"pxt_modules/game/texteffects.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P16294_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P16294, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n} }\n\n\n\n\n\nfunction inline__P16304(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_2 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_2, \"xOffset\", 0);\n    r0 = pxsim.Math_.sin(s.arg0);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 * 2);\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_2, \"yOffset\", s.tmp_3);\n    s.tmp_7 = Math_sign__P14901_mk(s);\n    r0 = pxsim.Math_.sin(s.arg0);\n    s.tmp_7.arg0 = r0;\n    s.pc = 7; return s.tmp_7;\n  case 7:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 < 0);\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_2, \"up\", s.tmp_5);\n    s.arg1 = (s.tmp_2);\n  case 1:\n  case 2:\n    s.tmp_1 = if_up_1_mk(s);\n    s.tmp_1.arg0 = s.arg1;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"up\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"up\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"up\"]; }\n    else { s.pc = 8; return s.tmp_1; }\n    }\n  case 8:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = 1;\n    { step = 4; continue; }\n  case 3:\n    r0 = -1;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.tmp_3 = if_yOffset_2_mk(s);\n    s.tmp_4 = r0 = s.arg1;\n    s.tmp_3.arg0 = r0;\n    s.tmp_6 = if_yOffset_1_mk(s);\n    s.tmp_6.arg0 = s.tmp_4;\n    if (!s.tmp_6.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, \"yOffset\");\n    } else {\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface[\"yOffset\"];\n    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields[\"yOffset\"]; }\n    else { s.pc = 10; return s.tmp_6; }\n    }\n  case 10:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_2 * 0.5);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_5 + s.tmp_7);\n    s.tmp_3.arg1 = r0;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_3.arg0, \"yOffset\", s.tmp_3.arg1);\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"set/yOffset\"];\n    if (s.tmp_3.fn === null) { s.tmp_3.arg0.fields[\"yOffset\"] = s.tmp_3.arg1; }\n    else if (s.tmp_3.fn === undefined) { failedCast(s.tmp_3.arg0) }\n    else { s.pc = 9; return s.tmp_3; }\n    }\n  case 9:\n    r0 = s.retval;\n    s.tmp_2 = Math_abs__P14900_mk(s);\n    s.tmp_3 = if_yOffset_1_mk(s);\n    s.tmp_3.arg0 = s.arg1;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"yOffset\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"yOffset\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"yOffset\"]; }\n    else { s.pc = 12; return s.tmp_3; }\n    }\n  case 12:\n    r0 = s.retval;\n    s.tmp_2.arg0 = r0;\n    s.pc = 11; return s.tmp_2;\n  case 11:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    s.tmp_6 = if_up_1_mk(s);\n    s.tmp_6.arg0 = s.arg1;\n    if (!s.tmp_6.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, \"up\");\n    } else {\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface[\"up\"];\n    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields[\"up\"]; }\n    else { s.pc = 13; return s.tmp_6; }\n    }\n  case 13:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_4);\n    { step = 6; continue; }\n  case 5:\n    s.tmp_7 = if_up_1_mk(s);\n    s.tmp_7.arg0 = s.arg1;\n    if (!s.tmp_7.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, \"up\");\n    } else {\n    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface[\"up\"];\n    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields[\"up\"]; }\n    else { s.pc = 14; return s.tmp_7; }\n    }\n  case 14:\n    r0 = s.retval;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_8 = r0;\n    s.tmp_9 = if_up_2_mk(s);\n    s.tmp_9.arg0 = s.arg1;\n    s.tmp_9.arg1 = s.tmp_8;\n    if (!s.tmp_9.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_9.arg0, \"up\", s.tmp_9.arg1);\n    } else {\n    s.tmp_9.fn = s.tmp_9.arg0.vtable.iface[\"set/up\"];\n    if (s.tmp_9.fn === null) { s.tmp_9.arg0.fields[\"up\"] = s.tmp_9.arg1; }\n    else if (s.tmp_9.fn === undefined) { failedCast(s.tmp_9.arg0) }\n    else { s.pc = 15; return s.tmp_9; }\n    }\n  case 15:\n    r0 = s.retval;\n    r0 = s.arg1;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P16304.info = {\"start\":1127,\"length\":417,\"line\":42,\"column\":39,\"endLine\":55,\"endColumn\":5,\"fileName\":\"pxt_modules/game/texteffects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"index\",\"state\"]}\n\nfunction inline__P16304_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P16304, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P16416(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(globals.animations___16413);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_numops_toBoolDecr(globals.animationStateStack___16414);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    globals.animationStateStack___16414 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"state\", globals.animations___16413);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"scene\", s.arg0);\n    r0 = pxsim_Array__push(globals.animationStateStack___16414, s.tmp_0);\n    globals.animations___16413 = (undefined);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P16416.info = {\"start\":251,\"length\":277,\"line\":12,\"column\":29,\"endLine\":21,\"endColumn\":5,\"fileName\":\"pxt_modules/animation/legacy.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"oldScene\"]}\n\nfunction inline__P16416_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P16416, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P16430(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___16431 = undefined;\n    s.nextState___16438 = undefined;\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    s.scene___16431 = (r0);\n    globals.animations___16413 = (undefined);\n    s.tmp_0 = r0 = globals.animationStateStack___16414;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_Array__length(globals.animationStateStack___16414);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 5; continue; }\n    r0 = pxsim_Array_.pop(globals.animationStateStack___16414);\n    s.nextState___16438 = (r0);\n    s.tmp_2 = if_scene_1_mk(s);\n    s.tmp_2.arg0 = s.nextState___16438;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"scene\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"scene\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"scene\"]; }\n    else { s.pc = 8; return s.tmp_2; }\n    }\n  case 8:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == s.scene___16431);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_3 = if_state_1_mk(s);\n    s.tmp_3.arg0 = s.nextState___16438;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"state\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"state\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"state\"]; }\n    else { s.pc = 9; return s.tmp_3; }\n    }\n  case 9:\n    r0 = s.retval;\n    globals.animations___16413 = (r0);\n    { step = 4; continue; }\n  case 3:\n    r0 = pxsim_Array__push(globals.animationStateStack___16414, s.nextState___16438);\n  case 4:\n  case 5:\n  case 6:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P16430.info = {\"start\":560,\"length\":398,\"line\":23,\"column\":28,\"endLine\":34,\"endColumn\":5,\"fileName\":\"pxt_modules/animation/legacy.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P16430_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P16430, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  scene___16431: undefined,\n  nextState___16438: undefined,\n} }\n\n\n\n\n\nfunction inline__P29646(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_2 = Sprite_ay__P15460_mk(s);\n    s.tmp_2.arg0 = globals.bunny___29649;\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = Sprite_vy__P15457_mk(s);\n    s.tmp_3.arg0 = globals.bunny___29649;\n    s.tmp_3.arg1 = -160;\n    s.pc = 4; return s.tmp_3;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_ay__P15461_mk(s);\n    s.tmp_0.arg0 = globals.bunny___29649;\n    s.tmp_0.arg1 = globals.gravity___29656;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29646.info = {\"start\":133,\"length\":97,\"line\":3,\"column\":60,\"endLine\":8,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29646_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29646, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction inline__P29765(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_over__P15867_mk(s);\n    s.tmp_0.arg0 = false;\n    s.tmp_0.arg1 = globals.melt___16285;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29765.info = {\"start\":32709,\"length\":69,\"line\":545,\"column\":58,\"endLine\":547,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"sprite\",\"otherSprite\"]}\n\nfunction inline__P29765_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29765, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P29813(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_2 = Sprite_bottom__P15476_mk(s);\n    s.tmp_2.arg0 = globals.bunny___29649;\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 105);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = Sprite_bottom__P15477_mk(s);\n    s.tmp_3.arg0 = globals.bunny___29649;\n    s.tmp_3.arg1 = 105;\n    s.pc = 4; return s.tmp_3;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_vy__P15457_mk(s);\n    s.tmp_0.arg0 = globals.bunny___29649;\n    s.tmp_0.arg1 = 0;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_ay__P15461_mk(s);\n    s.tmp_0.arg0 = globals.bunny___29649;\n    s.tmp_0.arg1 = 0;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29813.info = {\"start\":34623,\"length\":120,\"line\":613,\"column\":14,\"endLine\":619,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29813_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29813, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction inline__P29823(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_2 = Sprite_x__P15450_mk(s);\n    s.tmp_2.arg0 = globals.bird___29683;\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = Sprite_setPosition__P15480_mk(s);\n    s.tmp_3.arg0 = globals.bird___29683;\n    r0 = pxsim.Math_.randomRange(160, 240);\n    s.tmp_3.arg1 = r0;\n    r0 = pxsim.Math_.randomRange(20, 60);\n    s.tmp_3.arg2 = r0;\n    s.pc = 4; return s.tmp_3;\n  case 4:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29823.info = {\"start\":34759,\"length\":122,\"line\":620,\"column\":14,\"endLine\":624,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29823_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29823, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction inline__P29833(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = Sprite_x__P15451_mk(s);\n    s.tmp_1 = r0 = globals.bird___29683;\n    s.tmp_0.arg0 = r0;\n    s.tmp_3 = Sprite_x__P15450_mk(s);\n    s.tmp_3.arg0 = s.tmp_1;\n    s.pc = 2; return s.tmp_3;\n  case 2:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + -1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29833.info = {\"start\":34910,\"length\":32,\"line\":625,\"column\":27,\"endLine\":627,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29833_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29833, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction inline__P29840(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.i___29849 = undefined;\n    s.tmp_1 = game_runtime__P15874_mk(s);\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 250);\n    globals.difficultyFactor___29778 = (r0);\n    r0 = (100 + globals.difficultyFactor___29778);\n    globals.osbstacleSpeed___29777 = (r0);\n    r0 = pxsim.Math_.randomRange(1, 3);\n    globals.numObstacles___29776 = (r0);\n    s.i___29849 = (0);\n  case 1:\n    r0 = (s.i___29849 < globals.numObstacles___29776);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = r0 = globals.obstacles___29686;\n    r0 = pxsim_Array__length(globals.obstacles___29686);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - 1);\n    s.tmp_3 = r0;\n    r0 = pxsim.Math_.randomRange(0, s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_1, s.tmp_2);\n    globals.newObstacle___29774 = (r0);\n    s.tmp_0 = sprites_createProjectileFromSide__P15445_mk(s);\n    s.tmp_0.arg0 = globals.newObstacle___29774;\n    r0 = (0 - globals.osbstacleSpeed___29777);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 0;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    globals.projectile___29772 = (r0);\n    s.tmp_0 = Sprite_bottom__P15477_mk(s);\n    s.tmp_0.arg0 = globals.projectile___29772;\n    s.tmp_0.arg1 = 105;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_setKind__P15479_mk(s);\n    s.tmp_0.arg0 = globals.projectile___29772;\n    s.tmp_0.arg1 = globals.Obstacle___29641;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = pause__P15082_mk(s);\n    r0 = (11500 / globals.osbstacleSpeed___29777);\n    s.tmp_0.arg0 = r0;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    r0 = (s.i___29849 + 1);\n    s.i___29849 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.tmp_0 = pause__P15082_mk(s);\n    r0 = pxsim.Math_.randomRange(1500, 2500);\n    s.tmp_0.arg0 = r0;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29840.info = {\"start\":34952,\"length\":519,\"line\":628,\"column\":8,\"endLine\":640,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29840_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29840, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  i___29849: undefined,\n} }\n\n\n\n\n\nfunction inline__P29876(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_1 = Math_percentChance__P15995_mk(s);\n    s.tmp_1.arg0 = 40;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = sprites_createProjectileFromSide__P15445_mk(s);\n    s.tmp_3 = r0 = globals.grassImages___29702;\n    r0 = pxsim_Array__length(globals.grassImages___29702);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 - 1);\n    s.tmp_5 = r0;\n    r0 = pxsim.Math_.randomRange(0, s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_3, s.tmp_4);\n    s.tmp_2.arg0 = r0;\n    s.tmp_10 = game_runtime__P15874_mk(s);\n    s.pc = 5; return s.tmp_10;\n  case 5:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 / 250);\n    s.tmp_8 = r0;\n    r0 = (-100 - s.tmp_8);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 / 2);\n    s.tmp_2.arg1 = r0;\n    s.tmp_2.arg2 = 0;\n    s.pc = 4; return s.tmp_2;\n  case 4:\n    r0 = s.retval;\n    globals.grass___29770 = (r0);\n    s.tmp_0 = Sprite_bottom__P15477_mk(s);\n    s.tmp_0.arg0 = globals.grass___29770;\n    s.tmp_0.arg1 = 100;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = if_z_2_mk(s);\n    s.tmp_0.arg0 = globals.grass___29770;\n    s.tmp_0.arg1 = -1;\n    if (!s.tmp_0.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, \"z\", s.tmp_0.arg1);\n    } else {\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"set/z\"];\n    if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields[\"z\"] = s.tmp_0.arg1; }\n    else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) }\n    else { s.pc = 7; return s.tmp_0; }\n    }\n  case 7:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29876.info = {\"start\":35500,\"length\":248,\"line\":641,\"column\":27,\"endLine\":647,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29876_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29876, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n} }\n\n\n\n\n\nfunction inline__P29893(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = info_changeScoreBy__P15643_mk(s);\n    s.tmp_0.arg0 = 1;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.tmp_2 = info_score__P15639_mk(s);\n    s.pc = 10; return s.tmp_2;\n  case 10:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_5 = info_score__P15639_mk(s);\n    s.pc = 11; return s.tmp_5;\n  case 11:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 % 100);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 == 0);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 3; continue; }\n    s.tmp_7 = effects_ScreenEffect_startScreenEffect__P16257_mk(s);\n    s.tmp_7.arg0 = globals.confetti___16265;\n    s.tmp_7.arg1 = undefined;\n    s.tmp_7.arg2 = undefined;\n    s.pc = 12; return s.tmp_7;\n  case 12:\n    r0 = s.retval;\n    { step = 8; continue; }\n  case 3:\n    s.tmp_2 = info_score__P15639_mk(s);\n    s.pc = 13; return s.tmp_2;\n  case 13:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 4; continue; }\n    r0 = s.tmp_0;\n    { step = 5; continue; }\n  case 4:\n    s.tmp_6 = info_score__P15639_mk(s);\n    s.pc = 14; return s.tmp_6;\n  case 14:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 - 10);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 % 100);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 == 0);\n  case 5:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_7);\n    if (!r0) { step = 6; continue; }\n    s.tmp_8 = effects_ScreenEffect_endScreenEffect__P16258_mk(s);\n    s.tmp_8.arg0 = globals.confetti___16265;\n    s.pc = 15; return s.tmp_8;\n  case 15:\n    r0 = s.retval;\n  case 6:\n  case 7:\n  case 8:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29893.info = {\"start\":35777,\"length\":259,\"line\":648,\"column\":27,\"endLine\":655,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29893_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29893, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n} }\n\n\n\n\n\nfunction inline__P29908(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_1 = Math_percentChance__P15995_mk(s);\n    s.tmp_1.arg0 = 20;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = createCloud__P29745_mk(s);\n    s.pc = 4; return s.tmp_2;\n  case 4:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29908.info = {\"start\":36066,\"length\":77,\"line\":656,\"column\":28,\"endLine\":660,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29908_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29908, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction inline__P29912(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_1 = Math_percentChance__P15995_mk(s);\n    s.tmp_1.arg0 = 60;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_2 = createTree__P29729_mk(s);\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n    s.tmp_1 = Math_percentChance__P15995_mk(s);\n    s.tmp_1.arg0 = 50;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = pause__P15082_mk(s);\n    r0 = pxsim.Math_.randomRange(150, 300);\n    s.tmp_2.arg0 = r0;\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    s.tmp_0 = createTree__P29729_mk(s);\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n  case 1:\n  case 2:\n  case 3:\n  case 4:\n    s.tmp_0 = pause__P15082_mk(s);\n    s.tmp_0.arg0 = 1500;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P29912.info = {\"start\":36153,\"length\":211,\"line\":661,\"column\":8,\"endLine\":670,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P29912_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P29912, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction createTree__P29729(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = sprites_createProjectileFromSide__P15445_mk(s);\n    s.tmp_1 = r0 = globals.trees___29693;\n    r0 = pxsim_Array__length(globals.trees___29693);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - 1);\n    s.tmp_3 = r0;\n    r0 = pxsim.Math_.randomRange(0, s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_1, s.tmp_2);\n    s.tmp_0.arg0 = r0;\n    s.tmp_8 = game_runtime__P15874_mk(s);\n    s.pc = 2; return s.tmp_8;\n  case 2:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 / 250);\n    s.tmp_6 = r0;\n    r0 = (-100 - s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 / 2);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    globals.tree___29731 = (r0);\n    s.tmp_0 = Sprite_bottom__P15477_mk(s);\n    s.tmp_0.arg0 = globals.tree___29731;\n    s.tmp_0.arg1 = 100;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = if_z_2_mk(s);\n    s.tmp_0.arg0 = globals.tree___29731;\n    s.tmp_0.arg1 = -1;\n    if (!s.tmp_0.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, \"z\", s.tmp_0.arg1);\n    } else {\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"set/z\"];\n    if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields[\"z\"] = s.tmp_0.arg1; }\n    else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) }\n    else { s.pc = 4; return s.tmp_0; }\n    }\n  case 4:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncreateTree__P29729.info = {\"start\":32268,\"length\":192,\"line\":535,\"column\":0,\"endLine\":539,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"createTree\",\"argumentNames\":[]}\n\nfunction createTree__P29729_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: createTree__P29729, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n} }\n\n\n\n\n\nfunction createCloud__P29745(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = sprites_createProjectileFromSide__P15445_mk(s);\n    s.tmp_1 = r0 = globals.clouds___29717;\n    r0 = pxsim_Array__length(globals.clouds___29717);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - 1);\n    s.tmp_3 = r0;\n    r0 = pxsim.Math_.randomRange(0, s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_1, s.tmp_2);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = -30;\n    s.tmp_0.arg2 = 0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    globals.cloud___29747 = (r0);\n    s.tmp_0 = Sprite_bottom__P15477_mk(s);\n    s.tmp_0.arg0 = globals.cloud___29747;\n    r0 = pxsim.Math_.randomRange(30, 55);\n    s.tmp_0.arg1 = r0;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0 = if_z_2_mk(s);\n    s.tmp_0.arg0 = globals.cloud___29747;\n    s.tmp_0.arg1 = -2;\n    if (!s.tmp_0.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, \"z\", s.tmp_0.arg1);\n    } else {\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"set/z\"];\n    if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields[\"z\"] = s.tmp_0.arg1; }\n    else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) }\n    else { s.pc = 3; return s.tmp_0; }\n    }\n  case 3:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncreateCloud__P29745.info = {\"start\":32461,\"length\":189,\"line\":540,\"column\":0,\"endLine\":544,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"createCloud\",\"argumentNames\":[]}\n\nfunction createCloud__P29745_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: createCloud__P29745, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n} }\n\n\n\n\n\nfunction effects_ScreenEffect_endScreenEffect__P16258(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ScreenEffect__C16255_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"source\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = particles_ParticleSource_destroy__P16135_mk(s);\n    r0 = s.arg0.fields[\"source\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"source\"] = (undefined);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ScreenEffect_endScreenEffect__P16258.info = {\"start\":4539,\"length\":160,\"line\":121,\"column\":8,\"endLine\":126,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"endScreenEffect\",\"argumentNames\":[\"this\"]}\n\nfunction effects_ScreenEffect_endScreenEffect__P16258_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ScreenEffect_endScreenEffect__P16258, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_destroy__P16135(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    s.tmp_0 = particles_ParticleSource_enabled__P16134_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = false;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"pFlags\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"pFlags\"] = (s.tmp_1);\n    s.tmp_0 = particles_ParticleSource__prune__P16130_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_destroy__P16135.info = {\"start\":6601,\"length\":240,\"line\":221,\"column\":8,\"endLine\":226,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"destroy\",\"argumentNames\":[\"this\"]}\n\nfunction particles_ParticleSource_destroy__P16135_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_destroy__P16135, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_enabled__P16134(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    s.tmp_1 = r0 = s.arg1;\n    s.tmp_3 = particles_ParticleSource_enabled__P16133_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 5; return s.tmp_3;\n  case 5:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 !== s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"pFlags\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 | 1);\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"pFlags\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 ^ 1);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = (s.arg0).fields[\"pFlags\"] = (s.tmp_6);\n    r0 = (s.arg0).fields[\"timer\"] = (0);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_enabled__P16134.info = {\"start\":6323,\"length\":214,\"line\":211,\"column\":8,\"endLine\":216,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"enabled\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction particles_ParticleSource_enabled__P16134_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_enabled__P16134, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_enabled__P16133(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"pFlags\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 & 1);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_enabled__P16133.info = {\"start\":6129,\"length\":76,\"line\":204,\"column\":8,\"endLine\":206,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"enabled\",\"argumentNames\":[\"this\"]}\n\nfunction particles_ParticleSource_enabled__P16133_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_enabled__P16133, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource__prune__P16130(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___17177 = undefined;\n    s.sources___17186 = undefined;\n    s.current___17198 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n  case 1:\n    r0 = s.arg0.fields[\"head\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 2; continue; }\n    r0 = s.tmp_0;\n    { step = 3; continue; }\n  case 2:\n    r0 = s.arg0.fields[\"head\"];\n    r0 = r0.fields[\"lifespan\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= 0);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 4; continue; }\n    r0 = s.arg0.fields[\"head\"];\n    r0 = r0.fields[\"next\"];\n    s.tmp_3 = r0;\n    r0 = (s.arg0).fields[\"head\"] = (s.tmp_3);\n    { step = 1; continue; }\n  case 4:\n    r0 = s.arg0.fields[\"pFlags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    r0 = s.arg0.fields[\"head\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 13; continue; }\n    s.tmp_5 = game_currentScene__P15610_mk(s);\n    s.pc = 21; return s.tmp_5;\n  case 21:\n    r0 = s.retval;\n    s.scene___17177 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.scene___17177);\n    if (!r0) { step = 7; continue; }\n    r0 = s.scene___17177.fields[\"allSprites\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg0);\n  case 7:\n  case 8:\n    s.tmp_0 = particles_particleSources__P16161_mk(s);\n    s.pc = 22; return s.tmp_0;\n  case 22:\n    r0 = s.retval;\n    s.sources___17186 = (r0);\n    s.tmp_0 = r0 = s.sources___17186;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 9; continue; }\n    r0 = s.tmp_0;\n    { step = 10; continue; }\n  case 9:\n    r0 = pxsim_Array__length(s.sources___17186);\n  case 10:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 11; continue; }\n    r0 = pxsim_Array_.removeElement(s.sources___17186, s.arg0);\n  case 11:\n  case 12:\n    r0 = s.arg0.fields[\"anchor\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 == undefined);\n  case 13:\n  case 14:\n    r0 = s.arg0.fields[\"head\"];\n    s.current___17198 = (r0);\n  case 15:\n    s.tmp_0 = r0 = s.current___17198;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 16; continue; }\n    r0 = s.tmp_0;\n    { step = 17; continue; }\n  case 16:\n    r0 = s.current___17198.fields[\"next\"];\n  case 17:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 20; continue; }\n    r0 = s.current___17198.fields[\"next\"];\n    r0 = r0.fields[\"lifespan\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 <= 0);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 18; continue; }\n    r0 = s.current___17198.fields[\"next\"];\n    r0 = r0.fields[\"next\"];\n    s.tmp_4 = r0;\n    r0 = (s.current___17198).fields[\"next\"] = (s.tmp_4);\n    { step = 19; continue; }\n  case 18:\n    r0 = s.current___17198.fields[\"next\"];\n    s.current___17198 = (r0);\n  case 19:\n    { step = 15; continue; }\n  case 20:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource__prune__P16130.info = {\"start\":4921,\"length\":830,\"line\":163,\"column\":8,\"endLine\":186,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"_prune\",\"argumentNames\":[\"this\"]}\n\nfunction particles_ParticleSource__prune__P16130_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource__prune__P16130, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  scene___17177: undefined,\n  sources___17186: undefined,\n  current___17198: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_particleSources__P16161(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sources___17216 = undefined;\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = r0.fields[\"particleSources\"];\n    s.sources___17216 = (r0);\n    r0 = s.sources___17216;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_particleSources__P16161.info = {\"start\":12361,\"length\":119,\"line\":409,\"column\":4,\"endLine\":412,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"particleSources\",\"argumentNames\":[]}\n\nfunction particles_particleSources__P16161_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_particleSources__P16161, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  sources___17216: undefined,\n} }\n\n\n\n\n\nfunction inline__P17247(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.factory___17250 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_pxtcore_mkClassInstance(particles_ConfettiFactory__C16205_VT);\n    s.tmp_0 = r0;\n    s.tmp_2 = if_width_1_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"width\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"width\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"width\"]; }\n    else { s.pc = 3; return s.tmp_2; }\n    }\n  case 3:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = if_width_1_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"width\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"width\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"width\"]; }\n    else { s.pc = 4; return s.tmp_3; }\n    }\n  case 4:\n    r0 = s.retval;\n    { step = 2; continue; }\n  case 1:\n    r0 = 16;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    s.tmp_5 = particles_ConfettiFactory_constructor__P16207_mk(s);\n    s.tmp_5.arg0 = s.tmp_0;\n    s.tmp_5.arg1 = s.tmp_4;\n    s.tmp_5.arg2 = 16;\n    s.pc = 5; return s.tmp_5;\n  case 5:\n    r0 = s.retval;\n    s.factory___17250 = (s.tmp_0);\n    s.tmp_0 = particles_SprayFactory_setSpeed__P16186_mk(s);\n    s.tmp_0.arg0 = s.factory___17250;\n    s.tmp_0.arg1 = 30;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkClassInstance(particles_ParticleSource__C16126_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = particles_ParticleSource_constructor__P16143_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg0;\n    s.tmp_1.arg2 = s.arg1;\n    s.tmp_1.arg3 = s.factory___17250;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P17247.info = {\"start\":7444,\"length\":284,\"line\":190,\"column\":59,\"endLine\":194,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"anchor\",\"particlesPerSecond\"]}\n\nfunction inline__P17247_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P17247, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  factory___17250: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_constructor__P16143(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sources___17272 = undefined;\n    s.removedSource___17279 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    s.tmp_0 = sprites_BaseSprite_constructor__P15357_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 0;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = particles_init__P16146_mk(s);\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = particles_particleSources__P16161_mk(s);\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    s.sources___17272 = (r0);\n    r0 = pxsim_Array__length(s.sources___17272);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 >= globals.MAX_SOURCES___16115);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = particles_sortSources__P16149_mk(s);\n    s.tmp_2.arg0 = s.sources___17272;\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    r0 = pxsim_Array_.removeAt(s.sources___17272, 0);\n    s.removedSource___17279 = (r0);\n    s.tmp_0 = particles_ParticleSource_clear__P16136_mk(s);\n    s.tmp_0.arg0 = s.removedSource___17279;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.tmp_0 = particles_ParticleSource_destroy__P16135_mk(s);\n    s.tmp_0.arg0 = s.removedSource___17279;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = (s.arg0).fields[\"pFlags\"] = (0);\n    s.tmp_0 = particles_ParticleSource_setRate__P16138_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg2;\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n    s.tmp_0 = particles_ParticleSource_setAcceleration__P16131_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 0;\n    s.tmp_0.arg2 = 0;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    s.tmp_0 = particles_ParticleSource_setAnchor__P16137_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"lifespan\"] = (undefined);\n    r0 = (s.arg0).fields[\"_dt\"] = (0);\n    r0 = (s.arg0).fields[\"priority\"] = (0);\n    s.tmp_0 = r0 = s.arg3;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = globals.defaultFactory___16144;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.tmp_2 = particles_ParticleSource_setFactory__P16140_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.tmp_2.arg1 = s.tmp_1;\n    s.pc = 14; return s.tmp_2;\n  case 14:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.sources___17272, s.arg0);\n    s.tmp_0 = particles_ParticleSource_enabled__P16134_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = true;\n    s.pc = 15; return s.tmp_0;\n  case 15:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_constructor__P16143.info = {\"start\":2230,\"length\":899,\"line\":84,\"column\":8,\"endLine\":107,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"anchor\",\"particlesPerSecond\",\"factory\"]}\n\nfunction particles_ParticleSource_constructor__P16143_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_constructor__P16143, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  sources___17272: undefined,\n  removedSource___17279: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction particles_sortSources__P16149(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = helpers_arraySort__P14884_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = inline__P17447;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_sortSources__P16149.info = {\"start\":9539,\"length\":129,\"line\":320,\"column\":4,\"endLine\":322,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"sortSources\",\"argumentNames\":[\"sources\"]}\n\nfunction particles_sortSources__P16149_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_sortSources__P16149, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P17447(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"priority\"];\n    s.tmp_1 = r0;\n    r0 = s.arg1.fields[\"priority\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 - s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_3 = r0;\n    r0 = s.arg1.fields[\"id\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 - s.tmp_4);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = s.tmp_5;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P17447.info = {\"start\":9610,\"length\":50,\"line\":321,\"column\":21,\"endLine\":321,\"endColumn\":71,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction inline__P17447_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P17447, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_arraySort__P14884(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_Array__length(s.arg0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 > 1);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    s.arg1 = (inline__P17467);\n  case 3:\n  case 4:\n    s.tmp_0 = helpers_sortHelper__P14883_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arraySort__P14884.info = {\"start\":3380,\"length\":859,\"line\":123,\"column\":4,\"endLine\":143,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arraySort\",\"argumentNames\":[\"arr\",\"callbackfn\"]}\n\nfunction helpers_arraySort__P14884_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arraySort__P14884, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P17467(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.aIsUndef___17470 = undefined;\n    s.bIsUndef___17473 = undefined;\n    s.aIsNull___17481 = undefined;\n    s.bIsNull___17484 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 === undefined);\n    s.aIsUndef___17470 = (r0);\n    r0 = (s.arg1 === undefined);\n    s.bIsUndef___17473 = (r0);\n    s.tmp_0 = r0 = s.aIsUndef___17470;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.bIsUndef___17473;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    r0 = 0;\n    { step = 17; continue; }\n    { step = 8; continue; }\n  case 3:\n    r0 = pxsim_numops_toBoolDecr(s.aIsUndef___17470);\n    if (!r0) { step = 4; continue; }\n    r0 = 1;\n    { step = 17; continue; }\n    { step = 7; continue; }\n  case 4:\n    r0 = pxsim_numops_toBoolDecr(s.bIsUndef___17473);\n    if (!r0) { step = 5; continue; }\n    r0 = -1;\n    { step = 17; continue; }\n  case 5:\n  case 6:\n  case 7:\n  case 8:\n    r0 = (s.arg0 === null);\n    s.aIsNull___17481 = (r0);\n    r0 = (s.arg1 === null);\n    s.bIsNull___17484 = (r0);\n    s.tmp_0 = r0 = s.aIsNull___17481;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 9; continue; }\n    r0 = s.tmp_0;\n    { step = 10; continue; }\n  case 9:\n    r0 = s.bIsNull___17484;\n  case 10:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 11; continue; }\n    r0 = 0;\n    { step = 17; continue; }\n    { step = 16; continue; }\n  case 11:\n    r0 = pxsim_numops_toBoolDecr(s.aIsNull___17481);\n    if (!r0) { step = 12; continue; }\n    r0 = 1;\n    { step = 17; continue; }\n    { step = 15; continue; }\n  case 12:\n    r0 = pxsim_numops_toBoolDecr(s.bIsNull___17484);\n    if (!r0) { step = 13; continue; }\n    r0 = -1;\n    { step = 17; continue; }\n  case 13:\n  case 14:\n  case 15:\n  case 16:\n    if ((s.arg0) && (s.arg0).vtable) {\n    setupResume(s, 18);\n    pxsim_String__stringConv(s.arg0);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg0) + \"\"; }\n  case 18:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);\n    s.tmp_2 = r0;\n    if ((s.arg1) && (s.arg1).vtable) {\n    setupResume(s, 19);\n    pxsim_String__stringConv(s.arg1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg1) + \"\"; }\n  case 19:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_7 = r0;\n    r0 = pxsim_String__concat(s.tmp_6, s.tmp_7);\n    s.tmp_5 = r0;\n    r0 = pxsim_String_.compare(s.tmp_2, s.tmp_5);\n  case 17:\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P17467.info = {\"start\":3543,\"length\":636,\"line\":125,\"column\":25,\"endLine\":140,\"endColumn\":13,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction inline__P17467_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P17467, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  aIsUndef___17470: undefined,\n  bIsUndef___17473: undefined,\n  aIsNull___17481: undefined,\n  bIsNull___17484: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_sortHelper__P14883(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.len___17515 = undefined;\n    s.i___17518 = undefined;\n    s.j___17522 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__length(s.arg0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    r0 = s.arg0;\n    { step = 11; continue; }\n  case 3:\n  case 4:\n    r0 = pxsim_Array__length(s.arg0);\n    s.len___17515 = (r0);\n    s.i___17518 = (0);\n  case 5:\n    s.tmp_1 = r0 = s.i___17518;\n    r0 = (s.len___17515 - 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 10; continue; }\n    r0 = (s.i___17518 + 1);\n    s.j___17522 = (r0);\n  case 6:\n    r0 = (s.j___17522 < s.len___17515);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    s.tmp_3 = lambda_3_mk(s);\n    s.tmp_3.argL = s.arg1;\n    r0 = pxsim_Array__getAt(s.arg0, s.i___17518);\n    s.tmp_3.arg0 = r0;\n    r0 = pxsim_Array__getAt(s.arg0, s.j___17522);\n    s.tmp_3.arg1 = r0;\n    setupLambda(s.tmp_3, s.tmp_3.argL);\n    s.pc = 12; return s.tmp_3;\n  case 12:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 > 0);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 7; continue; }\n    s.tmp_4 = helpers_swap__P14882_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    s.tmp_4.arg1 = s.i___17518;\n    s.tmp_4.arg2 = s.j___17522;\n    s.pc = 13; return s.tmp_4;\n  case 13:\n    r0 = s.retval;\n  case 7:\n  case 8:\n    r0 = (s.j___17522 + 1);\n    s.j___17522 = (r0);\n    { step = 6; continue; }\n  case 9:\n    r0 = (s.i___17518 + 1);\n    s.i___17518 = (r0);\n    { step = 5; continue; }\n  case 10:\n    r0 = s.arg0;\n  case 11:\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_sortHelper__P14883.info = {\"start\":2893,\"length\":481,\"line\":107,\"column\":4,\"endLine\":121,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"sortHelper\",\"argumentNames\":[\"arr\",\"callbackfn\"]}\n\nfunction helpers_sortHelper__P14883_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_sortHelper__P14883, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  len___17515: undefined,\n  i___17518: undefined,\n  j___17522: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_swap__P14882(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.temp___17545 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__getAt(s.arg0, s.arg1);\n    s.temp___17545 = (r0);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_1 = r0 = s.arg1;\n    r0 = pxsim_Array__getAt(s.arg0, s.arg2);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array_.setAt(s.tmp_0, s.tmp_1, s.tmp_2);\n    r0 = pxsim_Array_.setAt(s.arg0, s.arg2, s.temp___17545);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_swap__P14882.info = {\"start\":2747,\"length\":140,\"line\":101,\"column\":4,\"endLine\":105,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"swap\",\"argumentNames\":[\"arr\",\"i\",\"j\"]}\n\nfunction helpers_swap__P14882_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_swap__P14882, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  temp___17545: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction particles_init__P16146(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___17557 = undefined;\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.scene___17557 = (r0);\n    r0 = s.scene___17557.fields[\"particleSources\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    s.tmp_1 = r0 = s.scene___17557;\n    r0 = pxsim_Array__mk();\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1).fields[\"particleSources\"] = (s.tmp_2);\n    r0 = pxsim.control.millis();\n    globals.lastUpdate___16123 = (r0);\n    s.tmp_0 = game_onUpdate__P15868_mk(s);\n    s.tmp_0.arg0 = particles_updateParticles__P16147;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = game_onUpdateInterval__P15869_mk(s);\n    s.tmp_0.arg0 = 250;\n    s.tmp_0.arg1 = particles_pruneParticles__P16148;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_init__P16146.info = {\"start\":8745,\"length\":276,\"line\":292,\"column\":4,\"endLine\":299,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"init\",\"argumentNames\":[]}\n\nfunction particles_init__P16146_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_init__P16146, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  scene___17557: undefined,\n} }\n\n\n\n\n\nfunction particles_pruneParticles__P16148(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sources___17571 = undefined;\n    s.tmp_0 = particles_particleSources__P16161_mk(s);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.sources___17571 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.sources___17571);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_1 = helpers_arraySlice__P14893_mk(s);\n    s.tmp_1.arg0 = s.sources___17571;\n    s.tmp_1.arg1 = 0;\n    r0 = pxsim_Array__length(s.sources___17571);\n    s.tmp_1.arg2 = r0;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = inline__P17581;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_pruneParticles__P16148.info = {\"start\":9373,\"length\":156,\"line\":315,\"column\":4,\"endLine\":318,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"pruneParticles\",\"argumentNames\":[]}\n\nfunction particles_pruneParticles__P16148_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_pruneParticles__P16148, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  sources___17571: undefined,\n} }\n\n\n\n\n\nfunction inline__P17581(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = particles_ParticleSource__prune__P16130_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P17581.info = {\"start\":9506,\"length\":15,\"line\":317,\"column\":62,\"endLine\":317,\"endColumn\":77,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"s\"]}\n\nfunction inline__P17581_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P17581, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction helpers_arraySlice__P14893(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.res___17588 = undefined;\n    s.len___17590 = undefined;\n    s.i___17616 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.res___17588 = (r0);\n    r0 = pxsim_Array__length(s.arg0);\n    s.len___17590 = (r0);\n    r0 = (s.arg1 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.arg1 = (0);\n    { step = 4; continue; }\n  case 1:\n    r0 = (s.arg1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = Math_max__P14902_mk(s);\n    r0 = (s.len___17590 + s.arg1);\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 0;\n    s.pc = 16; return s.tmp_1;\n  case 16:\n    r0 = s.retval;\n    s.arg1 = (r0);\n  case 2:\n  case 3:\n  case 4:\n    r0 = (s.arg1 > s.len___17590);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = s.res___17588;\n    { step = 15; continue; }\n  case 5:\n  case 6:\n    r0 = (s.arg2 === undefined);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 7; continue; }\n    s.arg2 = (s.len___17590);\n    { step = 10; continue; }\n  case 7:\n    r0 = (s.arg2 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 8; continue; }\n    r0 = (s.len___17590 + s.arg2);\n    s.arg2 = (r0);\n  case 8:\n  case 9:\n  case 10:\n    r0 = (s.arg2 > s.len___17590);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    s.arg2 = (s.len___17590);\n  case 11:\n  case 12:\n    s.i___17616 = (s.arg1);\n  case 13:\n    r0 = (s.i___17616 < s.arg2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 14; continue; }\n    s.tmp_1 = r0 = s.res___17588;\n    r0 = pxsim_Array__getAt(s.arg0, s.i___17616);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);\n    r0 = (s.i___17616 + 1);\n    s.i___17616 = (r0);\n    { step = 13; continue; }\n  case 14:\n    r0 = s.res___17588;\n  case 15:\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arraySlice__P14893.info = {\"start\":6626,\"length\":690,\"line\":215,\"column\":4,\"endLine\":240,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arraySlice\",\"argumentNames\":[\"arr\",\"start\",\"end\"]}\n\nfunction helpers_arraySlice__P14893_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arraySlice__P14893, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  res___17588: undefined,\n  len___17590: undefined,\n  i___17616: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Math_max__P14902(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 >= s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0;\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg1;\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_max__P14902.info = {\"start\":10801,\"length\":105,\"line\":365,\"column\":4,\"endLine\":368,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"max\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Math_max__P14902_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_max__P14902, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_arrayForEach__P14888(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.len___17637 = undefined;\n    s.i___17640 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__length(s.arg0);\n    s.len___17637 = (r0);\n    s.i___17640 = (0);\n  case 1:\n    r0 = (s.i___17640 < s.len___17637);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = lambda_3_mk(s);\n    s.tmp_1.argL = s.arg1;\n    r0 = pxsim_Array__getAt(s.arg0, s.i___17640);\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = s.i___17640;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    r0 = (s.i___17640 + 1);\n    s.i___17640 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arrayForEach__P14888.info = {\"start\":5156,\"length\":250,\"line\":170,\"column\":4,\"endLine\":175,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arrayForEach\",\"argumentNames\":[\"arr\",\"callbackfn\"]}\n\nfunction helpers_arrayForEach__P14888_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arrayForEach__P14888, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  len___17637: undefined,\n  i___17640: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_updateParticles__P16147(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sources___17650 = undefined;\n    s.time___17655 = undefined;\n    s.dt___17658 = undefined;\n    s.i___17663 = undefined;\n    s.tmp_0 = particles_particleSources__P16161_mk(s);\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.sources___17650 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.sources___17650);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    s.tmp_2 = particles_sortSources__P16149_mk(s);\n    s.tmp_2.arg0 = s.sources___17650;\n    s.pc = 7; return s.tmp_2;\n  case 7:\n    r0 = s.retval;\n    r0 = pxsim.control.millis();\n    s.time___17655 = (r0);\n    r0 = (s.time___17655 - globals.lastUpdate___16123);\n    s.dt___17658 = (r0);\n    globals.lastUpdate___16123 = (s.time___17655);\n    s.i___17663 = (0);\n  case 3:\n    s.tmp_1 = r0 = s.i___17663;\n    r0 = pxsim_Array__length(s.sources___17650);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_3 = particles_ParticleSource__update__P16129_mk(s);\n    r0 = pxsim_Array__getAt(s.sources___17650, s.i___17663);\n    s.tmp_3.arg0 = r0;\n    s.tmp_3.arg1 = s.dt___17658;\n    s.pc = 8; return s.tmp_3;\n  case 8:\n    r0 = s.retval;\n    r0 = (s.i___17663 + 1);\n    s.i___17663 = (r0);\n    { step = 3; continue; }\n  case 4:\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_updateParticles__P16147.info = {\"start\":9027,\"length\":340,\"line\":301,\"column\":4,\"endLine\":313,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"updateParticles\",\"argumentNames\":[]}\n\nfunction particles_updateParticles__P16147_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_updateParticles__P16147, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  sources___17650: undefined,\n  time___17655: undefined,\n  dt___17658: undefined,\n  i___17663: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource__update__P16129(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.p___17717 = undefined;\n    s.current___17733 = undefined;\n    s.fixedDt___17740 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"timer\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.arg1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"timer\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"lifespan\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_2 = r0 = s.arg0;\n    r0 = s.tmp_2.fields[\"lifespan\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - s.arg1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2).fields[\"lifespan\"] = (s.tmp_3);\n    r0 = s.arg0.fields[\"lifespan\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = (s.arg0).fields[\"lifespan\"] = (undefined);\n    s.tmp_0 = particles_ParticleSource_destroy__P16135_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 28; return s.tmp_0;\n  case 28:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    { step = 10; continue; }\n  case 3:\n    r0 = s.arg0.fields[\"anchor\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 4; continue; }\n    r0 = s.tmp_0;\n    { step = 5; continue; }\n  case 4:\n    s.tmp_2 = if_flags_1_mk(s);\n    r0 = s.arg0.fields[\"anchor\"];\n    s.tmp_2.arg0 = r0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"flags\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"flags\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"flags\"]; }\n    else { s.pc = 29; return s.tmp_2; }\n    }\n  case 29:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n  case 5:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (r0) { step = 6; continue; }\n    r0 = s.tmp_3;\n    { step = 7; continue; }\n  case 6:\n    s.tmp_5 = if_flags_1_mk(s);\n    r0 = s.arg0.fields[\"anchor\"];\n    s.tmp_5.arg0 = r0;\n    if (!s.tmp_5.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, \"flags\");\n    } else {\n    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface[\"flags\"];\n    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields[\"flags\"]; }\n    else { s.pc = 30; return s.tmp_5; }\n    }\n  case 30:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 & 2);\n  case 7:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 8; continue; }\n    r0 = (s.arg0).fields[\"lifespan\"] = (750);\n  case 8:\n  case 9:\n  case 10:\n  case 11:\n    r0 = s.arg0.fields[\"timer\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 12; continue; }\n    r0 = s.tmp_0;\n    { step = 13; continue; }\n  case 12:\n    s.tmp_2 = particles_ParticleSource_enabled__P16133_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 31; return s.tmp_2;\n  case 31:\n    r0 = s.retval;\n  case 13:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 16; continue; }\n    s.tmp_4 = r0 = s.arg0;\n    r0 = s.tmp_4.fields[\"timer\"];\n    s.tmp_6 = r0;\n    r0 = s.arg0.fields[\"period\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_6 + s.tmp_7);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4).fields[\"timer\"] = (s.tmp_5);\n    s.tmp_0 = particles_ParticleFactory__C16178_v0_2_mk(s);\n    r0 = s.arg0.fields[\"_factory\"];\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg0.fields[\"anchor\"];\n    s.tmp_0.arg1 = r0;\n    if (!checkSubtype(s.tmp_0.arg0, particles_ParticleFactory__C16178_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.createParticle;\n    s.pc = 32; return s.tmp_0;\n  case 32:\n    r0 = s.retval;\n    s.p___17717 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.p___17717);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 14; continue; }\n    { step = 11; continue; }\n  case 14:\n  case 15:\n    r0 = s.arg0.fields[\"head\"];\n    s.tmp_2 = r0;\n    r0 = (s.p___17717).fields[\"next\"] = (s.tmp_2);\n    r0 = (s.arg0).fields[\"head\"] = (s.p___17717);\n    { step = 11; continue; }\n  case 16:\n    r0 = s.arg0.fields[\"head\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 17; continue; }\n    { step = 27; continue; }\n  case 17:\n  case 18:\n    r0 = s.arg0.fields[\"head\"];\n    s.current___17733 = (r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"_dt\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.arg1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_dt\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"_dt\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 * 256);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 | 0);\n    s.fixedDt___17740 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.fixedDt___17740);\n    if (!r0) { step = 23; continue; }\n  case 19:\n    r0 = s.current___17733.fields[\"lifespan\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 20; continue; }\n    s.tmp_2 = r0 = s.current___17733;\n    r0 = s.tmp_2.fields[\"lifespan\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - s.arg1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2).fields[\"lifespan\"] = (s.tmp_3);\n    s.tmp_0 = particles_ParticleSource__C16126_v4_3_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.current___17733;\n    s.tmp_0.arg2 = s.fixedDt___17740;\n    if (!checkSubtype(s.tmp_0.arg0, particles_ParticleSource__C16126_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.updateParticle;\n    s.pc = 33; return s.tmp_0;\n  case 33:\n    r0 = s.retval;\n  case 20:\n  case 21:\n    r0 = s.current___17733.fields[\"next\"];\n    s.tmp_0 = r0;\n    s.current___17733 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 22; continue; }\n    { step = 19; continue; }\n  case 22:\n    r0 = (s.arg0).fields[\"_dt\"] = (0);\n    { step = 26; continue; }\n  case 23:\n  case 24:\n    s.tmp_0 = r0 = s.current___17733;\n    r0 = s.tmp_0.fields[\"lifespan\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.arg1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"lifespan\"] = (s.tmp_1);\n    r0 = s.current___17733.fields[\"next\"];\n    s.tmp_0 = r0;\n    s.current___17733 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 25; continue; }\n    { step = 24; continue; }\n  case 25:\n  case 26:\n  case 27:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource__update__P16129.info = {\"start\":3511,\"length\":1400,\"line\":121,\"column\":8,\"endLine\":161,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"_update\",\"argumentNames\":[\"this\",\"dt\"]}\n\nfunction particles_ParticleSource__update__P16129_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource__update__P16129, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  p___17717: undefined,\n  current___17733: undefined,\n  fixedDt___17740: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleFactory_createParticle__P16179(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.p___17833 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleFactory__C16178_VT)) failedCast(r0);\n    r0 = pxsim_pxtcore_mkClassInstance(particles_Particle__C16124_VT);\n    s.p___17833 = (r0);\n    s.tmp_0 = r0 = s.p___17833;\n    s.tmp_3 = if_x_1_mk(s);\n    s.tmp_3.arg0 = s.arg1;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"x\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"x\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"x\"]; }\n    else { s.pc = 1; return s.tmp_3; }\n    }\n  case 1:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 * 256);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_x\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.p___17833;\n    s.tmp_3 = if_y_1_mk(s);\n    s.tmp_3.arg0 = s.arg1;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"y\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"y\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"y\"]; }\n    else { s.pc = 2; return s.tmp_3; }\n    }\n  case 2:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 * 256);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_y\"] = (s.tmp_1);\n    r0 = (s.p___17833).fields[\"vx\"] = (globals.zeroFx8___14920);\n    r0 = (s.p___17833).fields[\"vy\"] = (globals.zeroFx8___14920);\n    r0 = (s.p___17833).fields[\"lifespan\"] = (500);\n    r0 = s.p___17833;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleFactory_createParticle__P16179.info = {\"start\":1822,\"length\":282,\"line\":67,\"column\":8,\"endLine\":77,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"createParticle\",\"argumentNames\":[\"this\",\"anchor\"]}\n\nfunction particles_ParticleFactory_createParticle__P16179_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleFactory_createParticle__P16179, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  p___17833: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_updateParticle__P16141(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    r0 = (s.arg2 >> 10);\n    s.arg2 = (r0);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"vx\"];\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"ax\"];\n    s.tmp_4 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_4, s.arg2);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 8);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"vx\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"vy\"];\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"ay\"];\n    s.tmp_4 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_4, s.arg2);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 8);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"vy\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"_x\"];\n    s.tmp_2 = r0;\n    r0 = s.arg1.fields[\"vx\"];\n    s.tmp_4 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_4, s.arg2);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 8);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_x\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"_y\"];\n    s.tmp_2 = r0;\n    r0 = s.arg1.fields[\"vy\"];\n    s.tmp_4 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_4, s.arg2);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 8);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_y\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_updateParticle__P16141.info = {\"start\":7756,\"length\":357,\"line\":265,\"column\":8,\"endLine\":273,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"updateParticle\",\"argumentNames\":[\"this\",\"p\",\"fixedDt\"]}\n\nfunction particles_ParticleSource_updateParticle__P16141_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_updateParticle__P16141, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Fx_rightShift__P14938(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 >> s.arg1);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_rightShift__P14938.info = {\"start\":1883,\"length\":108,\"line\":62,\"column\":4,\"endLine\":64,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"rightShift\",\"argumentNames\":[\"a\",\"n\"]}\n\nfunction Fx_rightShift__P14938_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_rightShift__P14938, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Fx_mul__P14930(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim.Math_.imul(s.arg0, s.arg1);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 8);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_mul__P14930.info = {\"start\":859,\"length\":133,\"line\":29,\"column\":4,\"endLine\":31,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"mul\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Fx_mul__P14930_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_mul__P14930, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Fx_add__P14927(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 + s.arg1);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_add__P14927.info = {\"start\":498,\"length\":118,\"line\":20,\"column\":4,\"endLine\":22,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"add\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Fx_add__P14927_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_add__P14927, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_SprayFactory_constructor__P16188(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_SprayFactory__C16182_VT)) failedCast(r0);\n    r0 = undefined;\n    s.tmp_0 = particles_initTrig__P16172_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = particles_SprayFactory_setSpeed__P16186_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0 = particles_SprayFactory_setDirection__P16187_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg2;\n    s.tmp_0.arg2 = s.arg3;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_SprayFactory_constructor__P16188.info = {\"start\":2623,\"length\":218,\"line\":98,\"column\":8,\"endLine\":103,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"speed\",\"centerDegrees\",\"arcDegrees\"]}\n\nfunction particles_SprayFactory_constructor__P16188_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_SprayFactory_constructor__P16188, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction particles_SprayFactory_setDirection__P16187(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_SprayFactory__C16182_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_4 = particles_toRadians__P16177_mk(s);\n    s.tmp_5 = r0 = s.arg1;\n    r0 = (s.arg2 >> 1);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 - s.tmp_6);\n    s.tmp_4.arg0 = r0;\n    s.pc = 1; return s.tmp_4;\n  case 1:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 / globals.angleSlice___16169);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"minAngle\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_4 = particles_toRadians__P16177_mk(s);\n    s.tmp_4.arg0 = s.arg2;\n    s.pc = 2; return s.tmp_4;\n  case 2:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 / globals.angleSlice___16169);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"spread\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_SprayFactory_setDirection__P16187.info = {\"start\":3424,\"length\":228,\"line\":123,\"column\":8,\"endLine\":126,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"setDirection\",\"argumentNames\":[\"this\",\"centerDegrees\",\"arcDegrees\"]}\n\nfunction particles_SprayFactory_setDirection__P16187_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_SprayFactory_setDirection__P16187, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction particles_toRadians__P16177(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = Math_abs__P14900_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_3;\n  case 3:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 % 360);\n    s.tmp_1 = r0;\n    r0 = (360 - s.tmp_1);\n    s.arg0 = (r0);\n    { step = 2; continue; }\n  case 1:\n    r0 = (s.arg0 % 360);\n    s.arg0 = (r0);\n  case 2:\n    r0 = (s.arg0 * globals.ratio___16175);\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_toRadians__P16177.info = {\"start\":1307,\"length\":206,\"line\":45,\"column\":4,\"endLine\":52,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"toRadians\",\"argumentNames\":[\"degrees\"]}\n\nfunction particles_toRadians__P16177_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_toRadians__P16177, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleFactory_constructor__P16181(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleFactory__C16178_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleFactory_constructor__P16181.info = {\"start\":1617,\"length\":78,\"line\":59,\"column\":8,\"endLine\":61,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction particles_ParticleFactory_constructor__P16181_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleFactory_constructor__P16181, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_initTrig__P16172(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.cachedSin___16162);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = particles_cacheSin__P16173_mk(s);\n    s.tmp_2.arg0 = 100;\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    globals.cachedSin___16162 = (r0);\n    s.tmp_0 = particles_cacheCos__P16174_mk(s);\n    s.tmp_0.arg0 = 100;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    globals.cachedCos___16163 = (r0);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_initTrig__P16172.info = {\"start\":291,\"length\":155,\"line\":11,\"column\":4,\"endLine\":16,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"initTrig\",\"argumentNames\":[]}\n\nfunction particles_initTrig__P16172_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_initTrig__P16172, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction particles_cacheCos__P16174(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.cos___17357 = undefined;\n    s.anglePerSlice___17359 = undefined;\n    s.i___17362 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.cos___17357 = (r0);\n    r0 = (2 * 3.141592653589793);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / s.arg0);\n    s.anglePerSlice___17359 = (r0);\n    s.i___17362 = (0);\n  case 1:\n    r0 = (s.i___17362 < s.arg0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = r0 = s.cos___17357;\n    r0 = (s.i___17362 * s.anglePerSlice___17359);\n    s.tmp_4 = r0;\n    r0 = pxsim.Math_.cos(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 * 256);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 | 0);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);\n    r0 = (s.i___17362 + 1);\n    s.i___17362 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = s.cos___17357;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_cacheCos__P16174.info = {\"start\":1005,\"length\":263,\"line\":35,\"column\":4,\"endLine\":42,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"cacheCos\",\"argumentNames\":[\"slices\"]}\n\nfunction particles_cacheCos__P16174_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_cacheCos__P16174, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  cos___17357: undefined,\n  anglePerSlice___17359: undefined,\n  i___17362: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_cacheSin__P16173(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sin___17378 = undefined;\n    s.anglePerSlice___17380 = undefined;\n    s.i___17383 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.sin___17378 = (r0);\n    r0 = (2 * 3.141592653589793);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / s.arg0);\n    s.anglePerSlice___17380 = (r0);\n    s.i___17383 = (0);\n  case 1:\n    r0 = (s.i___17383 < s.arg0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = r0 = s.sin___17378;\n    r0 = (s.i___17383 * s.anglePerSlice___17380);\n    s.tmp_4 = r0;\n    r0 = pxsim.Math_.sin(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 * 256);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 | 0);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);\n    r0 = (s.i___17383 + 1);\n    s.i___17383 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = s.sin___17378;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_cacheSin__P16173.info = {\"start\":594,\"length\":263,\"line\":22,\"column\":4,\"endLine\":29,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"cacheSin\",\"argumentNames\":[\"slices\"]}\n\nfunction particles_cacheSin__P16173_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_cacheSin__P16173, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  sin___17378: undefined,\n  anglePerSlice___17380: undefined,\n  i___17383: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_setFactory__P16140(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 1; continue; }\n    r0 = (s.arg0).fields[\"_factory\"] = (s.arg1);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_setFactory__P16140.info = {\"start\":7632,\"length\":114,\"line\":260,\"column\":8,\"endLine\":263,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"setFactory\",\"argumentNames\":[\"this\",\"factory\"]}\n\nfunction particles_ParticleSource_setFactory__P16140_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_setFactory__P16140, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_setRate__P16138(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (1000 / s.arg1);\n    s.tmp_2 = r0;\n    r0 = pxsim.Math_.ceil(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"period\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"timer\"] = (0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_setRate__P16138.info = {\"start\":7310,\"length\":139,\"line\":247,\"column\":8,\"endLine\":250,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"setRate\",\"argumentNames\":[\"this\",\"particlesPerSecond\"]}\n\nfunction particles_ParticleSource_setRate__P16138_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_setRate__P16138, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_setAnchor__P16137(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"anchor\"] = (s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_setAnchor__P16137.info = {\"start\":7101,\"length\":79,\"line\":239,\"column\":8,\"endLine\":241,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"setAnchor\",\"argumentNames\":[\"this\",\"anchor\"]}\n\nfunction particles_ParticleSource_setAnchor__P16137_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_setAnchor__P16137, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_clear__P16136(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"head\"] = (undefined);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_clear__P16136.info = {\"start\":6931,\"length\":54,\"line\":231,\"column\":8,\"endLine\":233,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"clear\",\"argumentNames\":[\"this\"]}\n\nfunction particles_ParticleSource_clear__P16136_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_clear__P16136, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_setAcceleration__P16131(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"ax\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg2 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"ay\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_setAcceleration__P16131.info = {\"start\":5843,\"length\":113,\"line\":191,\"column\":8,\"endLine\":194,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"setAcceleration\",\"argumentNames\":[\"this\",\"ax\",\"ay\"]}\n\nfunction particles_ParticleSource_setAcceleration__P16131_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_setAcceleration__P16131, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction sprites_BaseSprite_constructor__P15357(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_BaseSprite__C15349_VT)) failedCast(r0);\n    s.tmp_0 = sprites_BaseSprite_z__P15352_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = scene_Scene_addSprite__P15768_mk(s);\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.arg0;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_BaseSprite_constructor__P15357.info = {\"start\":344,\"length\":170,\"line\":15,\"column\":8,\"endLine\":20,\"endColumn\":9,\"fileName\":\"pxt_modules/game/basesprite.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"z\"]}\n\nfunction sprites_BaseSprite_constructor__P15357_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_BaseSprite_constructor__P15357, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_Scene_addSprite__P15768(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Scene__C15764_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"allSprites\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.arg1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"spriteNextId\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"spriteNextId\"] = (s.tmp_1);\n    s.tmp_3 = if_id_2_mk(s);\n    s.tmp_3.arg0 = s.arg1;\n    s.tmp_3.arg1 = s.tmp_2;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_3.arg0, \"id\", s.tmp_3.arg1);\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"set/id\"];\n    if (s.tmp_3.fn === null) { s.tmp_3.arg0.fields[\"id\"] = s.tmp_3.arg1; }\n    else if (s.tmp_3.fn === undefined) { failedCast(s.tmp_3.arg0) }\n    else { s.pc = 1; return s.tmp_3; }\n    }\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Scene_addSprite__P15768.info = {\"start\":5795,\"length\":128,\"line\":168,\"column\":8,\"endLine\":171,\"endColumn\":9,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"addSprite\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction scene_Scene_addSprite__P15768_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Scene_addSprite__P15768, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction sprites_BaseSprite_z__P15352(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_BaseSprite__C15349_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_z\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = (s.arg0).fields[\"_z\"] = (s.arg1);\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = s.tmp_0.fields[\"flags\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 | 2);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_0).fields[\"flags\"] = (s.tmp_2);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_BaseSprite_z__P15352.info = {\"start\":656,\"length\":174,\"line\":30,\"column\":8,\"endLine\":35,\"endColumn\":9,\"fileName\":\"pxt_modules/game/basesprite.ts\",\"functionName\":\"z\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction sprites_BaseSprite_z__P15352_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_BaseSprite_z__P15352, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction sprites_BaseSprite_z__P15351(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_BaseSprite__C15349_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_z\"];\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_BaseSprite_z__P15351.info = {\"start\":591,\"length\":55,\"line\":26,\"column\":8,\"endLine\":28,\"endColumn\":9,\"fileName\":\"pxt_modules/game/basesprite.ts\",\"functionName\":\"z\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_BaseSprite_z__P15351_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_BaseSprite_z__P15351, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction helpers_arrayShift__P14879(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array_.removeAt(s.arg0, 0);\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arrayShift__P14879.info = {\"start\":1762,\"length\":82,\"line\":69,\"column\":4,\"endLine\":71,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arrayShift\",\"argumentNames\":[\"arr\"]}\n\nfunction helpers_arrayShift__P14879_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arrayShift__P14879, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_SprayFactory_setSpeed__P16186(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_SprayFactory__C16182_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"speed\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_SprayFactory_setSpeed__P16186.info = {\"start\":3322,\"length\":92,\"line\":119,\"column\":8,\"endLine\":121,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"setSpeed\",\"argumentNames\":[\"this\",\"pixelsPerSecond\"]}\n\nfunction particles_SprayFactory_setSpeed__P16186_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_SprayFactory_setSpeed__P16186, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ConfettiFactory_constructor__P16207(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.confetti___17906 = undefined;\n    s.i___17922 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ConfettiFactory__C16205_VT)) failedCast(r0);\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim.image.ofBuffer(_hex17909);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    r0 = pxsim.image.ofBuffer(_hex17911);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);\n    r0 = pxsim.image.ofBuffer(_hex17913);\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);\n    r0 = pxsim.image.ofBuffer(_hex17915);\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_4);\n    r0 = pxsim.image.ofBuffer(_hex17917);\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_5);\n    s.confetti___17906 = (s.tmp_0);\n    s.tmp_0 = particles_ShapeFactory_constructor__P16204_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg2;\n    r0 = pxsim_Array__getAt(s.confetti___17906, 0);\n    s.tmp_0.arg3 = r0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.i___17922 = (1);\n  case 1:\n    s.tmp_1 = r0 = s.i___17922;\n    r0 = pxsim_Array__length(s.confetti___17906);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_3 = particles_ShapeFactory_addShape__P16201_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    r0 = pxsim_Array__getAt(s.confetti___17906, s.i___17922);\n    s.tmp_3.arg1 = r0;\n    s.pc = 4; return s.tmp_3;\n  case 4:\n    r0 = s.retval;\n    r0 = (s.i___17922 + 1);\n    s.i___17922 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = (s.arg0).fields[\"minLifespan\"] = (1000);\n    r0 = (s.arg0).fields[\"maxLifespan\"] = (4500);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ConfettiFactory_constructor__P16207.info = {\"start\":7755,\"length\":706,\"line\":247,\"column\":8,\"endLine\":274,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"xRange\",\"yRange\"]}\n\nfunction particles_ConfettiFactory_constructor__P16207_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ConfettiFactory_constructor__P16207, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  confetti___17906: undefined,\n  i___17922: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\nconst _hex17909 = pxsim.BufferMethods.createBufferFromHex(\"87040100010000000f000000\")\nconst _hex17911 = pxsim.BufferMethods.createBufferFromHex(\"8704010002000000ff000000\")\nconst _hex17913 = pxsim.BufferMethods.createBufferFromHex(\"87040200010000000f0000000f000000\")\nconst _hex17915 = pxsim.BufferMethods.createBufferFromHex(\"8704020002000000ff0000000f000000\")\nconst _hex17917 = pxsim.BufferMethods.createBufferFromHex(\"87040200020000000f000000ff000000\")\n\n\n\n\nfunction particles_ShapeFactory_constructor__P16204(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ShapeFactory__C16199_VT)) failedCast(r0);\n    s.tmp_0 = particles_AreaFactory_constructor__P16193_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg2;\n    s.tmp_0.arg3 = undefined;\n    s.tmp_0.arg4 = undefined;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.arg3);\n    r0 = (s.arg0).fields[\"sources\"] = (s.tmp_0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.width(s.arg3);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 * 256);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"ox\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.height(s.arg3);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 * 256);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"oy\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ShapeFactory_constructor__P16204.info = {\"start\":6668,\"length\":285,\"line\":212,\"column\":8,\"endLine\":219,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"xRange\",\"yRange\",\"source\"]}\n\nfunction particles_ShapeFactory_constructor__P16204_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ShapeFactory_constructor__P16204, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction particles_AreaFactory_constructor__P16193(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_AreaFactory__C16189_VT)) failedCast(r0);\n    s.tmp_0 = particles_SprayFactory_constructor__P16188_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 40;\n    s.tmp_0.arg2 = 0;\n    s.tmp_0.arg3 = 90;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"xRange\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"yRange\"] = (s.arg2);\n    r0 = pxsim_numops_toBoolDecr(s.arg3);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg3;\n    { step = 2; continue; }\n  case 1:\n    r0 = 150;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    r0 = (s.arg0).fields[\"minLifespan\"] = (s.tmp_0);\n    r0 = pxsim_numops_toBoolDecr(s.arg4);\n    if (!r0) { step = 3; continue; }\n    r0 = s.arg4;\n    { step = 4; continue; }\n  case 3:\n    r0 = 850;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    r0 = (s.arg0).fields[\"maxLifespan\"] = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(Math_FastRandom__C15997_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = Math_FastRandom_constructor__P16004_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = undefined;\n    s.pc = 6; return s.tmp_1;\n  case 6:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"galois\"] = (s.tmp_0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_AreaFactory_constructor__P16193.info = {\"start\":3950,\"length\":374,\"line\":139,\"column\":8,\"endLine\":146,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"xRange\",\"yRange\",\"minLifespan\",\"maxLifespan\"]}\n\nfunction particles_AreaFactory_constructor__P16193_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_AreaFactory_constructor__P16193, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction particles_ShapeFactory_addShape__P16201(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ShapeFactory__C16199_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"sources\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.arg1);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ShapeFactory_addShape__P16201.info = {\"start\":7079,\"length\":83,\"line\":225,\"column\":8,\"endLine\":227,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"addShape\",\"argumentNames\":[\"this\",\"shape\"]}\n\nfunction particles_ShapeFactory_addShape__P16201_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ShapeFactory_addShape__P16201, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction effects_ScreenEffect_constructor__P16259(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ScreenEffect__C16255_VT)) failedCast(r0);\n    s.tmp_0 = effects_ParticleEffect_constructor__P16248_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg3;\n    s.tmp_0.arg3 = s.arg4;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"sceneDefaultRate\"] = (s.arg2);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ScreenEffect_constructor__P16259.info = {\"start\":2771,\"length\":332,\"line\":80,\"column\":8,\"endLine\":84,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"anchorDefault\",\"sceneDefault\",\"defaultLifespan\",\"sourceFactory\"]}\n\nfunction effects_ScreenEffect_constructor__P16259_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ScreenEffect_constructor__P16259, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction effects_ParticleEffect_constructor__P16248(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ParticleEffect__C16245_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"sourceFactory\"] = (s.arg3);\n    r0 = (s.arg0).fields[\"defaultRate\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"defaultLifespan\"] = (s.arg2);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ParticleEffect_constructor__P16248.info = {\"start\":384,\"length\":364,\"line\":13,\"column\":8,\"endLine\":18,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"defaultParticlesPerSecond\",\"defaultLifespan\",\"sourceFactory\"]}\n\nfunction effects_ParticleEffect_constructor__P16248_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ParticleEffect_constructor__P16248, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction effects_ScreenEffect_startScreenEffect__P16257(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ScreenEffect__C16255_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"sourceFactory\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 13; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"source\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_3;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_4 = particles_ParticleSource_enabled__P16133_mk(s);\n    r0 = s.arg0.fields[\"source\"];\n    s.tmp_4.arg0 = r0;\n    s.pc = 14; return s.tmp_4;\n  case 14:\n    r0 = s.retval;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 7; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 5; continue; }\n    r0 = s.arg0.fields[\"source\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6).fields[\"lifespan\"] = (s.arg1);\n  case 5:\n  case 6:\n    { step = 13; continue; }\n  case 7:\n  case 8:\n    s.tmp_0 = effects_ScreenEffect_endScreenEffect__P16258_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 15; return s.tmp_0;\n  case 15:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkClassInstance(effects_SceneAnchor__C16249_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = effects_SceneAnchor_constructor__P16254_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.pc = 16; return s.tmp_1;\n  case 16:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.arg2);\n    if (!r0) { step = 9; continue; }\n    r0 = s.arg2;\n    { step = 10; continue; }\n  case 9:\n    r0 = s.arg0.fields[\"sceneDefaultRate\"];\n  case 10:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.tmp_3 = r0 = s.arg0;\n    s.tmp_5 = lambda_3_mk(s);\n    r0 = s.arg0.fields[\"sourceFactory\"];\n    s.tmp_5.argL = r0;\n    s.tmp_5.arg0 = s.tmp_0;\n    s.tmp_5.arg1 = s.tmp_2;\n    setupLambda(s.tmp_5, s.tmp_5.argL);\n    s.pc = 17; return s.tmp_5;\n  case 17:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"source\"] = (s.tmp_4);\n    r0 = s.arg0.fields[\"source\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0).fields[\"priority\"] = (10);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 11; continue; }\n    r0 = s.arg0.fields[\"source\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0).fields[\"lifespan\"] = (s.arg1);\n  case 11:\n  case 12:\n  case 13:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ScreenEffect_startScreenEffect__P16257.info = {\"start\":3541,\"length\":601,\"line\":96,\"column\":8,\"endLine\":111,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"startScreenEffect\",\"argumentNames\":[\"this\",\"duration\",\"particlesPerSecond\"]}\n\nfunction effects_ScreenEffect_startScreenEffect__P16257_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ScreenEffect_startScreenEffect__P16257, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction effects_SceneAnchor_constructor__P16254(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_SceneAnchor__C16249_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_2;\n  case 1:\n    r0 = s.retval;\n    r0 = r0.fields[\"camera\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"camera\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_SceneAnchor_constructor__P16254.info = {\"start\":2156,\"length\":79,\"line\":54,\"column\":8,\"endLine\":56,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction effects_SceneAnchor_constructor__P16254_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_SceneAnchor_constructor__P16254, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_score__P15639(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = info_PlayerInfo_score__P15668_mk(s);\n    s.tmp_0.arg0 = globals.player1___15686;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_score__P15639.info = {\"start\":6767,\"length\":63,\"line\":224,\"column\":4,\"endLine\":226,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"score\",\"argumentNames\":[]}\n\nfunction info_score__P15639_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_score__P15639, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_constructor__P15681(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"_player\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"border\"] = (1);\n    r0 = (s.arg0).fields[\"fc\"] = (1);\n    r0 = (s.arg0).fields[\"visilibity\"] = (0);\n    r0 = (s.arg0).fields[\"showScore\"] = (undefined);\n    r0 = (s.arg0).fields[\"showLife\"] = (undefined);\n    r0 = (s.arg0).fields[\"showPlayer\"] = (undefined);\n    r0 = (s.arg0).fields[\"left\"] = (undefined);\n    r0 = (s.arg0).fields[\"up\"] = (undefined);\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === 1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 1; continue; }\n    r0 = 0;\n    { step = 2; continue; }\n  case 1:\n    r0 = 2;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = (s.arg0).fields[\"bg\"] = (s.tmp_3);\n    r0 = (s.arg0).fields[\"x\"] = (0);\n    r0 = (s.arg0).fields[\"y\"] = (0);\n    { step = 14; continue; }\n  case 3:\n    r0 = (s.arg1 === 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 4; continue; }\n    r0 = 0;\n    { step = 5; continue; }\n  case 4:\n    r0 = 8;\n  case 5:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = (s.arg0).fields[\"bg\"] = (s.tmp_2);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"x\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"y\"] = (0);\n    r0 = (s.arg0).fields[\"left\"] = (true);\n    { step = 13; continue; }\n  case 6:\n    r0 = (s.arg1 === 3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 7; continue; }\n    r0 = 0;\n    { step = 8; continue; }\n  case 7:\n    r0 = 4;\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = (s.arg0).fields[\"bg\"] = (s.tmp_2);\n    r0 = (s.arg0).fields[\"x\"] = (0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"y\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"up\"] = (true);\n    { step = 12; continue; }\n  case 9:\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 10; continue; }\n    r0 = 0;\n    { step = 11; continue; }\n  case 10:\n    r0 = 7;\n  case 11:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.arg0).fields[\"bg\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"x\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"y\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"left\"] = (true);\n    r0 = (s.arg0).fields[\"up\"] = (true);\n  case 12:\n  case 13:\n  case 14:\n    r0 = pxsim_numops_toBoolDecr(globals.players___15587);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 15; continue; }\n    r0 = pxsim_Array__mk();\n    globals.players___15587 = (r0);\n  case 15:\n  case 16:\n    s.tmp_0 = r0 = globals.players___15587;\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array_.setAt(s.tmp_0, s.tmp_1, s.arg0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_constructor__P15681.info = {\"start\":15459,\"length\":1370,\"line\":516,\"column\":8,\"endLine\":553,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"player\"]}\n\nfunction info_PlayerInfo_constructor__P15681_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_constructor__P15681, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_score__P15668(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.state___18187 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"showScore\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = (s.arg0).fields[\"showScore\"] = (true);\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"showPlayer\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = (s.arg0).fields[\"showPlayer\"] = (true);\n  case 3:\n  case 4:\n    s.tmp_0 = info_PlayerInfo_getState__P15666_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    s.state___18187 = (r0);\n    r0 = s.state___18187.fields[\"score\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == null);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = (s.state___18187).fields[\"score\"] = (0);\n  case 5:\n  case 6:\n    r0 = s.state___18187.fields[\"score\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_score__P15668.info = {\"start\":17505,\"length\":314,\"line\":579,\"column\":8,\"endLine\":588,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"score\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_score__P15668_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_score__P15668, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  state___18187: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_getState__P15666(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_PlayerInfo_init__P15665_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = globals.infoState___15586.fields[\"playerStates\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_getState__P15666.info = {\"start\":17101,\"length\":121,\"line\":563,\"column\":8,\"endLine\":566,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"getState\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_getState__P15666_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_getState__P15666, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_init__P15665(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_initHUD__P15634_mk(s);\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = info_initMultiHUD__P15635_mk(s);\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = globals.infoState___15586.fields[\"playerStates\"];\n    s.tmp_3 = r0;\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 - 1);\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_3, s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore_mkClassInstance(info_PlayerState__C15581_VT);\n    s.tmp_6 = r0;\n    r0 = undefined;\n    r0 = globals.infoState___15586.fields[\"playerStates\"];\n    s.tmp_7 = r0;\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 - 1);\n    s.tmp_8 = r0;\n    r0 = pxsim_Array_.setAt(s.tmp_7, s.tmp_8, s.tmp_6);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_init__P15665.info = {\"start\":16839,\"length\":252,\"line\":555,\"column\":8,\"endLine\":561,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"init\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_init__P15665_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_init__P15665, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_initMultiHUD__P15635(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = globals.infoState___15586.fields[\"visibilityFlag\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 16);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    s.tmp_2 = r0 = globals.infoState___15586;\n    r0 = s.tmp_2.fields[\"visibilityFlag\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 | 16);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2).fields[\"visibilityFlag\"] = (s.tmp_3);\n    r0 = globals.infoState___15586.fields[\"visibilityFlag\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 & 32);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_4 = r0 = globals.infoState___15586;\n    s.tmp_6 = info_defaultMultiplayerHeartImage__P15637_mk(s);\n    s.pc = 6; return s.tmp_6;\n  case 6:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4).fields[\"heartImage\"] = (s.tmp_5);\n  case 3:\n  case 4:\n    s.tmp_0 = r0 = globals.infoState___15586;\n    r0 = pxsim.image.ofBuffer(_hex18247);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"multiplierImage\"] = (s.tmp_1);\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_initMultiHUD__P15635.info = {\"start\":4706,\"length\":393,\"line\":150,\"column\":4,\"endLine\":161,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"initMultiHUD\",\"argumentNames\":[]}\n\nfunction info_initMultiHUD__P15635_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_initMultiHUD__P15635, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n} }\n\nconst _hex18247 = pxsim.BufferMethods.createBufferFromHex(\"8704030003000000010100001000000001010000\")\n\n\n\n\nfunction info_defaultMultiplayerHeartImage__P15637(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.image.ofBuffer(_hex18251);\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim.image.ofBuffer(_hex18253);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.tmp_1;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_defaultMultiplayerHeartImage__P15637.info = {\"start\":5703,\"length\":503,\"line\":186,\"column\":4,\"endLine\":203,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"defaultMultiplayerHeartImage\",\"argumentNames\":[]}\n\nfunction info_defaultMultiplayerHeartImage__P15637_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_defaultMultiplayerHeartImage__P15637, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\nconst _hex18251 = pxsim.BufferMethods.createBufferFromHex(\"870407000500000000000000100100000110000010000100011000001001000000000000\")\nconst _hex18253 = pxsim.BufferMethods.createBufferFromHex(\"870407000500000000000000100100002112000010240100411200001001000000000000\")\n\n\n\n\nfunction info_initHUD__P15634(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.infoState___15586);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_pxtcore_mkClassInstance(info_InfoState__C15583_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = info_InfoState_constructor__P15584_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.pc = 4; return s.tmp_1;\n  case 4:\n    r0 = s.retval;\n    globals.infoState___15586 = (s.tmp_0);\n    s.tmp_0 = scene_createRenderable__P15737_mk(s);\n    s.tmp_0.arg0 = 100;\n    s.tmp_0.arg1 = inline__P18261;\n    s.tmp_0.arg2 = undefined;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_initHUD__P15634.info = {\"start\":2588,\"length\":2112,\"line\":97,\"column\":4,\"endLine\":148,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"initHUD\",\"argumentNames\":[]}\n\nfunction info_initHUD__P15634_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_initHUD__P15634, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\n\n\n\n\nfunction inline__P18261(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.ps___18268 = undefined;\n    s.p___18288 = undefined;\n    s.scene___18319 = undefined;\n    s.elapsed___18321 = undefined;\n    s.t___18328 = undefined;\n    r0 = pxsim_numops_toBoolDecr(globals.infoState___15586);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 23; continue; }\n  case 1:\n  case 2:\n    r0 = globals.infoState___15586.fields[\"visibilityFlag\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 16);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_2 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_2.arg0 = globals.players___15587;\n    s.tmp_2.arg1 = inline__P18272;\n    s.pc = 24; return s.tmp_2;\n  case 24:\n    r0 = s.retval;\n    s.ps___18268 = (r0);\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_0.arg0 = s.ps___18268;\n    s.tmp_0.arg1 = inline__P18278;\n    s.pc = 25; return s.tmp_0;\n  case 25:\n    r0 = s.retval;\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_0.arg0 = s.ps___18268;\n    s.tmp_0.arg1 = inline__P18284;\n    s.pc = 26; return s.tmp_0;\n  case 26:\n    r0 = s.retval;\n    { step = 12; continue; }\n  case 3:\n    s.p___18288 = (globals.player1___15686);\n    s.tmp_1 = info_PlayerInfo_hasScore__P15671_mk(s);\n    s.tmp_1.arg0 = s.p___18288;\n    s.pc = 27; return s.tmp_1;\n  case 27:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 4; continue; }\n    r0 = s.tmp_0;\n    { step = 5; continue; }\n  case 4:\n    r0 = globals.infoState___15586.fields[\"visibilityFlag\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 & 2);\n  case 5:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 6; continue; }\n    s.tmp_4 = info_PlayerInfo_drawScore__P15679_mk(s);\n    s.tmp_4.arg0 = s.p___18288;\n    s.pc = 28; return s.tmp_4;\n  case 28:\n    r0 = s.retval;\n  case 6:\n  case 7:\n    s.tmp_1 = info_PlayerInfo_hasLife__P15675_mk(s);\n    s.tmp_1.arg0 = s.p___18288;\n    s.pc = 29; return s.tmp_1;\n  case 29:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 8; continue; }\n    r0 = s.tmp_0;\n    { step = 9; continue; }\n  case 8:\n    r0 = globals.infoState___15586.fields[\"visibilityFlag\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 & 4);\n  case 9:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 10; continue; }\n    s.tmp_4 = info_PlayerInfo_drawLives__P15680_mk(s);\n    s.tmp_4.arg0 = s.p___18288;\n    s.pc = 30; return s.tmp_4;\n  case 30:\n    r0 = s.retval;\n  case 10:\n  case 11:\n    s.tmp_0 = info_PlayerInfo_raiseLifeZero__P15677_mk(s);\n    s.tmp_0.arg0 = s.p___18288;\n    s.tmp_0.arg1 = true;\n    s.pc = 31; return s.tmp_0;\n  case 31:\n    r0 = s.retval;\n  case 12:\n    r0 = globals.infoState___15586.fields[\"gameEnd\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 13; continue; }\n    r0 = s.tmp_0;\n    { step = 14; continue; }\n  case 13:\n    r0 = globals.infoState___15586.fields[\"visibilityFlag\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 & 1);\n  case 14:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 21; continue; }\n    s.tmp_4 = game_currentScene__P15610_mk(s);\n    s.pc = 32; return s.tmp_4;\n  case 32:\n    r0 = s.retval;\n    s.scene___18319 = (r0);\n    r0 = globals.infoState___15586.fields[\"gameEnd\"];\n    s.tmp_0 = r0;\n    r0 = s.scene___18319.fields[\"_millis\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 - s.tmp_1);\n    s.elapsed___18321 = (r0);\n    s.tmp_0 = info_drawTimer__P15663_mk(s);\n    s.tmp_0.arg0 = s.elapsed___18321;\n    s.pc = 33; return s.tmp_0;\n  case 33:\n    r0 = s.retval;\n    r0 = (s.elapsed___18321 / 1000);\n    s.t___18328 = (r0);\n    r0 = (s.t___18328 <= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 19; continue; }\n    s.t___18328 = (0);\n    r0 = globals.infoState___15586.fields[\"countdownExpired\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 17; continue; }\n    r0 = (globals.infoState___15586).fields[\"countdownExpired\"] = (true);\n    r0 = globals.infoState___15586.fields[\"countdownEndHandler\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 15; continue; }\n    s.tmp_1 = lambda_1_mk(s);\n    r0 = globals.infoState___15586.fields[\"countdownEndHandler\"];\n    s.tmp_1.argL = r0;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 34; return s.tmp_1;\n  case 34:\n    r0 = s.retval;\n    r0 = (globals.infoState___15586).fields[\"gameEnd\"] = (undefined);\n    { step = 16; continue; }\n  case 15:\n    s.tmp_0 = game_over__P15867_mk(s);\n    s.tmp_0.arg0 = false;\n    s.tmp_0.arg1 = undefined;\n    s.pc = 35; return s.tmp_0;\n  case 35:\n    r0 = s.retval;\n  case 16:\n  case 17:\n  case 18:\n  case 19:\n  case 20:\n  case 21:\n  case 22:\n  case 23:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P18261.info = {\"start\":2748,\"length\":1935,\"line\":104,\"column\":12,\"endLine\":146,\"endColumn\":13,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P18261_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P18261, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  ps___18268: undefined,\n  p___18288: undefined,\n  scene___18319: undefined,\n  elapsed___18321: undefined,\n  t___18328: undefined,\n} }\n\n\n\n\n\nfunction inline__P18272(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P18272.info = {\"start\":2996,\"length\":8,\"line\":109,\"column\":46,\"endLine\":109,\"endColumn\":54,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"p\"]}\n\nfunction inline__P18272_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P18272, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P18278(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = info_PlayerInfo_drawPlayer__P15678_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P18278.info = {\"start\":3080,\"length\":19,\"line\":111,\"column\":31,\"endLine\":111,\"endColumn\":50,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"p\"]}\n\nfunction inline__P18278_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P18278, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P18284(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = info_PlayerInfo_raiseLifeZero__P15677_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = false;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P18284.info = {\"start\":3182,\"length\":27,\"line\":113,\"column\":31,\"endLine\":113,\"endColumn\":58,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"p\"]}\n\nfunction inline__P18284_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P18284, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_Scene_millis__P15767(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Scene__C15764_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_millis\"];\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Scene_millis__P15767.info = {\"start\":5724,\"length\":61,\"line\":164,\"column\":8,\"endLine\":166,\"endColumn\":9,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"millis\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Scene_millis__P15767_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Scene_millis__P15767, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_createRenderable__P15737(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.renderable___19341 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_pxtcore_mkClassInstance(scene_Renderable__C15731_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = r0 = s.arg2;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_1;\n    { step = 2; continue; }\n  case 1:\n    r0 = inline__P19346;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.tmp_3 = scene_Renderable_constructor__P15736_mk(s);\n    s.tmp_3.arg0 = s.tmp_0;\n    s.tmp_3.arg1 = s.arg1;\n    s.tmp_3.arg2 = s.tmp_2;\n    s.tmp_3.arg3 = s.arg0;\n    s.pc = 3; return s.tmp_3;\n  case 3:\n    r0 = s.retval;\n    s.renderable___19341 = (s.tmp_0);\n    r0 = s.renderable___19341;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_createRenderable__P15737.info = {\"start\":608,\"length\":339,\"line\":24,\"column\":4,\"endLine\":36,\"endColumn\":5,\"fileName\":\"pxt_modules/game/renderable.ts\",\"functionName\":\"createRenderable\",\"argumentNames\":[\"z\",\"handler\",\"shouldBeVisible\"]}\n\nfunction scene_createRenderable__P15737_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_createRenderable__P15737, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  renderable___19341: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction inline__P19346(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = true;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19346.info = {\"start\":875,\"length\":10,\"line\":31,\"column\":32,\"endLine\":31,\"endColumn\":42,\"fileName\":\"pxt_modules/game/renderable.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19346_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19346, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n} }\n\n\n\n\n\nfunction scene_Renderable_constructor__P15736(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Renderable__C15731_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"handler\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"shouldBeVisible\"] = (s.arg2);\n    s.tmp_0 = sprites_BaseSprite_constructor__P15357_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg3;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Renderable_constructor__P15736.info = {\"start\":83,\"length\":212,\"line\":2,\"column\":8,\"endLine\":8,\"endColumn\":9,\"fileName\":\"pxt_modules/game/renderable.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"handler\",\"shouldBeVisible\",\"z\"]}\n\nfunction scene_Renderable_constructor__P15736_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Renderable_constructor__P15736, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_drawLives__P15680(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.state___18797 = undefined;\n    s.font___18802 = undefined;\n    s.i___18838 = undefined;\n    s.num___18858 = undefined;\n    s.textWidth___18865 = undefined;\n    s.mult___18911 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_PlayerInfo_getState__P15666_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n    s.state___18797 = (r0);\n    r0 = s.state___18797.fields[\"life\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    s.font___18802 = (globals.font8___15264);\n    r0 = s.state___18797.fields[\"life\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= 4);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    s.tmp_2 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_2.arg0 = globals.screen___15305;\n    s.tmp_2.arg1 = 0;\n    s.tmp_2.arg2 = 0;\n    r0 = s.state___18797.fields[\"life\"];\n    s.tmp_4 = r0;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_7);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + 1);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 * s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 3);\n    s.tmp_2.arg3 = r0;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_9 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_9);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 + 4);\n    s.tmp_2.arg4 = r0;\n    r0 = globals.infoState___15586.fields[\"borderColor\"];\n    s.tmp_2.arg5 = r0;\n    s.pc = 9; return s.tmp_2;\n  case 9:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = 0;\n    s.tmp_0.arg2 = 0;\n    r0 = s.state___18797.fields[\"life\"];\n    s.tmp_2 = r0;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 + 1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 * s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 2);\n    s.tmp_0.arg3 = r0;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_7);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + 3);\n    s.tmp_0.arg4 = r0;\n    r0 = globals.infoState___15586.fields[\"bgColor\"];\n    s.tmp_0.arg5 = r0;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    s.i___18838 = (0);\n  case 3:\n    r0 = s.state___18797.fields[\"life\"];\n    s.tmp_1 = r0;\n    r0 = (s.i___18838 < s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_2 = r0 = globals.screen___15305;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_3 = r0;\n    s.tmp_6 = r0 = s.i___18838;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_9 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_9);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 + 1);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_6 * s.tmp_7);\n    s.tmp_5 = r0;\n    r0 = (1 + s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_2, s.tmp_3, s.tmp_4, 1);\n    r0 = (s.i___18838 + 1);\n    s.i___18838 = (r0);\n    { step = 3; continue; }\n  case 4:\n    { step = 6; continue; }\n  case 5:\n    r0 = s.state___18797.fields[\"life\"];\n    s.tmp_1 = r0;\n    if ((s.tmp_1) && (s.tmp_1).vtable) {\n    setupResume(s, 11);\n    pxsim_String__stringConv(s.tmp_1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_1) + \"\"; }\n  case 11:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, s.tmp_2);\n    s.num___18858 = (r0);\n    r0 = pxsim_String_.length(s.num___18858);\n    s.tmp_1 = r0;\n    s.tmp_3 = if_charWidth_1_mk(s);\n    s.tmp_3.arg0 = s.font___18802;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"charWidth\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 12; return s.tmp_3; }\n    }\n  case 12:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 * s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - 1);\n    s.textWidth___18865 = (r0);\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = 0;\n    s.tmp_0.arg2 = 0;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_3 + s.tmp_5);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.textWidth___18865);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 5);\n    s.tmp_0.arg3 = r0;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_8 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_8);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 + 4);\n    s.tmp_0.arg4 = r0;\n    r0 = globals.infoState___15586.fields[\"borderColor\"];\n    s.tmp_0.arg5 = r0;\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = 0;\n    s.tmp_0.arg2 = 0;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_3 + s.tmp_5);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.textWidth___18865);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 4);\n    s.tmp_0.arg3 = r0;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_8 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_8);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 + 3);\n    s.tmp_0.arg4 = r0;\n    r0 = globals.infoState___15586.fields[\"bgColor\"];\n    s.tmp_0.arg5 = r0;\n    s.pc = 14; return s.tmp_0;\n  case 14:\n    r0 = s.retval;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(globals.screen___15305, s.tmp_0, 1, 1);\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.clone(s.tmp_0);\n    s.mult___18911 = (r0);\n    r0 = globals.infoState___15586.fields[\"fontColor\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.replace(s.mult___18911, 1, s.tmp_0);\n    s.tmp_0 = r0 = globals.screen___15305;\n    s.tmp_1 = r0 = s.mult___18911;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 2);\n    s.tmp_2 = r0;\n    s.tmp_8 = if_charHeight_1_mk(s);\n    s.tmp_8.arg0 = s.font___18802;\n    if (!s.tmp_8.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, \"charHeight\");\n    } else {\n    s.tmp_8.fn = s.tmp_8.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 15; return s.tmp_8; }\n    }\n  case 15:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_10 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_10);\n    s.tmp_9 = r0;\n    r0 = (s.tmp_7 - s.tmp_9);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 - 1);\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_5);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = s.num___18858;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 3);\n    s.tmp_1 = r0;\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_1 + s.tmp_4);\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = 1;\n    r0 = globals.infoState___15586.fields[\"fontColor\"];\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.font___18802;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 16; return s.tmp_0;\n  case 16:\n    r0 = s.retval;\n  case 6:\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_drawLives__P15680.info = {\"start\":25972,\"length\":2458,\"line\":848,\"column\":8,\"endLine\":914,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"drawLives\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_drawLives__P15680_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_drawLives__P15680, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  state___18797: undefined,\n  font___18802: undefined,\n  i___18838: undefined,\n  num___18858: undefined,\n  textWidth___18865: undefined,\n  mult___18911: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction helpers_imagePrint__P15273(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.x0___18501 = undefined;\n    s.cp___18503 = undefined;\n    s.mult___18504 = undefined;\n    s.dataW___18510 = undefined;\n    s.dataH___18516 = undefined;\n    s.byteHeight___18522 = undefined;\n    s.charSize___18525 = undefined;\n    s.dataSize___18528 = undefined;\n    s.fontdata___18531 = undefined;\n    s.lastchar___18535 = undefined;\n    s.imgBuf___18542 = undefined;\n    s.xOffset___18564 = undefined;\n    s.yOffset___18565 = undefined;\n    s.ch___18579 = undefined;\n    s.l___18596 = undefined;\n    s.r___18597 = undefined;\n    s.off___18599 = undefined;\n    s.guess___18600 = undefined;\n    s.m___18616 = undefined;\n    s.v___18621 = undefined;\n    s.i___18668 = undefined;\n    s.j___18672 = undefined;\n    s.mask___18673 = undefined;\n    s.c___18674 = undefined;\n    s.n___18689 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.arg6 = (s.lambdaArgs[6]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg2 | 0);\n    s.arg2 = (r0);\n    r0 = (s.arg3 | 0);\n    s.arg3 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg5);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = image_getFontForText__P15266_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.pc = 39; return s.tmp_2;\n  case 39:\n    r0 = s.retval;\n    s.arg5 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_numops_toBoolDecr(s.arg4);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.arg4 = (1);\n  case 3:\n  case 4:\n    s.x0___18501 = (s.arg2);\n    s.cp___18503 = (0);\n    s.tmp_1 = if_multiplier_1_mk(s);\n    s.tmp_1.arg0 = s.arg5;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"multiplier\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"multiplier\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"multiplier\"]; }\n    else { s.pc = 40; return s.tmp_1; }\n    }\n  case 40:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    s.tmp_2 = if_multiplier_1_mk(s);\n    s.tmp_2.arg0 = s.arg5;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"multiplier\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"multiplier\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"multiplier\"]; }\n    else { s.pc = 41; return s.tmp_2; }\n    }\n  case 41:\n    r0 = s.retval;\n    { step = 6; continue; }\n  case 5:\n    r0 = 1;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    s.mult___18504 = (s.tmp_3);\n    s.tmp_1 = if_charWidth_1_mk(s);\n    s.tmp_1.arg0 = s.arg5;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"charWidth\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 42; return s.tmp_1; }\n    }\n  case 42:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, s.mult___18504);\n    s.dataW___18510 = (r0);\n    s.tmp_1 = if_charHeight_1_mk(s);\n    s.tmp_1.arg0 = s.arg5;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"charHeight\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 43; return s.tmp_1; }\n    }\n  case 43:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, s.mult___18504);\n    s.dataH___18516 = (r0);\n    r0 = (s.dataH___18516 + 7);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 3);\n    s.byteHeight___18522 = (r0);\n    r0 = (s.byteHeight___18522 * s.dataW___18510);\n    s.charSize___18525 = (r0);\n    r0 = (2 + s.charSize___18525);\n    s.dataSize___18528 = (r0);\n    s.tmp_0 = if_data_1_mk(s);\n    s.tmp_0.arg0 = s.arg5;\n    if (!s.tmp_0.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, \"data\");\n    } else {\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"data\"];\n    if (s.tmp_0.fn == null) { s.retval = s.tmp_0.arg0.fields[\"data\"]; }\n    else { s.pc = 44; return s.tmp_0; }\n    }\n  case 44:\n    r0 = s.retval;\n    s.fontdata___18531 = (r0);\n    r0 = pxsim.BufferMethods.length(s.fontdata___18531);\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_1, s.dataSize___18528);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - 1);\n    s.lastchar___18535 = (r0);\n    r0 = (s.mult___18504 == 1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = (8 + s.charSize___18525);\n    s.tmp_1 = r0;\n    r0 = pxsim.control.createBuffer(s.tmp_1);\n    s.imgBuf___18542 = (r0);\n    r0 = pxsim.BufferMethods.setByte(s.imgBuf___18542, 0, 135);\n    r0 = pxsim.BufferMethods.setByte(s.imgBuf___18542, 1, 1);\n    r0 = pxsim.BufferMethods.setByte(s.imgBuf___18542, 2, s.dataW___18510);\n    r0 = pxsim.BufferMethods.setByte(s.imgBuf___18542, 4, s.dataH___18516);\n  case 7:\n  case 8:\n  case 9:\n    s.tmp_1 = r0 = s.cp___18503;\n    r0 = pxsim_String_.length(s.arg1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 38; continue; }\n    s.xOffset___18564 = (0);\n    s.yOffset___18565 = (0);\n    s.tmp_0 = r0 = s.arg6;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 10; continue; }\n    r0 = s.tmp_0;\n    { step = 11; continue; }\n  case 10:\n    s.tmp_1 = r0 = s.cp___18503;\n    r0 = pxsim_Array__length(s.arg6);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n  case 11:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 12; continue; }\n    s.tmp_4 = if_xOffset_1_mk(s);\n    r0 = pxsim_Array__getAt(s.arg6, s.cp___18503);\n    s.tmp_4.arg0 = r0;\n    if (!s.tmp_4.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, \"xOffset\");\n    } else {\n    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface[\"xOffset\"];\n    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields[\"xOffset\"]; }\n    else { s.pc = 45; return s.tmp_4; }\n    }\n  case 45:\n    r0 = s.retval;\n    s.xOffset___18564 = (r0);\n    s.tmp_0 = if_yOffset_1_mk(s);\n    r0 = pxsim_Array__getAt(s.arg6, s.cp___18503);\n    s.tmp_0.arg0 = r0;\n    if (!s.tmp_0.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, \"yOffset\");\n    } else {\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"yOffset\"];\n    if (s.tmp_0.fn == null) { s.retval = s.tmp_0.arg0.fields[\"yOffset\"]; }\n    else { s.pc = 46; return s.tmp_0; }\n    }\n  case 46:\n    r0 = s.retval;\n    s.yOffset___18565 = (r0);\n  case 12:\n  case 13:\n    s.tmp_0 = r0 = s.cp___18503;\n    r0 = (s.tmp_0 + 1);\n    s.cp___18503 = (r0);\n    r0 = pxsim_String_.charCodeAt(s.arg1, s.tmp_0);\n    s.ch___18579 = (r0);\n    r0 = (s.ch___18579 == 10);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 14; continue; }\n    s.tmp_1 = r0 = s.arg3;\n    s.tmp_4 = if_charHeight_1_mk(s);\n    s.tmp_4.arg0 = s.arg5;\n    if (!s.tmp_4.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, \"charHeight\");\n    } else {\n    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 47; return s.tmp_4; }\n    }\n  case 47:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 2);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 + s.tmp_2);\n    s.arg3 = (r0);\n    s.arg2 = (s.x0___18501);\n  case 14:\n  case 15:\n    r0 = (s.ch___18579 < 32);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 16; continue; }\n    { step = 9; continue; }\n  case 16:\n  case 17:\n    s.l___18596 = (0);\n    s.r___18597 = (s.lastchar___18535);\n    s.off___18599 = (0);\n    r0 = (s.ch___18579 - 32);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 * s.dataSize___18528);\n    s.guess___18600 = (r0);\n    r0 = pxsim.BufferMethods.getNumber(s.fontdata___18531, 4, s.guess___18600);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == s.ch___18579);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 18; continue; }\n    s.off___18599 = (s.guess___18600);\n    { step = 25; continue; }\n  case 18:\n  case 19:\n    r0 = (s.l___18596 <= s.r___18597);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 24; continue; }\n    s.tmp_1 = r0 = s.l___18596;\n    r0 = (s.r___18597 - s.l___18596);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 + s.tmp_2);\n    s.m___18616 = (r0);\n    s.tmp_0 = r0 = s.fontdata___18531;\n    r0 = (s.m___18616 * s.dataSize___18528);\n    s.tmp_1 = r0;\n    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, s.tmp_1);\n    s.v___18621 = (r0);\n    r0 = (s.v___18621 == s.ch___18579);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 20; continue; }\n    r0 = (s.m___18616 * s.dataSize___18528);\n    s.off___18599 = (r0);\n    { step = 24; continue; }\n  case 20:\n  case 21:\n    r0 = (s.v___18621 < s.ch___18579);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 22; continue; }\n    r0 = (s.m___18616 + 1);\n    s.l___18596 = (r0);\n    { step = 23; continue; }\n  case 22:\n    r0 = (s.m___18616 - 1);\n    s.r___18597 = (r0);\n  case 23:\n    { step = 19; continue; }\n  case 24:\n  case 25:\n    r0 = (s.mult___18504 == 1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 26; continue; }\n    s.tmp_1 = r0 = s.imgBuf___18542;\n    s.tmp_3 = r0 = s.fontdata___18531;\n    r0 = (s.off___18599 + 2);\n    s.tmp_4 = r0;\n    r0 = pxsim.BufferMethods.slice(s.tmp_3, s.tmp_4, s.charSize___18525);\n    s.tmp_2 = r0;\n    r0 = pxsim.BufferMethods.write(s.tmp_1, 8, s.tmp_2);\n    s.tmp_0 = helpers_imageDrawIcon__P15251_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.imgBuf___18542;\n    r0 = (s.arg2 + s.xOffset___18564);\n    s.tmp_0.arg2 = r0;\n    r0 = (s.arg3 + s.yOffset___18565);\n    s.tmp_0.arg3 = r0;\n    s.tmp_0.arg4 = s.arg4;\n    s.pc = 48; return s.tmp_0;\n  case 48:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.arg2;\n    s.tmp_2 = if_charWidth_1_mk(s);\n    s.tmp_2.arg0 = s.arg5;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charWidth\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 49; return s.tmp_2; }\n    }\n  case 49:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.arg2 = (r0);\n    { step = 37; continue; }\n  case 26:\n    r0 = (s.off___18599 + 2);\n    s.off___18599 = (r0);\n    s.i___18668 = (0);\n  case 27:\n    r0 = (s.i___18668 < s.dataW___18510);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 36; continue; }\n    s.j___18672 = (0);\n    s.mask___18673 = (1);\n    s.tmp_0 = r0 = s.off___18599;\n    r0 = (s.tmp_0 + 1);\n    s.off___18599 = (r0);\n    r0 = pxsim.BufferMethods.getByte(s.fontdata___18531, s.tmp_0);\n    s.c___18674 = (r0);\n  case 28:\n    r0 = (s.j___18672 < s.dataH___18516);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 35; continue; }\n    r0 = (s.mask___18673 == 256);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 29; continue; }\n    s.tmp_2 = r0 = s.off___18599;\n    r0 = (s.tmp_2 + 1);\n    s.off___18599 = (r0);\n    r0 = pxsim.BufferMethods.getByte(s.fontdata___18531, s.tmp_2);\n    s.c___18674 = (r0);\n    s.mask___18673 = (1);\n  case 29:\n  case 30:\n    s.n___18689 = (0);\n  case 31:\n    r0 = (s.c___18674 & s.mask___18673);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 32; continue; }\n    r0 = (s.n___18689 + 1);\n    s.n___18689 = (r0);\n    r0 = (s.mask___18673 << 1);\n    s.mask___18673 = (r0);\n    { step = 31; continue; }\n  case 32:\n    r0 = pxsim_numops_toBoolDecr(s.n___18689);\n    if (!r0) { step = 33; continue; }\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = r0 = s.arg2;\n    r0 = (s.xOffset___18564 * s.mult___18504);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 + s.tmp_2);\n    s.tmp_0.arg1 = r0;\n    s.tmp_3 = r0 = s.arg3;\n    r0 = (s.j___18672 + s.yOffset___18565);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 * s.mult___18504);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 + s.tmp_4);\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = s.mult___18504;\n    r0 = (s.mult___18504 * s.n___18689);\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.arg4;\n    s.pc = 50; return s.tmp_0;\n  case 50:\n    r0 = s.retval;\n    r0 = (s.j___18672 + s.n___18689);\n    s.j___18672 = (r0);\n    { step = 34; continue; }\n  case 33:\n    r0 = (s.mask___18673 << 1);\n    s.mask___18673 = (r0);\n    r0 = (s.j___18672 + 1);\n    s.j___18672 = (r0);\n  case 34:\n    { step = 28; continue; }\n  case 35:\n    r0 = (s.arg2 + s.mult___18504);\n    s.arg2 = (r0);\n    r0 = (s.i___18668 + 1);\n    s.i___18668 = (r0);\n    { step = 27; continue; }\n  case 36:\n  case 37:\n    { step = 9; continue; }\n  case 38:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_imagePrint__P15273.info = {\"start\":15326,\"length\":3300,\"line\":213,\"column\":4,\"endLine\":306,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/text.ts\",\"functionName\":\"imagePrint\",\"argumentNames\":[\"img\",\"text\",\"x\",\"y\",\"color\",\"font\",\"offsets\"]}\n\nfunction helpers_imagePrint__P15273_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_imagePrint__P15273, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  x0___18501: undefined,\n  cp___18503: undefined,\n  mult___18504: undefined,\n  dataW___18510: undefined,\n  dataH___18516: undefined,\n  byteHeight___18522: undefined,\n  charSize___18525: undefined,\n  dataSize___18528: undefined,\n  fontdata___18531: undefined,\n  lastchar___18535: undefined,\n  imgBuf___18542: undefined,\n  xOffset___18564: undefined,\n  yOffset___18565: undefined,\n  ch___18579: undefined,\n  l___18596: undefined,\n  r___18597: undefined,\n  off___18599: undefined,\n  guess___18600: undefined,\n  m___18616: undefined,\n  v___18621: undefined,\n  i___18668: undefined,\n  j___18672: undefined,\n  mask___18673: undefined,\n  c___18674: undefined,\n  n___18689: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n  arg6: undefined,\n} }\n\n\n\n\n\nfunction image_getFontForText__P15266(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.i___18761 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.i___18761 = (0);\n  case 1:\n    s.tmp_1 = r0 = s.i___18761;\n    r0 = pxsim_String_.length(s.arg0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___18761);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 > 8192);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 2; continue; }\n    r0 = globals.font12___15265;\n    { step = 5; continue; }\n  case 2:\n  case 3:\n    r0 = (s.i___18761 + 1);\n    s.i___18761 = (r0);\n    { step = 1; continue; }\n  case 4:\n    r0 = globals.font8___15264;\n  case 5:\n    return leave(s, r0)\n  default: oops()\n} } }\nimage_getFontForText__P15266.info = {\"start\":11713,\"length\":259,\"line\":136,\"column\":4,\"endLine\":143,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/text.ts\",\"functionName\":\"getFontForText\",\"argumentNames\":[\"text\"]}\n\nfunction image_getFontForText__P15266_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: image_getFontForText__P15266, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  i___18761: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction helpers_imageDrawIcon__P15251(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_1 = r0 = s.arg1;\n    s.tmp_3 = helpers_pack__P15249_mk(s);\n    s.tmp_3.arg0 = s.arg2;\n    s.tmp_3.arg1 = s.arg3;\n    s.pc = 1; return s.tmp_3;\n  case 1:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods._drawIcon(s.tmp_0, s.tmp_1, s.tmp_2, s.arg4);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_imageDrawIcon__P15251.info = {\"start\":3498,\"length\":145,\"line\":128,\"column\":4,\"endLine\":130,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/image.ts\",\"functionName\":\"imageDrawIcon\",\"argumentNames\":[\"img\",\"icon\",\"x\",\"y\",\"c\"]}\n\nfunction helpers_imageDrawIcon__P15251_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_imageDrawIcon__P15251, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction helpers_pack__P15249(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_2 = Math_clamp__P14899_mk(s);\n    s.tmp_2.arg0 = -30000;\n    s.tmp_2.arg1 = 30000;\n    r0 = (s.arg0 | 0);\n    s.tmp_2.arg2 = r0;\n    s.pc = 1; return s.tmp_2;\n  case 1:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 65535);\n    s.tmp_0 = r0;\n    s.tmp_5 = Math_clamp__P14899_mk(s);\n    s.tmp_5.arg0 = -30000;\n    s.tmp_5.arg1 = 30000;\n    r0 = (s.arg1 | 0);\n    s.tmp_5.arg2 = r0;\n    s.pc = 2; return s.tmp_5;\n  case 2:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 << 16);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_0 | s.tmp_3);\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_pack__P15249.info = {\"start\":3151,\"length\":145,\"line\":120,\"column\":4,\"endLine\":122,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/image.ts\",\"functionName\":\"pack\",\"argumentNames\":[\"x\",\"y\"]}\n\nfunction helpers_pack__P15249_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_pack__P15249, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Math_clamp__P14899(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = Math_min__P14903_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_1 = Math_max__P14902_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = s.arg2;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_clamp__P14899.info = {\"start\":9924,\"length\":130,\"line\":339,\"column\":4,\"endLine\":341,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"clamp\",\"argumentNames\":[\"min\",\"max\",\"value\"]}\n\nfunction Math_clamp__P14899_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_clamp__P14899, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Math_min__P14903(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 <= s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0;\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg1;\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_min__P14903.info = {\"start\":10994,\"length\":105,\"line\":373,\"column\":4,\"endLine\":376,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"min\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Math_min__P14903_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_min__P14903, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_imageFillRect__P15252(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = helpers_pack__P15249_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.tmp_2.arg1 = s.arg2;\n    s.pc = 1; return s.tmp_2;\n  case 1:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_4 = helpers_pack__P15249_mk(s);\n    s.tmp_4.arg0 = s.arg3;\n    s.tmp_4.arg1 = s.arg4;\n    s.pc = 2; return s.tmp_4;\n  case 2:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods._fillRect(s.tmp_0, s.tmp_1, s.tmp_3, s.arg5);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_imageFillRect__P15252.info = {\"start\":3648,\"length\":159,\"line\":131,\"column\":4,\"endLine\":133,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/image.ts\",\"functionName\":\"imageFillRect\",\"argumentNames\":[\"img\",\"x\",\"y\",\"w\",\"h\",\"c\"]}\n\nfunction helpers_imageFillRect__P15252_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_imageFillRect__P15252, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_drawScore__P15679(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.s___18962 = undefined;\n    s.font___18964 = undefined;\n    s.offsetY___18965 = undefined;\n    s.num___18973 = undefined;\n    s.width___18977 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_1 = info_PlayerInfo_score__P15668_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 | 0);\n    s.s___18962 = (r0);\n    r0 = (s.s___18962 >= 1000000);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.offsetY___18965 = (2);\n    s.font___18964 = (globals.font5___15269);\n    { step = 2; continue; }\n  case 1:\n    s.offsetY___18965 = (1);\n    s.font___18964 = (globals.font8___15264);\n  case 2:\n    r0 = pxsim_numops.toString(s.s___18962);\n    s.num___18973 = (r0);\n    r0 = pxsim_String_.length(s.num___18973);\n    s.tmp_0 = r0;\n    s.tmp_2 = if_charWidth_1_mk(s);\n    s.tmp_2.arg0 = s.font___18964;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charWidth\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 4; return s.tmp_2; }\n    }\n  case 4:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 * s.tmp_1);\n    s.width___18977 = (r0);\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.width___18977);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 2);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_0.arg3 = r0;\n    s.tmp_4 = if_charHeight_1_mk(s);\n    s.tmp_4.arg0 = globals.font8___15264;\n    if (!s.tmp_4.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, \"charHeight\");\n    } else {\n    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 6; return s.tmp_4; }\n    }\n  case 6:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 3);\n    s.tmp_0.arg4 = r0;\n    r0 = globals.infoState___15586.fields[\"borderColor\"];\n    s.tmp_0.arg5 = r0;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.width___18977);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_0.arg3 = r0;\n    s.tmp_4 = if_charHeight_1_mk(s);\n    s.tmp_4.arg0 = globals.font8___15264;\n    if (!s.tmp_4.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, \"charHeight\");\n    } else {\n    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 8; return s.tmp_4; }\n    }\n  case 8:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 2);\n    s.tmp_0.arg4 = r0;\n    r0 = globals.infoState___15586.fields[\"bgColor\"];\n    s.tmp_0.arg5 = r0;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = s.num___18973;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - s.width___18977);\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = s.offsetY___18965;\n    r0 = globals.infoState___15586.fields[\"fontColor\"];\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.font___18964;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_drawScore__P15679.info = {\"start\":24914,\"length\":1048,\"line\":808,\"column\":8,\"endLine\":846,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"drawScore\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_drawScore__P15679_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_drawScore__P15679, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  s___18962: undefined,\n  font___18964: undefined,\n  offsetY___18965: undefined,\n  num___18973: undefined,\n  width___18977: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_drawPlayer__P15678(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.state___19045 = undefined;\n    s.font___19047 = undefined;\n    s.score___19049 = undefined;\n    s.life___19050 = undefined;\n    s.height___19051 = undefined;\n    s.scoreWidth___19052 = undefined;\n    s.lifeWidth___19053 = undefined;\n    s.offsetX___19054 = undefined;\n    s.offsetY___19055 = undefined;\n    s.showScore___19056 = undefined;\n    s.showLife___19062 = undefined;\n    s.width___19122 = undefined;\n    s.x___19130 = undefined;\n    s.y___19136 = undefined;\n    s.bump___19163 = undefined;\n    s.xLoc___19184 = undefined;\n    s.mult___19193 = undefined;\n    s.pNum___19248 = undefined;\n    s.iconWidth___19255 = undefined;\n    s.iconHeight___19262 = undefined;\n    s.iconX___19268 = undefined;\n    s.iconY___19277 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_PlayerInfo_getState__P15666_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 43; return s.tmp_0;\n  case 43:\n    r0 = s.retval;\n    s.state___19045 = (r0);\n    s.font___19047 = (globals.font5___15269);\n    s.height___19051 = (4);\n    s.scoreWidth___19052 = (0);\n    s.lifeWidth___19053 = (0);\n    s.offsetX___19054 = (1);\n    s.offsetY___19055 = (2);\n    r0 = s.arg0.fields[\"showScore\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.state___19045.fields[\"score\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.showScore___19056 = (s.tmp_2);\n    r0 = s.arg0.fields[\"showLife\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = s.state___19045.fields[\"life\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.showLife___19062 = (s.tmp_2);\n    r0 = pxsim_numops_toBoolDecr(s.showScore___19056);\n    if (!r0) { step = 5; continue; }\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_0 = r0;\n    r0 = s.state___19045.fields[\"score\"];\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 44);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 44:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);\n    s.score___19049 = (r0);\n    r0 = pxsim_String_.length(s.score___19049);\n    s.tmp_1 = r0;\n    s.tmp_3 = if_charWidth_1_mk(s);\n    s.tmp_3.arg0 = s.font___19047;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"charWidth\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 45; return s.tmp_3; }\n    }\n  case 45:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 * s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 3);\n    s.scoreWidth___19052 = (r0);\n    s.tmp_0 = r0 = s.height___19051;\n    s.tmp_2 = if_charHeight_1_mk(s);\n    s.tmp_2.arg0 = s.font___19047;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charHeight\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 46; return s.tmp_2; }\n    }\n  case 46:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.height___19051 = (r0);\n    s.tmp_0 = r0 = s.offsetY___19055;\n    s.tmp_3 = if_charHeight_1_mk(s);\n    s.tmp_3.arg0 = s.font___19047;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"charHeight\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 47; return s.tmp_3; }\n    }\n  case 47:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.offsetY___19055 = (r0);\n  case 5:\n  case 6:\n    r0 = pxsim_numops_toBoolDecr(s.showLife___19062);\n    if (!r0) { step = 9; continue; }\n    r0 = s.state___19045.fields[\"life\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = s.tmp_0;\n    { step = 8; continue; }\n  case 7:\n    r0 = 0;\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_2 = r0;\n    if ((s.tmp_1) && (s.tmp_1).vtable) {\n    setupResume(s, 48);\n    pxsim_String__stringConv(s.tmp_1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_1) + \"\"; }\n  case 48:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);\n    s.life___19050 = (r0);\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 + s.tmp_4);\n    s.tmp_1 = r0;\n    r0 = pxsim_String_.length(s.life___19050);\n    s.tmp_7 = r0;\n    s.tmp_9 = if_charWidth_1_mk(s);\n    s.tmp_9.arg0 = s.font___19047;\n    if (!s.tmp_9.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_9.arg0, \"charWidth\");\n    } else {\n    s.tmp_9.fn = s.tmp_9.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_9.fn == null) { s.retval = s.tmp_9.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 49; return s.tmp_9; }\n    }\n  case 49:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7 * s.tmp_8);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_1 + s.tmp_6);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 3);\n    s.lifeWidth___19053 = (r0);\n    s.tmp_0 = r0 = s.height___19051;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.height___19051 = (r0);\n  case 9:\n  case 10:\n    s.tmp_0 = Math_max__P14902_mk(s);\n    s.tmp_0.arg0 = s.scoreWidth___19052;\n    s.tmp_0.arg1 = s.lifeWidth___19053;\n    s.pc = 50; return s.tmp_0;\n  case 50:\n    r0 = s.retval;\n    s.width___19122 = (r0);\n    s.tmp_0 = r0 = s.showScore___19056;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 11; continue; }\n    r0 = s.tmp_0;\n    { step = 12; continue; }\n  case 11:\n    r0 = s.showLife___19062;\n  case 12:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 13; continue; }\n    r0 = (s.height___19051 + 1);\n    s.height___19051 = (r0);\n  case 13:\n  case 14:\n    r0 = s.arg0.fields[\"left\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 15; continue; }\n    r0 = s.width___19122;\n    { step = 16; continue; }\n  case 15:\n    r0 = 0;\n  case 16:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"x\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.tmp_1);\n    s.x___19130 = (r0);\n    r0 = s.arg0.fields[\"up\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 17; continue; }\n    r0 = s.height___19051;\n    { step = 18; continue; }\n  case 17:\n    r0 = 0;\n  case 18:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"y\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.tmp_1);\n    s.y___19136 = (r0);\n    s.tmp_0 = r0 = s.showScore___19056;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 19; continue; }\n    r0 = s.tmp_0;\n    { step = 20; continue; }\n  case 19:\n    r0 = s.showLife___19062;\n  case 20:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 21; continue; }\n    s.tmp_2 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_2.arg0 = globals.screen___15305;\n    s.tmp_2.arg1 = s.x___19130;\n    s.tmp_2.arg2 = s.y___19136;\n    s.tmp_2.arg3 = s.width___19122;\n    s.tmp_2.arg4 = s.height___19051;\n    r0 = s.arg0.fields[\"border\"];\n    s.tmp_2.arg5 = r0;\n    s.pc = 51; return s.tmp_2;\n  case 51:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = (s.x___19130 + 1);\n    s.tmp_0.arg1 = r0;\n    r0 = (s.y___19136 + 1);\n    s.tmp_0.arg2 = r0;\n    r0 = (s.width___19122 - 2);\n    s.tmp_0.arg3 = r0;\n    r0 = (s.height___19051 - 2);\n    s.tmp_0.arg4 = r0;\n    r0 = s.arg0.fields[\"bg\"];\n    s.tmp_0.arg5 = r0;\n    s.pc = 52; return s.tmp_0;\n  case 52:\n    r0 = s.retval;\n  case 21:\n  case 22:\n    r0 = pxsim_numops_toBoolDecr(s.showScore___19056);\n    if (!r0) { step = 25; continue; }\n    r0 = s.arg0.fields[\"left\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 23; continue; }\n    r0 = (s.width___19122 - s.scoreWidth___19052);\n    { step = 24; continue; }\n  case 23:\n    r0 = 0;\n  case 24:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.bump___19163 = (s.tmp_1);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = s.score___19049;\n    r0 = (s.x___19130 + s.offsetX___19054);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.bump___19163);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 1);\n    s.tmp_0.arg2 = r0;\n    r0 = (s.y___19136 + 2);\n    s.tmp_0.arg3 = r0;\n    r0 = s.arg0.fields[\"fc\"];\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.font___19047;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 53; return s.tmp_0;\n  case 53:\n    r0 = s.retval;\n  case 25:\n  case 26:\n    r0 = pxsim_numops_toBoolDecr(s.showLife___19062);\n    if (!r0) { step = 29; continue; }\n    r0 = s.arg0.fields[\"left\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 27; continue; }\n    r0 = (s.width___19122 - s.lifeWidth___19053);\n    { step = 28; continue; }\n  case 27:\n    r0 = 0;\n  case 28:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.x___19130 + s.offsetX___19054);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.tmp_1);\n    s.xLoc___19184 = (r0);\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.clone(s.tmp_0);\n    s.mult___19193 = (r0);\n    r0 = s.arg0.fields[\"fc\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.replace(s.mult___19193, 1, s.tmp_0);\n    s.tmp_0 = r0 = globals.screen___15305;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_1 = r0;\n    s.tmp_2 = r0 = s.xLoc___19184;\n    r0 = (s.y___19136 + s.offsetY___19055);\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_3);\n    s.tmp_0 = r0 = globals.screen___15305;\n    s.tmp_1 = r0 = s.mult___19193;\n    s.tmp_3 = r0 = s.xLoc___19184;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 + s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = (s.y___19136 + s.offsetY___19055);\n    s.tmp_9 = r0;\n    s.tmp_11 = if_charHeight_1_mk(s);\n    s.tmp_11.arg0 = s.font___19047;\n    if (!s.tmp_11.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_11.arg0, \"charHeight\");\n    } else {\n    s.tmp_11.fn = s.tmp_11.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_11.fn == null) { s.retval = s.tmp_11.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 54; return s.tmp_11; }\n    }\n  case 54:\n    r0 = s.retval;\n    s.tmp_10 = r0;\n    r0 = (s.tmp_9 + s.tmp_10);\n    s.tmp_8 = r0;\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_13 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_13);\n    s.tmp_12 = r0;\n    r0 = (s.tmp_8 - s.tmp_12);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 - 1);\n    s.tmp_6 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_6);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = s.life___19050;\n    s.tmp_3 = r0 = s.xLoc___19184;\n    r0 = globals.infoState___15586.fields[\"heartImage\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 + s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = globals.infoState___15586.fields[\"multiplierImage\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_7);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_2 + s.tmp_6);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 1);\n    s.tmp_0.arg2 = r0;\n    r0 = (s.y___19136 + s.offsetY___19055);\n    s.tmp_0.arg3 = r0;\n    r0 = s.arg0.fields[\"fc\"];\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.font___19047;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 55; return s.tmp_0;\n  case 55:\n    r0 = s.retval;\n  case 29:\n  case 30:\n    r0 = s.arg0.fields[\"showPlayer\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 41; continue; }\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_3 = r0;\n    if ((s.tmp_3) && (s.tmp_3).vtable) {\n    setupResume(s, 56);\n    pxsim_String__stringConv(s.tmp_3);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_3) + \"\"; }\n  case 56:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_2);\n    s.pNum___19248 = (r0);\n    r0 = pxsim_String_.length(s.pNum___19248);\n    s.tmp_1 = r0;\n    s.tmp_3 = if_charWidth_1_mk(s);\n    s.tmp_3.arg0 = s.font___19047;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"charWidth\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 57; return s.tmp_3; }\n    }\n  case 57:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 * s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 1);\n    s.iconWidth___19255 = (r0);\n    s.tmp_0 = Math_max__P14902_mk(s);\n    s.tmp_0.arg0 = s.height___19051;\n    s.tmp_2 = if_charHeight_1_mk(s);\n    s.tmp_2.arg0 = s.font___19047;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charHeight\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 59; return s.tmp_2; }\n    }\n  case 59:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 2);\n    s.tmp_0.arg1 = r0;\n    s.pc = 58; return s.tmp_0;\n  case 58:\n    r0 = s.retval;\n    s.iconHeight___19262 = (r0);\n    r0 = s.arg0.fields[\"left\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 31; continue; }\n    r0 = (s.x___19130 - s.iconWidth___19255);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 1);\n    { step = 32; continue; }\n  case 31:\n    r0 = (s.x___19130 + s.width___19122);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n  case 32:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    s.iconX___19268 = (s.tmp_3);\n    s.iconY___19277 = (s.y___19136);\n    r0 = pxsim_numops_toBoolDecr(s.showScore___19056);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 33; continue; }\n    r0 = s.tmp_0;\n    { step = 34; continue; }\n  case 33:\n    r0 = pxsim_numops_toBoolDecr(s.showLife___19062);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 34:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 39; continue; }\n    r0 = s.arg0.fields[\"left\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 35; continue; }\n    r0 = -1;\n    { step = 36; continue; }\n  case 35:\n    r0 = 1;\n  case 36:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = (s.iconX___19268 + s.tmp_5);\n    s.iconX___19268 = (r0);\n    r0 = s.arg0.fields[\"up\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 37; continue; }\n    r0 = (s.iconY___19277 - 3);\n    s.iconY___19277 = (r0);\n  case 37:\n  case 38:\n  case 39:\n  case 40:\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = s.iconX___19268;\n    s.tmp_0.arg2 = s.iconY___19277;\n    s.tmp_0.arg3 = s.iconWidth___19255;\n    s.tmp_0.arg4 = s.iconHeight___19262;\n    r0 = s.arg0.fields[\"border\"];\n    s.tmp_0.arg5 = r0;\n    s.pc = 60; return s.tmp_0;\n  case 60:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = s.pNum___19248;\n    r0 = (s.iconX___19268 + 1);\n    s.tmp_0.arg2 = r0;\n    s.tmp_2 = r0 = s.iconY___19277;\n    r0 = (s.iconHeight___19262 >> 1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.tmp_1 = r0;\n    s.tmp_6 = if_charHeight_1_mk(s);\n    s.tmp_6.arg0 = s.font___19047;\n    if (!s.tmp_6.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, \"charHeight\");\n    } else {\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 62; return s.tmp_6; }\n    }\n  case 62:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 1);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_1 - s.tmp_4);\n    s.tmp_0.arg3 = r0;\n    r0 = s.arg0.fields[\"bg\"];\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.font___19047;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 61; return s.tmp_0;\n  case 61:\n    r0 = s.retval;\n  case 41:\n  case 42:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_drawPlayer__P15678.info = {\"start\":21269,\"length\":3635,\"line\":703,\"column\":8,\"endLine\":806,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"drawPlayer\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_drawPlayer__P15678_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_drawPlayer__P15678, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  state___19045: undefined,\n  font___19047: undefined,\n  score___19049: undefined,\n  life___19050: undefined,\n  height___19051: undefined,\n  scoreWidth___19052: undefined,\n  lifeWidth___19053: undefined,\n  offsetX___19054: undefined,\n  offsetY___19055: undefined,\n  showScore___19056: undefined,\n  showLife___19062: undefined,\n  width___19122: undefined,\n  x___19130: undefined,\n  y___19136: undefined,\n  bump___19163: undefined,\n  xLoc___19184: undefined,\n  mult___19193: undefined,\n  pNum___19248: undefined,\n  iconWidth___19255: undefined,\n  iconHeight___19262: undefined,\n  iconX___19268: undefined,\n  iconY___19277: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_raiseLifeZero__P15677(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.state___19025 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_PlayerInfo_getState__P15666_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.state___19025 = (r0);\n    r0 = s.state___19025.fields[\"life\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== null);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.state___19025.fields[\"life\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 <= 0);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 7; continue; }\n    r0 = (s.state___19025).fields[\"life\"] = (null);\n    r0 = s.state___19025.fields[\"lifeZeroHandler\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_1 = lambda_1_mk(s);\n    r0 = s.state___19025.fields[\"lifeZeroHandler\"];\n    s.tmp_1.argL = r0;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 10; return s.tmp_1;\n  case 10:\n    r0 = s.retval;\n    { step = 6; continue; }\n  case 3:\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 4; continue; }\n    s.tmp_0 = game_over__P15867_mk(s);\n    s.tmp_0.arg0 = false;\n    s.tmp_0.arg1 = undefined;\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n  case 4:\n  case 5:\n  case 6:\n  case 7:\n  case 8:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_raiseLifeZero__P15677.info = {\"start\":20885,\"length\":374,\"line\":691,\"column\":8,\"endLine\":701,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"raiseLifeZero\",\"argumentNames\":[\"this\",\"gameOver\"]}\n\nfunction info_PlayerInfo_raiseLifeZero__P15677_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_raiseLifeZero__P15677, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  state___19025: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_hasLife__P15675(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.state___18952 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_PlayerInfo_getState__P15666_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.state___18952 = (r0);\n    r0 = s.state___18952.fields[\"life\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.state___18952.fields[\"life\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 !== null);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = s.tmp_3;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_hasLife__P15675.info = {\"start\":20361,\"length\":141,\"line\":674,\"column\":8,\"endLine\":677,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"hasLife\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_hasLife__P15675_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_hasLife__P15675, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  state___18952: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_hasScore__P15671(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.state___19018 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_PlayerInfo_getState__P15666_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.state___19018 = (r0);\n    r0 = s.state___19018.fields[\"score\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 !== undefined);\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_hasScore__P15671.info = {\"start\":18633,\"length\":111,\"line\":617,\"column\":8,\"endLine\":620,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"hasScore\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_hasScore__P15671_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_hasScore__P15671, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  state___19018: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_drawTimer__P15663(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.font___18352 = undefined;\n    s.smallFont___18354 = undefined;\n    s.seconds___18356 = undefined;\n    s.width___18360 = undefined;\n    s.left___18363 = undefined;\n    s.color1___18369 = undefined;\n    s.color2___18373 = undefined;\n    s.temp___18383 = undefined;\n    s.top___18411 = undefined;\n    s.remainder___18412 = undefined;\n    s.decimalLeft___18431 = undefined;\n    s.minutes___18446 = undefined;\n    s.remainder___18450 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.arg0 = (0);\n  case 1:\n  case 2:\n    r0 = (s.arg0 | 0);\n    s.arg0 = (r0);\n    s.font___18352 = (globals.font8___15264);\n    s.smallFont___18354 = (globals.font5___15269);\n    r0 = pxsim.Math_.idiv(s.arg0, 1000);\n    s.seconds___18356 = (r0);\n    s.tmp_2 = if_charWidth_1_mk(s);\n    s.tmp_2.arg0 = s.font___18352;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charWidth\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 11; return s.tmp_2; }\n    }\n  case 11:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * 5);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - 2);\n    s.width___18360 = (r0);\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (s.width___18360 >> 1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 - s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 1);\n    s.left___18363 = (r0);\n    r0 = globals.infoState___15586.fields[\"fontColor\"];\n    s.color1___18369 = (r0);\n    r0 = globals.infoState___15586.fields[\"bgColor\"];\n    s.color2___18373 = (r0);\n    r0 = (s.seconds___18356 < 10);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = (s.seconds___18356 & 1);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_1;\n    { step = 6; continue; }\n  case 5:\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 7; continue; }\n    s.temp___18383 = (s.color1___18369);\n    s.color1___18369 = (s.color2___18373);\n    s.color2___18373 = (s.temp___18383);\n  case 7:\n  case 8:\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = (s.left___18363 - 3);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 0;\n    r0 = (s.width___18360 + 6);\n    s.tmp_0.arg3 = r0;\n    s.tmp_2 = if_charHeight_1_mk(s);\n    s.tmp_2.arg0 = s.font___18352;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charHeight\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 13; return s.tmp_2; }\n    }\n  case 13:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 3);\n    s.tmp_0.arg4 = r0;\n    r0 = globals.infoState___15586.fields[\"borderColor\"];\n    s.tmp_0.arg5 = r0;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = (s.left___18363 - 2);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 0;\n    r0 = (s.width___18360 + 4);\n    s.tmp_0.arg3 = r0;\n    s.tmp_2 = if_charHeight_1_mk(s);\n    s.tmp_2.arg0 = s.font___18352;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charHeight\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 15; return s.tmp_2; }\n    }\n  case 15:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 2);\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.color2___18373;\n    s.pc = 14; return s.tmp_0;\n  case 14:\n    r0 = s.retval;\n    r0 = (s.seconds___18356 < 60);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    s.top___18411 = (1);\n    r0 = (s.arg0 % 1000);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, 10);\n    s.remainder___18412 = (r0);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_3 = info_formatDecimal__P15682_mk(s);\n    s.tmp_3.arg0 = s.seconds___18356;\n    s.pc = 17; return s.tmp_3;\n  case 17:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 18);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 18:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, \".\");\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.left___18363;\n    s.tmp_0.arg3 = s.top___18411;\n    s.tmp_0.arg4 = s.color1___18369;\n    s.tmp_0.arg5 = s.font___18352;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 16; return s.tmp_0;\n  case 16:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.left___18363;\n    s.tmp_3 = if_charWidth_1_mk(s);\n    s.tmp_3.arg0 = s.font___18352;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"charWidth\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 19; return s.tmp_3; }\n    }\n  case 19:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (3 * s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.decimalLeft___18431 = (r0);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_1 = info_formatDecimal__P15682_mk(s);\n    s.tmp_1.arg0 = s.remainder___18412;\n    s.pc = 21; return s.tmp_1;\n  case 21:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.decimalLeft___18431;\n    r0 = (s.top___18411 + 2);\n    s.tmp_0.arg3 = r0;\n    s.tmp_0.arg4 = s.color1___18369;\n    s.tmp_0.arg5 = s.smallFont___18354;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 20; return s.tmp_0;\n  case 20:\n    r0 = s.retval;\n    { step = 10; continue; }\n  case 9:\n    r0 = pxsim.Math_.idiv(s.seconds___18356, 60);\n    s.minutes___18446 = (r0);\n    r0 = (s.seconds___18356 % 60);\n    s.remainder___18450 = (r0);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_5 = info_formatDecimal__P15682_mk(s);\n    s.tmp_5.arg0 = s.minutes___18446;\n    s.pc = 23; return s.tmp_5;\n  case 23:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    if ((s.tmp_4) && (s.tmp_4).vtable) {\n    setupResume(s, 24);\n    pxsim_String__stringConv(s.tmp_4);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_4) + \"\"; }\n  case 24:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, \":\");\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 25);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 25:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_8 = info_formatDecimal__P15682_mk(s);\n    s.tmp_8.arg0 = s.remainder___18450;\n    s.pc = 26; return s.tmp_8;\n  case 26:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    if ((s.tmp_7) && (s.tmp_7).vtable) {\n    setupResume(s, 27);\n    pxsim_String__stringConv(s.tmp_7);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_7) + \"\"; }\n  case 27:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_6);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.left___18363;\n    s.tmp_0.arg3 = 1;\n    s.tmp_0.arg4 = s.color1___18369;\n    s.tmp_0.arg5 = s.font___18352;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 22; return s.tmp_0;\n  case 22:\n    r0 = s.retval;\n  case 10:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_drawTimer__P15663.info = {\"start\":13501,\"length\":1328,\"line\":463,\"column\":4,\"endLine\":498,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"drawTimer\",\"argumentNames\":[\"millis\"]}\n\nfunction info_drawTimer__P15663_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_drawTimer__P15663, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  font___18352: undefined,\n  smallFont___18354: undefined,\n  seconds___18356: undefined,\n  width___18360: undefined,\n  left___18363: undefined,\n  color1___18369: undefined,\n  color2___18373: undefined,\n  temp___18383: undefined,\n  top___18411: undefined,\n  remainder___18412: undefined,\n  decimalLeft___18431: undefined,\n  minutes___18446: undefined,\n  remainder___18450: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_formatDecimal__P15682(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 | 0);\n    s.arg0 = (r0);\n    r0 = (s.arg0 < 10);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    if ((s.arg0) && (s.arg0).vtable) {\n    setupResume(s, 4);\n    pxsim_String__stringConv(s.arg0);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg0) + \"\"; }\n  case 4:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(\"0\", s.tmp_1);\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_numops.toString(s.arg0);\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_formatDecimal__P15682.info = {\"start\":28442,\"length\":156,\"line\":917,\"column\":4,\"endLine\":923,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"formatDecimal\",\"argumentNames\":[\"val\"]}\n\nfunction info_formatDecimal__P15682_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_formatDecimal__P15682, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_InfoState_constructor__P15584(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_InfoState__C15583_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"visibilityFlag\"] = (8);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"playerStates\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = info_defaultHeartImage__P15636_mk(s);\n    s.pc = 7; return s.tmp_2;\n  case 7:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"heartImage\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim.image.ofBuffer(_hex19369);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"multiplierImage\"] = (s.tmp_1);\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = 0;\n    { step = 2; continue; }\n  case 1:\n    r0 = 1;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.arg0).fields[\"bgColor\"] = (s.tmp_1);\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = 1;\n    { step = 4; continue; }\n  case 3:\n    r0 = 3;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.arg0).fields[\"borderColor\"] = (s.tmp_1);\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = 1;\n    { step = 6; continue; }\n  case 5:\n    r0 = 3;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.arg0).fields[\"fontColor\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"countdownExpired\"] = (undefined);\n    r0 = (s.arg0).fields[\"countdownEndHandler\"] = (undefined);\n    r0 = (s.arg0).fields[\"gameEnd\"] = (undefined);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"playerStates\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_InfoState_constructor__P15584.info = {\"start\":1038,\"length\":674,\"line\":43,\"column\":8,\"endLine\":61,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction info_InfoState_constructor__P15584_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_InfoState_constructor__P15584, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\nconst _hex19369 = pxsim.BufferMethods.createBufferFromHex(\"87040500050000000100010010100000000100001010000001000100\")\n\n\n\n\nfunction info_defaultHeartImage__P15636(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.image.ofBuffer(_hex19397);\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim.image.ofBuffer(_hex19399);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.tmp_1;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_defaultHeartImage__P15636.info = {\"start\":5105,\"length\":592,\"line\":163,\"column\":4,\"endLine\":184,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"defaultHeartImage\",\"argumentNames\":[]}\n\nfunction info_defaultHeartImage__P15636_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_defaultHeartImage__P15636, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\nconst _hex19397 = pxsim.BufferMethods.createBufferFromHex(\"87040800070000001011000001000100010010001000000101001000010001001011000000000000\")\nconst _hex19399 = pxsim.BufferMethods.createBufferFromHex(\"8704080007000000c0cc00002c220c002222c2002222220c20222202222422004222020020220000\")\n\n\n\n\nfunction helpers_arrayFilter__P14889(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.res___19316 = undefined;\n    s.len___19318 = undefined;\n    s.i___19321 = undefined;\n    s.v___19325 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.res___19316 = (r0);\n    r0 = pxsim_Array__length(s.arg0);\n    s.len___19318 = (r0);\n    s.i___19321 = (0);\n  case 1:\n    r0 = (s.i___19321 < s.len___19318);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_Array__getAt(s.arg0, s.i___19321);\n    s.v___19325 = (r0);\n    s.tmp_1 = lambda_3_mk(s);\n    s.tmp_1.argL = s.arg1;\n    s.tmp_1.arg0 = s.v___19325;\n    s.tmp_1.arg1 = s.i___19321;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    r0 = pxsim_Array__push(s.res___19316, s.v___19325);\n  case 2:\n  case 3:\n    r0 = (s.i___19321 + 1);\n    s.i___19321 = (r0);\n    { step = 1; continue; }\n  case 4:\n    r0 = s.res___19316;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arrayFilter__P14889.info = {\"start\":5412,\"length\":317,\"line\":177,\"column\":4,\"endLine\":185,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arrayFilter\",\"argumentNames\":[\"arr\",\"callbackfn\"]}\n\nfunction helpers_arrayFilter__P14889_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arrayFilter__P14889, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  res___19316: undefined,\n  len___19318: undefined,\n  i___19321: undefined,\n  v___19325: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerState_constructor__P15582(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerState__C15581_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerState_constructor__P15582.info = {\"start\":601,\"length\":17,\"line\":27,\"column\":8,\"endLine\":27,\"endColumn\":25,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerState_constructor__P15582_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerState_constructor__P15582, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_changeScoreBy__P15643(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = info_PlayerInfo_changeScoreBy__P15670_mk(s);\n    s.tmp_0.arg0 = globals.player1___15686;\n    s.tmp_0.arg1 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_changeScoreBy__P15643.info = {\"start\":7719,\"length\":90,\"line\":264,\"column\":4,\"endLine\":266,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"changeScoreBy\",\"argumentNames\":[\"value\"]}\n\nfunction info_changeScoreBy__P15643_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_changeScoreBy__P15643, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_changeScoreBy__P15670(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_PlayerInfo_setScore__P15669_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_2 = info_PlayerInfo_score__P15668_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 2; return s.tmp_2;\n  case 2:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + s.arg1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_changeScoreBy__P15670.info = {\"start\":18528,\"length\":95,\"line\":613,\"column\":8,\"endLine\":615,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"changeScoreBy\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction info_PlayerInfo_changeScoreBy__P15670_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_changeScoreBy__P15670, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_setScore__P15669(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.state___19412 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    s.tmp_0 = info_PlayerInfo_getState__P15666_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.state___19412 = (r0);\n    s.tmp_0 = info_updateFlag__P15656_mk(s);\n    s.tmp_0.arg0 = 2;\n    s.tmp_0.arg1 = true;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0 = info_PlayerInfo_score__P15668_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.state___19412;\n    r0 = (s.arg1 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"score\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_setScore__P15669.info = {\"start\":18041,\"length\":220,\"line\":597,\"column\":8,\"endLine\":603,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"setScore\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction info_PlayerInfo_setScore__P15669_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_setScore__P15669, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  state___19412: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction info_updateFlag__P15656(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = info_initHUD__P15634_mk(s);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = r0 = globals.infoState___15586;\n    r0 = s.tmp_0.fields[\"visibilityFlag\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | s.arg0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"visibilityFlag\"] = (s.tmp_1);\n    { step = 2; continue; }\n  case 1:\n    s.tmp_0 = r0 = globals.infoState___15586;\n    r0 = globals.infoState___15586.fields[\"visibilityFlag\"];\n    s.tmp_4 = r0;\n    r0 = (~ s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 | s.arg0);\n    s.tmp_2 = r0;\n    r0 = (~ s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"visibilityFlag\"] = (s.tmp_1);\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_updateFlag__P15656.info = {\"start\":11468,\"length\":204,\"line\":394,\"column\":4,\"endLine\":398,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"updateFlag\",\"argumentNames\":[\"flag\",\"on\"]}\n\nfunction info_updateFlag__P15656_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_updateFlag__P15656, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Math_percentChance__P15995(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 >= 100);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = true;\n    { step = 5; continue; }\n    { step = 4; continue; }\n  case 1:\n    r0 = (s.arg0 <= 0);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 2; continue; }\n    r0 = false;\n    { step = 5; continue; }\n  case 2:\n  case 3:\n  case 4:\n    r0 = pxsim.Math_.randomRange(0, 99);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 < s.arg0);\n  case 5:\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_percentChance__P15995.info = {\"start\":336,\"length\":259,\"line\":8,\"column\":4,\"endLine\":16,\"endColumn\":5,\"fileName\":\"pxt_modules/game/mathUtil.ts\",\"functionName\":\"percentChance\",\"argumentNames\":[\"percentage\"]}\n\nfunction Math_percentChance__P15995_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_percentChance__P15995, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_setKind__P15479(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.spritesByKind___19449 = undefined;\n    s.overlapMap___19476 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = (s.arg1 == undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"_kind\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === s.arg1);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 3; continue; }\n    { step = 15; continue; }\n  case 3:\n  case 4:\n    s.tmp_3 = game_currentScene__P15610_mk(s);\n    s.pc = 16; return s.tmp_3;\n  case 16:\n    r0 = s.retval;\n    r0 = r0.fields[\"spritesByKind\"];\n    s.spritesByKind___19449 = (r0);\n    r0 = s.arg0.fields[\"_kind\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 >= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    r0 = s.arg0.fields[\"_kind\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_pxtrt.mapGetGeneric(s.spritesByKind___19449, s.tmp_2);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 7; continue; }\n    s.tmp_4 = SpriteSet_remove__P15523_mk(s);\n    r0 = s.arg0.fields[\"_kind\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt.mapGetGeneric(s.spritesByKind___19449, s.tmp_5);\n    s.tmp_4.arg0 = r0;\n    s.tmp_4.arg1 = s.arg0;\n    s.pc = 17; return s.tmp_4;\n  case 17:\n    r0 = s.retval;\n  case 7:\n  case 8:\n    r0 = (s.arg1 >= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    r0 = pxsim_pxtrt.mapGetGeneric(s.spritesByKind___19449, s.arg1);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 9; continue; }\n    r0 = pxsim_pxtcore_mkClassInstance(SpriteSet__C15517_VT);\n    s.tmp_4 = r0;\n    s.tmp_5 = SpriteSet_constructor__P15528_mk(s);\n    s.tmp_5.arg0 = s.tmp_4;\n    s.pc = 18; return s.tmp_5;\n  case 18:\n    r0 = s.retval;\n    r0 = pxsim_pxtrt.mapSetGeneric(s.spritesByKind___19449, s.arg1, s.tmp_4);\n  case 9:\n  case 10:\n    s.tmp_0 = SpriteSet_add__P15521_mk(s);\n    r0 = pxsim_pxtrt.mapGetGeneric(s.spritesByKind___19449, s.arg1);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.arg0;\n    s.pc = 19; return s.tmp_0;\n  case 19:\n    r0 = s.retval;\n  case 11:\n  case 12:\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 20; return s.tmp_0;\n  case 20:\n    r0 = s.retval;\n    r0 = r0.fields[\"overlapMap\"];\n    s.overlapMap___19476 = (r0);\n    r0 = pxsim_pxtrt.mapGetGeneric(s.overlapMap___19476, s.arg1);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 13; continue; }\n    s.tmp_3 = r0 = s.overlapMap___19476;\n    s.tmp_4 = r0 = s.arg1;\n    r0 = pxsim_Array__mk();\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_3, s.tmp_4, s.tmp_5);\n  case 13:\n  case 14:\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_pxtrt.mapGetGeneric(s.overlapMap___19476, s.arg1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_kindsOverlappedWith\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"_kind\"] = (s.arg1);\n  case 15:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_setKind__P15479.info = {\"start\":9666,\"length\":655,\"line\":349,\"column\":4,\"endLine\":369,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"setKind\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction Sprite_setKind__P15479_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_setKind__P15479, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  spritesByKind___19449: undefined,\n  overlapMap___19476: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction SpriteSet_constructor__P15528(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, SpriteSet__C15517_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_sprites\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSpriteSet_constructor__P15528.info = {\"start\":392,\"length\":49,\"line\":18,\"column\":4,\"endLine\":20,\"endColumn\":5,\"fileName\":\"pxt_modules/game/spriteset.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction SpriteSet_constructor__P15528_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: SpriteSet_constructor__P15528, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction SpriteSet_remove__P15523(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.i___19523 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, SpriteSet__C15517_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_sprites\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array_.indexOf(s.tmp_0, s.arg1, undefined);\n    s.i___19523 = (r0);\n    r0 = (s.i___19523 > -1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = helpers_arraySplice__P14877_mk(s);\n    r0 = s.arg0.fields[\"_sprites\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = s.i___19523;\n    s.tmp_1.arg2 = 1;\n    s.pc = 4; return s.tmp_1;\n  case 4:\n    r0 = s.retval;\n    r0 = true;\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    r0 = false;\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\nSpriteSet_remove__P15523.info = {\"start\":1556,\"length\":207,\"line\":65,\"column\":4,\"endLine\":72,\"endColumn\":5,\"fileName\":\"pxt_modules/game/spriteset.ts\",\"functionName\":\"remove\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction SpriteSet_remove__P15523_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: SpriteSet_remove__P15523, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  i___19523: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_arraySplice__P14877(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.i___19541 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    s.i___19541 = (0);\n  case 3:\n    r0 = (s.i___19541 < s.arg2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_Array_.removeAt(s.arg0, s.arg1);\n    r0 = (s.i___19541 + 1);\n    s.i___19541 = (r0);\n    { step = 3; continue; }\n  case 4:\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arraySplice__P14877.info = {\"start\":1359,\"length\":213,\"line\":53,\"column\":4,\"endLine\":60,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arraySplice\",\"argumentNames\":[\"arr\",\"start\",\"len\"]}\n\nfunction helpers_arraySplice__P14877_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arraySplice__P14877, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  i___19541: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction SpriteSet_add__P15521(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, SpriteSet__C15517_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = false;\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"_sprites\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_Array_.indexOf(s.tmp_4, s.arg1, undefined);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 > -1);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 3; continue; }\n    r0 = false;\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    r0 = s.arg0.fields[\"_sprites\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__push(s.tmp_5, s.arg1);\n    r0 = true;\n  case 5:\n    return leave(s, r0)\n  default: oops()\n} } }\nSpriteSet_add__P15521.info = {\"start\":855,\"length\":235,\"line\":40,\"column\":4,\"endLine\":48,\"endColumn\":5,\"fileName\":\"pxt_modules/game/spriteset.ts\",\"functionName\":\"add\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction SpriteSet_add__P15521_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: SpriteSet_add__P15521, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction SpriteSet_contains__P15524(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, SpriteSet__C15517_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_sprites\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_Array_.indexOf(s.tmp_1, s.arg1, undefined);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 > -1);\n    return leave(s, r0)\n  default: oops()\n} } }\nSpriteSet_contains__P15524.info = {\"start\":1854,\"length\":92,\"line\":78,\"column\":4,\"endLine\":80,\"endColumn\":5,\"fileName\":\"pxt_modules/game/spriteset.ts\",\"functionName\":\"contains\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction SpriteSet_contains__P15524_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: SpriteSet_contains__P15524, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction sprites_createProjectileFromSide__P15445(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = sprites_createProjectile__P15447_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg2;\n    s.tmp_0.arg3 = 1;\n    s.tmp_0.arg4 = undefined;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_createProjectileFromSide__P15445.info = {\"start\":2403,\"length\":153,\"line\":74,\"column\":4,\"endLine\":76,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprites.ts\",\"functionName\":\"createProjectileFromSide\",\"argumentNames\":[\"img\",\"vx\",\"vy\"]}\n\nfunction sprites_createProjectileFromSide__P15445_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_createProjectileFromSide__P15445, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction sprites_createProjectile__P15447(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.s___23073 = undefined;\n    s.sc___23078 = undefined;\n    s.xOff___23086 = undefined;\n    s.yOff___23094 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.arg3;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = 1;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.tmp_2 = sprites_create__P15443_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.tmp_2.arg1 = s.tmp_1;\n    s.pc = 21; return s.tmp_2;\n  case 21:\n    r0 = s.retval;\n    s.s___23073 = (r0);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 22; return s.tmp_0;\n  case 22:\n    r0 = s.retval;\n    s.sc___23078 = (r0);\n    s.tmp_0 = Sprite_vx__P15455_mk(s);\n    s.tmp_0.arg0 = s.s___23073;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 23; return s.tmp_0;\n  case 23:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_vy__P15457_mk(s);\n    s.tmp_0.arg0 = s.s___23073;\n    s.tmp_0.arg1 = s.arg2;\n    s.pc = 24; return s.tmp_0;\n  case 24:\n    r0 = s.retval;\n    r0 = s.sc___23078.fields[\"tileMap\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.s___23073.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (0 - s.tmp_1);\n    { step = 4; continue; }\n  case 3:\n    r0 = s.s___23073.fields[\"_image\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 1);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - 1);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    s.xOff___23086 = (s.tmp_7);\n    r0 = s.sc___23078.fields[\"tileMap\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = s.s___23073.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (0 - s.tmp_1);\n    { step = 6; continue; }\n  case 5:\n    r0 = s.s___23073.fields[\"_image\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 1);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - 1);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    s.yOff___23094 = (s.tmp_7);\n  case 7:\n    r0 = (s.arg1 == 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 8; continue; }\n    r0 = s.tmp_0;\n    { step = 9; continue; }\n  case 8:\n    r0 = (s.arg2 == 0);\n  case 9:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 10; continue; }\n    r0 = pxsim.Math_.randomRange(-100, 100);\n    s.arg1 = (r0);\n    r0 = pxsim.Math_.randomRange(-100, 100);\n    s.arg2 = (r0);\n    { step = 7; continue; }\n  case 10:\n    r0 = (s.arg1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    s.tmp_1 = Sprite_x__P15451_mk(s);\n    s.tmp_1.arg0 = s.s___23073;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.xOff___23086);\n    s.tmp_1.arg1 = r0;\n    s.pc = 25; return s.tmp_1;\n  case 25:\n    r0 = s.retval;\n    { step = 14; continue; }\n  case 11:\n    r0 = (s.arg1 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 12; continue; }\n    s.tmp_1 = Sprite_x__P15451_mk(s);\n    s.tmp_1.arg0 = s.s___23073;\n    r0 = (0 - s.xOff___23086);\n    s.tmp_1.arg1 = r0;\n    s.pc = 26; return s.tmp_1;\n  case 26:\n    r0 = s.retval;\n  case 12:\n  case 13:\n  case 14:\n    r0 = (s.arg2 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 15; continue; }\n    s.tmp_1 = Sprite_y__P15453_mk(s);\n    s.tmp_1.arg0 = s.s___23073;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.yOff___23094);\n    s.tmp_1.arg1 = r0;\n    s.pc = 27; return s.tmp_1;\n  case 27:\n    r0 = s.retval;\n    { step = 18; continue; }\n  case 15:\n    r0 = (s.arg2 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 16; continue; }\n    s.tmp_1 = Sprite_y__P15453_mk(s);\n    s.tmp_1.arg0 = s.s___23073;\n    r0 = (0 - s.yOff___23094);\n    s.tmp_1.arg1 = r0;\n    s.pc = 28; return s.tmp_1;\n  case 28:\n    r0 = s.retval;\n  case 16:\n  case 17:\n  case 18:\n    s.tmp_0 = r0 = s.s___23073;\n    r0 = s.tmp_0.fields[\"flags\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 4);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"flags\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.s___23073;\n    r0 = s.tmp_0.fields[\"flags\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 16);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"flags\"] = (s.tmp_1);\n    r0 = pxsim_numops_toBoolDecr(s.arg4);\n    if (!r0) { step = 19; continue; }\n    s.tmp_0 = Sprite_x__P15451_mk(s);\n    s.tmp_0.arg0 = s.s___23073;\n    s.tmp_1 = Sprite_x__P15450_mk(s);\n    s.tmp_1.arg0 = s.arg4;\n    s.pc = 30; return s.tmp_1;\n  case 30:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 29; return s.tmp_0;\n  case 29:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_y__P15453_mk(s);\n    s.tmp_0.arg0 = s.s___23073;\n    s.tmp_1 = Sprite_y__P15452_mk(s);\n    s.tmp_1.arg0 = s.arg4;\n    s.pc = 32; return s.tmp_1;\n  case 32:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 31; return s.tmp_0;\n  case 31:\n    r0 = s.retval;\n  case 19:\n  case 20:\n    r0 = s.s___23073;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_createProjectile__P15447.info = {\"start\":4034,\"length\":1115,\"line\":106,\"column\":4,\"endLine\":142,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprites.ts\",\"functionName\":\"createProjectile\",\"argumentNames\":[\"img\",\"vx\",\"vy\",\"kind\",\"sprite\"]}\n\nfunction sprites_createProjectile__P15447_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_createProjectile__P15447, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  s___23073: undefined,\n  sc___23078: undefined,\n  xOff___23086: undefined,\n  yOff___23094: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction Sprite_height__P15469(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_height__P15469.info = {\"start\":7461,\"length\":54,\"line\":265,\"column\":4,\"endLine\":267,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"height\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_height__P15469_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_height__P15469, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_width__P15468(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_width__P15468.info = {\"start\":7316,\"length\":52,\"line\":260,\"column\":4,\"endLine\":262,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"width\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_width__P15468_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_width__P15468, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_vx__P15455(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_vx\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_vx__P15455.info = {\"start\":2030,\"length\":51,\"line\":80,\"column\":4,\"endLine\":82,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"vx\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction Sprite_vx__P15455_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_vx__P15455, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_vx__P15454(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_vx\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 256);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_vx__P15454.info = {\"start\":1868,\"length\":60,\"line\":75,\"column\":4,\"endLine\":77,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"vx\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_vx__P15454_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_vx__P15454, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Fx_toFloat__P14940(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 / 256);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_toFloat__P14940.info = {\"start\":2087,\"length\":81,\"line\":68,\"column\":4,\"endLine\":70,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"toFloat\",\"argumentNames\":[\"v\"]}\n\nfunction Fx_toFloat__P14940_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_toFloat__P14940, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_y__P15453(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = Sprite_top__P15475_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = r0 = s.arg1;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 - s.tmp_2);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_y__P15453.info = {\"start\":1677,\"length\":73,\"line\":69,\"column\":4,\"endLine\":71,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"y\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction Sprite_y__P15453_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_y__P15453, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_top__P15475(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.physics___23038 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = r0.fields[\"physicsEngine\"];\n    s.physics___23038 = (r0);\n    s.tmp_0 = PhysicsEngine__C15549_v2_4_mk(s);\n    s.tmp_0.arg0 = s.physics___23038;\n    s.tmp_0.arg1 = s.arg0;\n    s.tmp_0.arg2 = globals.zeroFx8___14920;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"_y\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 - s.tmp_3);\n    s.tmp_0.arg3 = r0;\n    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C15549_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.moveSprite;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_top__P15475.info = {\"start\":8527,\"length\":256,\"line\":306,\"column\":4,\"endLine\":316,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"top\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction Sprite_top__P15475_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_top__P15475, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  physics___23038: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction PhysicsEngine_moveSprite__P15552(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, PhysicsEngine__C15549_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nPhysicsEngine_moveSprite__P15552.info = {\"start\":230,\"length\":43,\"line\":13,\"column\":4,\"endLine\":13,\"endColumn\":47,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"moveSprite\",\"argumentNames\":[\"this\",\"s\",\"dx\",\"dy\"]}\n\nfunction PhysicsEngine_moveSprite__P15552_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: PhysicsEngine_moveSprite__P15552, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction Fx_sub__P14929(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 - s.arg1);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_sub__P14929.info = {\"start\":736,\"length\":118,\"line\":26,\"column\":4,\"endLine\":28,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"sub\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Fx_sub__P14929_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_sub__P14929, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_top__P15474(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_y\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 128);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 >> 8);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_top__P15474.info = {\"start\":8398,\"length\":51,\"line\":301,\"column\":4,\"endLine\":303,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"top\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_top__P15474_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_top__P15474, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Fx_toInt__P14939(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 + 128);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 8);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_toInt__P14939.info = {\"start\":1996,\"length\":86,\"line\":65,\"column\":4,\"endLine\":67,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"toInt\",\"argumentNames\":[\"v\"]}\n\nfunction Fx_toInt__P14939_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_toInt__P14939, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_y__P15452(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_y\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 128);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 8);\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_0 + s.tmp_3);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_y__P15452.info = {\"start\":1505,\"length\":84,\"line\":64,\"column\":4,\"endLine\":66,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"y\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_y__P15452_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_y__P15452, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_runtime__P15874(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = s.tmp_0.fields[\"_millis\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_runtime__P15874.info = {\"start\":10222,\"length\":81,\"line\":331,\"column\":4,\"endLine\":333,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"runtime\",\"argumentNames\":[]}\n\nfunction game_runtime__P15874_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_runtime__P15874, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\n\n\n\n\nfunction forever__P15346(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_forever__P15871_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nforever__P15346.info = {\"start\":264,\"length\":62,\"line\":6,\"column\":0,\"endLine\":8,\"endColumn\":1,\"fileName\":\"pxt_modules/game/gameoverrides.ts\",\"functionName\":\"forever\",\"argumentNames\":[\"a\"]}\n\nfunction forever__P15346_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: forever__P15346, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_forever__P15871(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(globals.foreverRunning___15870);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    globals.foreverRunning___15870 = (true);\n    r0 = pxsim.control.runInParallel(inline__P19559);\n  case 1:\n  case 2:\n    r0 = pxsim_pxtcore_mkClassInstance(scene_GameForeverHandler__C15743_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_GameForeverHandler_constructor__P15744_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_3 = game_currentScene__P15610_mk(s);\n    s.pc = 4; return s.tmp_3;\n  case 4:\n    r0 = s.retval;\n    r0 = r0.fields[\"gameForeverHandlers\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_2, s.tmp_0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_forever__P15871.info = {\"start\":8541,\"length\":820,\"line\":276,\"column\":4,\"endLine\":299,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"forever\",\"argumentNames\":[\"action\"]}\n\nfunction game_forever__P15871_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_forever__P15871, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P19559(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.handlers___19561 = undefined;\n  case 1:\n    r0 = pxsim_numops_toBoolDecr(1);\n    if (!r0) { step = 2; continue; }\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    r0 = r0.fields[\"gameForeverHandlers\"];\n    s.handlers___19561 = (r0);\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_0.arg0 = s.handlers___19561;\n    s.tmp_0.arg1 = inline__P19568;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = pause__P15082_mk(s);\n    s.tmp_0.arg0 = 20;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    { step = 1; continue; }\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19559.info = {\"start\":8693,\"length\":535,\"line\":279,\"column\":34,\"endLine\":293,\"endColumn\":13,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19559_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19559, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  handlers___19561: undefined,\n} }\n\n\n\n\n\nfunction inline__P19568(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"lock\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = (s.arg0).fields[\"lock\"] = (true);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P19577);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim.control.runInParallel(s.tmp_0);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19568.info = {\"start\":8844,\"length\":319,\"line\":282,\"column\":37,\"endLine\":290,\"endColumn\":21,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P19568_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19568, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P19577(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = lambda_1_mk(s);\n    r0 = s.caps[0].fields[\"handler\"];\n    s.tmp_0.argL = r0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = (s.caps[0]).fields[\"lock\"] = (false);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19577.info = {\"start\":8983,\"length\":130,\"line\":285,\"column\":50,\"endLine\":288,\"endColumn\":29,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19577_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19577, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction scene_GameForeverHandler_constructor__P15744(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_GameForeverHandler__C15743_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"handler\"] = (s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_GameForeverHandler_constructor__P15744.info = {\"start\":643,\"length\":65,\"line\":29,\"column\":8,\"endLine\":31,\"endColumn\":13,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"handler\"]}\n\nfunction scene_GameForeverHandler_constructor__P15744_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_GameForeverHandler_constructor__P15744, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction game_onUpdateInterval__P15869(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.timer___19599 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_init__P15859_mk(s);\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = (s.arg0 < 0);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 3; continue; }\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    r0 = pxsim_pxtrt.mklocRef();\n    s.timer___19599 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.timer___19599, 0);\n    r0 = pxsim_pxtcore_mkAction(3, inline__P19603);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.timer___19599);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg0);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg1);\n    s.tmp_1 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    s.tmp_2 = game_eventContext__P15858_mk(s);\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 19;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_onUpdateInterval__P15869.info = {\"start\":7860,\"length\":417,\"line\":255,\"column\":4,\"endLine\":266,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"onUpdateInterval\",\"argumentNames\":[\"period\",\"a\"]}\n\nfunction game_onUpdateInterval__P15869_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_onUpdateInterval__P15869, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  timer___19599: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P19603(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.time___19604 = undefined;\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = s.tmp_0.fields[\"_millis\"];\n    s.time___19604 = (r0);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= s.time___19604);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = r0 = s.caps[0];\n    r0 = (s.time___19604 + s.caps[1]);\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_2, s.tmp_3);\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.caps[2];\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19603.info = {\"start\":8090,\"length\":179,\"line\":259,\"column\":81,\"endLine\":265,\"endColumn\":9,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19603_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19603, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  time___19604: undefined,\n} }\n\n\n\n\n\nfunction game_init__P15859(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals._scene___15849);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_pxtcore_mkClassInstance(scene_Scene__C15764_VT);\n    s.tmp_2 = r0;\n    s.tmp_3 = scene_Scene_constructor__P15773_mk(s);\n    s.tmp_3.arg0 = s.tmp_2;\n    s.tmp_4 = control_pushEventContext__P15077_mk(s);\n    s.pc = 12; return s.tmp_4;\n  case 12:\n    r0 = s.retval;\n    s.tmp_3.arg1 = r0;\n    s.pc = 11; return s.tmp_3;\n  case 11:\n    r0 = s.retval;\n    globals._scene___15849 = (s.tmp_2);\n  case 1:\n  case 2:\n    s.tmp_0 = scene_Scene_init__P15765_mk(s);\n    s.tmp_0.arg0 = globals._scene___15849;\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(globals.winEffect___15842);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    globals.winEffect___15842 = (globals.confetti___16265);\n  case 3:\n  case 4:\n    r0 = pxsim_numops_toBoolDecr(globals.loseEffect___15844);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    globals.loseEffect___15844 = (globals.melt___16285);\n  case 5:\n  case 6:\n    r0 = pxsim_numops_toBoolDecr(globals.winSound___15848);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    globals.winSound___15848 = (globals.powerUp___15212);\n  case 7:\n  case 8:\n    r0 = pxsim_numops_toBoolDecr(globals.loseSound___15846);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    globals.loseSound___15846 = (globals.wawawawaa___15209);\n  case 9:\n  case 10:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_init__P15859.info = {\"start\":1202,\"length\":379,\"line\":45,\"column\":4,\"endLine\":58,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"init\",\"argumentNames\":[]}\n\nfunction game_init__P15859_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_init__P15859, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n} }\n\n\n\n\n\nfunction scene_Scene_constructor__P15773(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Scene__C15764_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"eventContext\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"flags\"] = (0);\n    r0 = pxsim_pxtcore_mkClassInstance(ArcadePhysicsEngine__C15568_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = ArcadePhysicsEngine_constructor__P15580_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = 500;\n    s.tmp_1.arg2 = 2;\n    s.tmp_1.arg3 = 4;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"physicsEngine\"] = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_Camera__C15727_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_Camera_constructor__P15730_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"camera\"] = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_Background__C15687_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_Background_constructor__P15693_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    r0 = s.arg0.fields[\"camera\"];\n    s.tmp_1.arg1 = r0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"background\"] = (s.tmp_0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"destroyedHandlers\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"createdHandlers\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"overlapHandlers\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"overlapMap\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"collisionHandlers\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"gameForeverHandlers\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"spritesByKind\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"controlledSprites\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_data\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"_millis\"] = (0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Scene_constructor__P15773.info = {\"start\":2508,\"length\":672,\"line\":81,\"column\":8,\"endLine\":97,\"endColumn\":9,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"eventContext\"]}\n\nfunction scene_Scene_constructor__P15773_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Scene_constructor__P15773, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_Camera_constructor__P15730(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Camera__C15727_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"offsetX\"] = (0);\n    r0 = (s.arg0).fields[\"offsetY\"] = (0);\n    r0 = (s.arg0).fields[\"drawOffsetX\"] = (0);\n    r0 = (s.arg0).fields[\"drawOffsetY\"] = (0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Camera_constructor__P15730.info = {\"start\":427,\"length\":154,\"line\":14,\"column\":8,\"endLine\":20,\"endColumn\":9,\"fileName\":\"pxt_modules/game/camera.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Camera_constructor__P15730_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Camera_constructor__P15730, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_Background_constructor__P15693(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Background__C15687_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"color\"] = (0);\n    r0 = (s.arg0).fields[\"camera\"] = (s.arg1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_layers\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Background_constructor__P15693.info = {\"start\":367,\"length\":132,\"line\":20,\"column\":8,\"endLine\":24,\"endColumn\":9,\"fileName\":\"pxt_modules/game/background.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"camera\"]}\n\nfunction scene_Background_constructor__P15693_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Background_constructor__P15693, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_constructor__P15580(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    r0 = undefined;\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"sprites\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"maxVelocity\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"maxVelocity\"];\n    s.tmp_2 = r0;\n    r0 = (0 - s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"maxNegativeVelocity\"] = (s.tmp_1);\n    r0 = pxsim_pxtcore_mkClassInstance(sprites_SpriteMap__C15500_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = sprites_SpriteMap_constructor__P15512_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"map\"] = (s.tmp_0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg2 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"minSingleStep\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg3 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"maxSingleStep\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_constructor__P15580.info = {\"start\":1262,\"length\":368,\"line\":53,\"column\":4,\"endLine\":61,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"maxVelocity\",\"minSingleStep\",\"maxSingleStep\"]}\n\nfunction ArcadePhysicsEngine_constructor__P15580_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_constructor__P15580, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction PhysicsEngine_constructor__P15556(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, PhysicsEngine__C15549_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nPhysicsEngine_constructor__P15556.info = {\"start\":26,\"length\":21,\"line\":1,\"column\":4,\"endLine\":2,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction PhysicsEngine_constructor__P15556_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: PhysicsEngine_constructor__P15556, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_constructor__P15512(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"buckets\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_constructor__P15512.info = {\"start\":237,\"length\":56,\"line\":8,\"column\":8,\"endLine\":10,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_SpriteMap_constructor__P15512_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_constructor__P15512, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Fx_neg__P14925(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (0 - s.arg0);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_neg__P14925.info = {\"start\":298,\"length\":88,\"line\":14,\"column\":4,\"endLine\":16,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"neg\",\"argumentNames\":[\"a\"]}\n\nfunction Fx_neg__P14925_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_neg__P14925, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_Scene_init__P15765(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Scene__C15764_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"allSprites\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    s.tmp_1 = power_poke__P15233_mk(s);\n    s.pc = 4; return s.tmp_1;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"allSprites\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"spriteNextId\"] = (0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P19825);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    r0 = s.arg0.fields[\"eventContext\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 8;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    r0 = s.arg0.fields[\"eventContext\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = 13;\n    s.tmp_0.arg2 = controller__moveSprites__P15397;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P19847);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    r0 = s.arg0.fields[\"eventContext\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 15;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P19876);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    r0 = s.arg0.fields[\"eventContext\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 90;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 8; return s.tmp_1;\n  case 8:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P19888);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    r0 = s.arg0.fields[\"eventContext\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 150;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 9; return s.tmp_1;\n  case 9:\n    r0 = s.retval;\n    s.tmp_0 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    r0 = s.arg0.fields[\"eventContext\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = 200;\n    s.tmp_0.arg2 = control___screen_update__P15276;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P19918);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_1.arg0 = globals.scene_Scene_initializers___15772;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 11; return s.tmp_1;\n  case 11:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Scene_init__P15765.info = {\"start\":3190,\"length\":2391,\"line\":99,\"column\":8,\"endLine\":155,\"endColumn\":9,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"init\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Scene_init__P15765_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Scene_init__P15765, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P19825(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = r0 = s.caps[0];\n    r0 = s.tmp_0.fields[\"_millis\"];\n    s.tmp_2 = r0;\n    r0 = s.caps[0].fields[\"eventContext\"];\n    r0 = r0.fields[\"deltaTimeMillis\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_millis\"] = (s.tmp_1);\n    s.tmp_0 = controller___update__P15423_mk(s);\n    r0 = s.caps[0].fields[\"eventContext\"];\n    s.tmp_1 = r0;\n    r0 = s.tmp_1.fields[\"deltaTimeMillis\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 / 1000);\n    s.tmp_0.arg0 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19825.info = {\"start\":3480,\"length\":217,\"line\":106,\"column\":72,\"endLine\":110,\"endColumn\":13,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19825_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19825, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction inline__P19847(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.dt___19850 = undefined;\n    s.s___19863 = undefined;\n    s.unnamed138___U2 = undefined;\n    s.unnamed139___U3 = undefined;\n    r0 = s.caps[0].fields[\"eventContext\"];\n    s.tmp_0 = r0;\n    r0 = s.tmp_0.fields[\"deltaTimeMillis\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 / 1000);\n    s.dt___19850 = (r0);\n    s.tmp_0 = PhysicsEngine__C15549_v4_2_mk(s);\n    r0 = s.caps[0].fields[\"physicsEngine\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.dt___19850;\n    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C15549_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.move;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = scene_Camera_update__P15729_mk(s);\n    r0 = s.caps[0].fields[\"camera\"];\n    s.tmp_0.arg0 = r0;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.s___19863 = (undefined);\n    s.s___19863 = (undefined);\n    r0 = s.caps[0].fields[\"allSprites\"];\n    s.unnamed138___U2 = (r0);\n    s.unnamed139___U3 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed139___U3;\n    r0 = pxsim_Array__length(s.unnamed138___U2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 2; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed138___U2, s.unnamed139___U3);\n    s.s___19863 = (r0);\n    s.tmp_2 = if___update_3_mk(s);\n    s.tmp_2.arg0 = s.s___19863;\n    r0 = s.caps[0].fields[\"camera\"];\n    s.tmp_2.arg1 = r0;\n    s.tmp_2.arg2 = s.dt___19850;\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"__update\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"__update\"]; }\n    else { s.pc = 5; return s.tmp_2; }\n  case 5:\n    r0 = s.retval;\n    r0 = (s.unnamed139___U3 + 1);\n    s.unnamed139___U3 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.unnamed138___U2 = (undefined);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19847.info = {\"start\":3992,\"length\":328,\"line\":115,\"column\":69,\"endLine\":124,\"endColumn\":13,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19847_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19847, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  dt___19850: undefined,\n  s___19863: undefined,\n  unnamed138___U2: undefined,\n  unnamed139___U3: undefined,\n} }\n\n\n\n\n\nfunction inline__P19876(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = (s.caps[0]).fields[\"cachedRender\"] = (undefined);\n    s.tmp_0 = scene_Scene_renderCore__P15771_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19876.info = {\"start\":4495,\"length\":160,\"line\":130,\"column\":76,\"endLine\":134,\"endColumn\":13,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19876_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19876, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction inline__P19888(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = r0 = globals.stats___15840;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = globals.control_EventContext_onStats___15073;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    s.tmp_2 = lambda_2_mk(s);\n    s.tmp_2.argL = globals.control_EventContext_onStats___15073;\n    if ((globals.control_EventContext_lastStats___15072) && (globals.control_EventContext_lastStats___15072).vtable) {\n    setupResume(s, 8);\n    pxsim_String__stringConv(globals.control_EventContext_lastStats___15072);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (globals.control_EventContext_lastStats___15072) + \"\"; }\n  case 8:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = s.caps[0].fields[\"allSprites\"];\n    s.tmp_8 = r0;\n    r0 = pxsim_Array__length(s.tmp_8);\n    s.tmp_7 = r0;\n    if ((s.tmp_7) && (s.tmp_7).vtable) {\n    setupResume(s, 9);\n    pxsim_String__stringConv(s.tmp_7);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_7) + \"\"; }\n  case 9:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = pxsim_String__concat(\" sprites:\", s.tmp_6);\n    s.tmp_5 = r0;\n    if ((s.tmp_5) && (s.tmp_5).vtable) {\n    setupResume(s, 10);\n    pxsim_String__stringConv(s.tmp_5);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_5) + \"\"; }\n  case 10:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);\n    s.tmp_2.arg0 = r0;\n    setupLambda(s.tmp_2, s.tmp_2.argL);\n    s.pc = 7; return s.tmp_2;\n  case 7:\n    r0 = s.retval;\n  case 3:\n  case 4:\n    r0 = pxsim_numops_toBoolDecr(globals.debug___15839);\n    if (!r0) { step = 5; continue; }\n    s.tmp_0 = PhysicsEngine__C15549_v3_1_mk(s);\n    r0 = s.caps[0].fields[\"physicsEngine\"];\n    s.tmp_0.arg0 = r0;\n    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C15549_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.draw;\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n  case 5:\n  case 6:\n    s.tmp_0 = game_consoleOverlay_draw__P16112_mk(s);\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    r0 = (s.caps[0]).fields[\"flags\"] = (0);\n    s.tmp_0 = power_checkDeepSleep__P15234_mk(s);\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19888.info = {\"start\":4772,\"length\":567,\"line\":136,\"column\":80,\"endLine\":150,\"endColumn\":13,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19888_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19888, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n} }\n\n\n\n\n\nfunction inline__P19918(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = lambda_2_mk(s);\n    s.tmp_0.argL = s.arg0;\n    s.tmp_0.arg0 = s.caps[0];\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19918.info = {\"start\":5557,\"length\":12,\"line\":154,\"column\":39,\"endLine\":154,\"endColumn\":51,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"f\"]}\n\nfunction inline__P19918_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19918, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_consoleOverlay_draw__P16112(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.height___19955 = undefined;\n    s.top___19959 = undefined;\n    s.i___19964 = undefined;\n    s.t___19975 = undefined;\n    s.tOff___19981 = undefined;\n    s.tab___19983 = undefined;\n    s.unnamed142___U6 = undefined;\n    s.unnamed143___U7 = undefined;\n    s.padding___19985 = undefined;\n    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___16080);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_numops_toBoolDecr(globals.instance___16005);\n    s.tmp_4 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 3; continue; }\n    { step = 13; continue; }\n  case 3:\n  case 4:\n    s.tmp_7 = if_charHeight_1_mk(s);\n    s.tmp_7.arg0 = globals.consoleFont___16085;\n    if (!s.tmp_7.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, \"charHeight\");\n    } else {\n    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 14; return s.tmp_7; }\n    }\n  case 14:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + 2);\n    s.height___19955 = (r0);\n    r0 = pxsim_numops_toBoolDecr(globals.stats___15840);\n    if (!r0) { step = 5; continue; }\n    r0 = s.height___19955;\n    { step = 6; continue; }\n  case 5:\n    r0 = 0;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    r0 = (2 + s.tmp_0);\n    s.top___19959 = (r0);\n    s.i___19964 = (0);\n  case 7:\n    s.tmp_1 = r0 = s.i___19964;\n    r0 = pxsim_Array__length(globals.consoleStrings___16080);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 12; continue; }\n    r0 = pxsim_Array__getAt(globals.consoleStrings___16080, s.i___19964);\n    s.tmp_5 = r0;\n    r0 = pxsim_String_.indexOf(s.tmp_5, \"\\\\t\", undefined);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >= 0);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 10; continue; }\n    s.tmp_6 = helpers_stringSplit__P14896_mk(s);\n    r0 = pxsim_Array__getAt(globals.consoleStrings___16080, s.i___19964);\n    s.tmp_6.arg0 = r0;\n    s.tmp_6.arg1 = \"\\\\t\";\n    s.tmp_6.arg2 = undefined;\n    s.pc = 15; return s.tmp_6;\n  case 15:\n    r0 = s.retval;\n    s.t___19975 = (r0);\n    s.tOff___19981 = (0);\n    s.tab___19983 = (undefined);\n    s.tab___19983 = (undefined);\n    s.unnamed142___U6 = (s.t___19975);\n    s.unnamed143___U7 = (0);\n  case 8:\n    s.tmp_0 = r0 = s.unnamed143___U7;\n    r0 = pxsim_Array__length(s.unnamed142___U6);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 9; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed142___U6, s.unnamed143___U7);\n    s.tab___19983 = (r0);\n    s.tmp_2 = r0 = globals.tabSize___16081;\n    s.tmp_5 = r0 = s.tOff___19981;\n    r0 = pxsim_String_.length(s.tab___19983);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 + s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 % globals.tabSize___16081);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 - s.tmp_3);\n    s.padding___19985 = (r0);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = s.tab___19983;\n    s.tmp_2 = r0 = s.tOff___19981;\n    s.tmp_4 = if_charWidth_1_mk(s);\n    s.tmp_4.arg0 = globals.consoleFont___16085;\n    if (!s.tmp_4.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, \"charWidth\");\n    } else {\n    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 17; return s.tmp_4; }\n    }\n  case 17:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 * s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (4 + s.tmp_1);\n    s.tmp_0.arg2 = r0;\n    s.tmp_5 = r0 = s.top___19959;\n    r0 = (s.i___19964 * s.height___19955);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 + s.tmp_6);\n    s.tmp_0.arg3 = r0;\n    s.tmp_0.arg4 = globals.consoleColor___16079;\n    s.tmp_0.arg5 = globals.consoleFont___16085;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 16; return s.tmp_0;\n  case 16:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.tOff___19981;\n    r0 = pxsim_String_.length(s.tab___19983);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.padding___19985);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.tOff___19981 = (r0);\n    r0 = (s.unnamed143___U7 + 1);\n    s.unnamed143___U7 = (r0);\n    { step = 8; continue; }\n  case 9:\n    s.unnamed142___U6 = (undefined);\n    { step = 11; continue; }\n  case 10:\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = pxsim_Array__getAt(globals.consoleStrings___16080, s.i___19964);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 4;\n    s.tmp_1 = r0 = s.top___19959;\n    r0 = (s.i___19964 * s.height___19955);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 + s.tmp_2);\n    s.tmp_0.arg3 = r0;\n    s.tmp_0.arg4 = globals.consoleColor___16079;\n    s.tmp_0.arg5 = globals.consoleFont___16085;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 18; return s.tmp_0;\n  case 18:\n    r0 = s.retval;\n  case 11:\n    r0 = (s.i___19964 + 1);\n    s.i___19964 = (r0);\n    { step = 7; continue; }\n  case 12:\n  case 13:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_consoleOverlay_draw__P16112.info = {\"start\":1364,\"length\":859,\"line\":44,\"column\":4,\"endLine\":61,\"endColumn\":5,\"fileName\":\"pxt_modules/game/console.ts\",\"functionName\":\"draw\",\"argumentNames\":[]}\n\nfunction game_consoleOverlay_draw__P16112_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_consoleOverlay_draw__P16112, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  height___19955: undefined,\n  top___19959: undefined,\n  i___19964: undefined,\n  t___19975: undefined,\n  tOff___19981: undefined,\n  tab___19983: undefined,\n  unnamed142___U6: undefined,\n  unnamed143___U7: undefined,\n  padding___19985: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_isVisible__P16039(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.instance___16005);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_isVisible__P16039.info = {\"start\":12489,\"length\":62,\"line\":378,\"column\":4,\"endLine\":380,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"isVisible\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_isVisible__P16039_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_isVisible__P16039, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction helpers_stringSplit__P14896(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.A___20029 = undefined;\n    s.lim___20031 = undefined;\n    s.s___20039 = undefined;\n    s.p___20042 = undefined;\n    s.R___20043 = undefined;\n    s.z___20054 = undefined;\n    s.T___20065 = undefined;\n    s.q___20066 = undefined;\n    s.e___20071 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.A___20029 = (r0);\n    s.lim___20031 = (0);\n    r0 = (s.arg2 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = (1 << 29);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.lim___20031 = (r0);\n    { step = 4; continue; }\n  case 1:\n    r0 = (s.arg2 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.lim___20031 = (0);\n    { step = 3; continue; }\n  case 2:\n    r0 = (s.arg2 | 0);\n    s.lim___20031 = (r0);\n  case 3:\n  case 4:\n    r0 = pxsim_String_.length(s.arg0);\n    s.s___20039 = (r0);\n    s.p___20042 = (0);\n    s.R___20043 = (s.arg1);\n    r0 = (s.lim___20031 == 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = s.A___20029;\n    { step = 21; continue; }\n  case 5:\n  case 6:\n    r0 = (s.arg1 === undefined);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 7; continue; }\n    r0 = pxsim_Array_.setAt(s.A___20029, 0, s.arg0);\n    r0 = s.A___20029;\n    { step = 21; continue; }\n  case 7:\n  case 8:\n    r0 = (s.s___20039 == 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    s.tmp_1 = helpers_splitMatch__P14897_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = 0;\n    s.tmp_1.arg2 = s.R___20043;\n    s.pc = 22; return s.tmp_1;\n  case 22:\n    r0 = s.retval;\n    s.z___20054 = (r0);\n    r0 = (s.z___20054 > -1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    r0 = s.A___20029;\n    { step = 21; continue; }\n  case 9:\n  case 10:\n    r0 = pxsim_Array_.setAt(s.A___20029, 0, s.arg0);\n    r0 = s.A___20029;\n    { step = 21; continue; }\n  case 11:\n  case 12:\n    s.q___20066 = (s.p___20042);\n  case 13:\n    r0 = (s.q___20066 != s.s___20039);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 20; continue; }\n    s.tmp_1 = helpers_splitMatch__P14897_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = s.q___20066;\n    s.tmp_1.arg2 = s.R___20043;\n    s.pc = 23; return s.tmp_1;\n  case 23:\n    r0 = s.retval;\n    s.e___20071 = (r0);\n    r0 = (s.e___20071 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 14; continue; }\n    r0 = (s.q___20066 + 1);\n    s.q___20066 = (r0);\n    { step = 19; continue; }\n  case 14:\n    r0 = (s.e___20071 == s.p___20042);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 15; continue; }\n    r0 = (s.q___20066 + 1);\n    s.q___20066 = (r0);\n    { step = 18; continue; }\n  case 15:\n    s.tmp_0 = helpers_stringSlice__P14894_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.p___20042;\n    s.tmp_0.arg2 = s.q___20066;\n    s.pc = 24; return s.tmp_0;\n  case 24:\n    r0 = s.retval;\n    s.T___20065 = (r0);\n    r0 = pxsim_Array__push(s.A___20029, s.T___20065);\n    r0 = pxsim_Array__length(s.A___20029);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == s.lim___20031);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 16; continue; }\n    r0 = s.A___20029;\n    { step = 21; continue; }\n  case 16:\n  case 17:\n    s.p___20042 = (s.e___20071);\n    s.q___20066 = (s.p___20042);\n  case 18:\n  case 19:\n    { step = 13; continue; }\n  case 20:\n    s.tmp_0 = helpers_stringSlice__P14894_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.p___20042;\n    s.tmp_0.arg2 = s.q___20066;\n    s.pc = 25; return s.tmp_0;\n  case 25:\n    r0 = s.retval;\n    s.T___20065 = (r0);\n    r0 = pxsim_Array__push(s.A___20029, s.T___20065);\n    r0 = s.A___20029;\n  case 21:\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_stringSplit__P14896.info = {\"start\":8205,\"length\":1319,\"line\":276,\"column\":4,\"endLine\":320,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"stringSplit\",\"argumentNames\":[\"S\",\"separator\",\"limit\"]}\n\nfunction helpers_stringSplit__P14896_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_stringSplit__P14896, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  A___20029: undefined,\n  lim___20031: undefined,\n  s___20039: undefined,\n  p___20042: undefined,\n  R___20043: undefined,\n  z___20054: undefined,\n  T___20065: undefined,\n  q___20066: undefined,\n  e___20071: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction helpers_splitMatch__P14897(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.r___20139 = undefined;\n    s.s___20142 = undefined;\n    s.i___20149 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_String_.length(s.arg2);\n    s.r___20139 = (r0);\n    r0 = pxsim_String_.length(s.arg0);\n    s.s___20142 = (r0);\n    r0 = (s.arg1 + s.r___20139);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > s.s___20142);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = -1;\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    s.i___20149 = (0);\n  case 3:\n    r0 = (s.i___20149 < s.r___20139);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    s.tmp_3 = r0 = s.arg0;\n    r0 = (s.arg1 + s.i___20149);\n    s.tmp_4 = r0;\n    r0 = pxsim_String_.charAt(s.tmp_3, s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = pxsim_String_.charAt(s.arg2, s.i___20149);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_2 != s.tmp_5);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 4; continue; }\n    r0 = -1;\n    { step = 7; continue; }\n  case 4:\n  case 5:\n    r0 = (s.i___20149 + 1);\n    s.i___20149 = (r0);\n    { step = 3; continue; }\n  case 6:\n    r0 = (s.arg1 + s.r___20139);\n  case 7:\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_splitMatch__P14897.info = {\"start\":9530,\"length\":289,\"line\":322,\"column\":4,\"endLine\":331,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"splitMatch\",\"argumentNames\":[\"S\",\"q\",\"R\"]}\n\nfunction helpers_splitMatch__P14897_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_splitMatch__P14897, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  r___20139: undefined,\n  s___20142: undefined,\n  i___20149: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction helpers_stringSlice__P14894(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.len___20113 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_String_.length(s.arg0);\n    s.len___20113 = (r0);\n    r0 = (s.arg1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = Math_max__P14902_mk(s);\n    r0 = (s.len___20113 + s.arg1);\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 0;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    s.arg1 = (r0);\n  case 1:\n  case 2:\n    r0 = (s.arg2 == null);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.arg2 = (s.len___20113);\n  case 3:\n  case 4:\n    r0 = (s.arg2 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = (s.len___20113 + s.arg2);\n    s.arg2 = (r0);\n  case 5:\n  case 6:\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_1 = r0 = s.arg1;\n    r0 = (s.arg2 - s.arg1);\n    s.tmp_2 = r0;\n    r0 = pxsim_String_.substr(s.tmp_0, s.tmp_1, s.tmp_2);\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_stringSlice__P14894.info = {\"start\":7322,\"length\":365,\"line\":242,\"column\":4,\"endLine\":258,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"stringSlice\",\"argumentNames\":[\"s\",\"start\",\"end\"]}\n\nfunction helpers_stringSlice__P14894_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_stringSlice__P14894, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  len___20113: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction scene_Scene_renderCore__P15771(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.s___20198 = undefined;\n    s.unnamed140___U1 = undefined;\n    s.unnamed141___U2 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Scene__C15764_VT)) failedCast(r0);\n    s.tmp_0 = scene_Background_draw__P15692_mk(s);\n    r0 = s.arg0.fields[\"background\"];\n    s.tmp_0.arg0 = r0;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = helpers_arraySort__P14884_mk(s);\n    r0 = s.arg0.fields[\"allSprites\"];\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = inline__P20182;\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    s.s___20198 = (undefined);\n    s.s___20198 = (undefined);\n    r0 = s.arg0.fields[\"allSprites\"];\n    s.unnamed140___U1 = (r0);\n    s.unnamed141___U2 = (0);\n  case 3:\n    s.tmp_0 = r0 = s.unnamed141___U2;\n    r0 = pxsim_Array__length(s.unnamed140___U1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed140___U1, s.unnamed141___U2);\n    s.s___20198 = (r0);\n    s.tmp_2 = if___draw_2_mk(s);\n    s.tmp_2.arg0 = s.s___20198;\n    r0 = s.arg0.fields[\"camera\"];\n    s.tmp_2.arg1 = r0;\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"__draw\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"__draw\"]; }\n    else { s.pc = 7; return s.tmp_2; }\n  case 7:\n    r0 = s.retval;\n    r0 = (s.unnamed141___U2 + 1);\n    s.unnamed141___U2 = (r0);\n    { step = 3; continue; }\n  case 4:\n    s.unnamed140___U1 = (undefined);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Scene_renderCore__P15771.info = {\"start\":6966,\"length\":490,\"line\":206,\"column\":8,\"endLine\":219,\"endColumn\":9,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"renderCore\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Scene_renderCore__P15771_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Scene_renderCore__P15771, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  s___20198: undefined,\n  unnamed140___U1: undefined,\n  unnamed141___U2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P20182(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_2 = if_z_1_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"z\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"z\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"z\"]; }\n    else { s.pc = 3; return s.tmp_2; }\n    }\n  case 3:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_4 = if_z_1_mk(s);\n    s.tmp_4.arg0 = s.arg1;\n    if (!s.tmp_4.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, \"z\");\n    } else {\n    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface[\"z\"];\n    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields[\"z\"]; }\n    else { s.pc = 4; return s.tmp_4; }\n    }\n  case 4:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 - s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_6 = if_id_1_mk(s);\n    s.tmp_6.arg0 = s.arg0;\n    if (!s.tmp_6.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, \"id\");\n    } else {\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface[\"id\"];\n    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields[\"id\"]; }\n    else { s.pc = 5; return s.tmp_6; }\n    }\n  case 5:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    s.tmp_8 = if_id_1_mk(s);\n    s.tmp_8.arg0 = s.arg1;\n    if (!s.tmp_8.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, \"id\");\n    } else {\n    s.tmp_8.fn = s.tmp_8.arg0.vtable.iface[\"id\"];\n    if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields[\"id\"]; }\n    else { s.pc = 6; return s.tmp_8; }\n    }\n  case 6:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = (s.tmp_5 - s.tmp_7);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_9 = r0;\n    r0 = s.tmp_9;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P20182.info = {\"start\":7225,\"length\":52,\"line\":212,\"column\":37,\"endLine\":212,\"endColumn\":89,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction inline__P20182_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P20182, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_Background_draw__P15692(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Background__C15687_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"color\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.fill(globals.screen___15305, s.tmp_0);\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(globals.screen___15305, s.tmp_1, 0, 0);\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"_layers\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore_mkAction(1, inline__P20228);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);\n    s.tmp_2 = helpers_arrayForEach__P14888_mk(s);\n    r0 = s.arg0.fields[\"_layers\"];\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = s.tmp_1;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Background_draw__P15692.info = {\"start\":1166,\"length\":545,\"line\":48,\"column\":8,\"endLine\":60,\"endColumn\":9,\"fileName\":\"pxt_modules/game/background.ts\",\"functionName\":\"draw\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Background_draw__P15692_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Background_draw__P15692, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P20228(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.ox___20230 = undefined;\n    s.oy___20242 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.caps[0].fields[\"camera\"];\n    r0 = r0.fields[\"drawOffsetX\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"distance\"];\n    s.tmp_3 = r0;\n    r0 = (1 + s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 / s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.round(s.tmp_0);\n    s.ox___20230 = (r0);\n    r0 = s.caps[0].fields[\"camera\"];\n    r0 = r0.fields[\"drawOffsetY\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"distance\"];\n    s.tmp_3 = r0;\n    r0 = (1 + s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 / s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.round(s.tmp_0);\n    s.oy___20242 = (r0);\n    s.tmp_0 = scene_BackgroundLayer_draw__P15695_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.ox___20230;\n    s.tmp_0.arg2 = s.oy___20242;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P20228.info = {\"start\":1373,\"length\":312,\"line\":53,\"column\":37,\"endLine\":58,\"endColumn\":17,\"fileName\":\"pxt_modules/game/background.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"layer\"]}\n\nfunction inline__P20228_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P20228, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  ox___20230: undefined,\n  oy___20242: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_BackgroundLayer_draw__P15695(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.w___20259 = undefined;\n    s.h___20262 = undefined;\n    s.pw___20265 = undefined;\n    s.ph___20270 = undefined;\n    s.rx___20277 = undefined;\n    s.ry___20279 = undefined;\n    s.y___20334 = undefined;\n    s.py___20335 = undefined;\n    s.dh___20342 = undefined;\n    s.x___20348 = undefined;\n    s.rxl___20349 = undefined;\n    s.px___20354 = undefined;\n    s.dw___20357 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_BackgroundLayer__C15694_VT)) failedCast(r0);\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.w___20259 = (r0);\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.h___20262 = (r0);\n    r0 = s.arg0.fields[\"img\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_0);\n    s.pw___20265 = (r0);\n    r0 = s.arg0.fields[\"img\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_0);\n    s.ph___20270 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.pw___20265);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_numops_toBoolDecr(s.ph___20270);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    { step = 23; continue; }\n  case 3:\n  case 4:\n    r0 = (0 - s.arg1);\n    s.rx___20277 = (r0);\n    r0 = (0 - s.arg2);\n    s.ry___20279 = (r0);\n    r0 = s.arg0.fields[\"alignX\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);\n    if (r0) { step = 6; continue; }\n    r0 = s.tmp_0;\n    { step = 7; continue; }\n  case 5:\n    s.tmp_1 = r0 = s.rx___20277;\n    r0 = (s.w___20259 + s.pw___20265);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 - s.tmp_2);\n    s.rx___20277 = (r0);\n    { step = 7; continue; }\n  case 6:\n    s.tmp_0 = r0 = s.rx___20277;\n    r0 = (s.w___20259 + s.pw___20265);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 - s.tmp_1);\n    s.rx___20277 = (r0);\n  case 7:\n    r0 = s.arg0.fields[\"alignY\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);\n    if (r0) { step = 8; continue; }\n    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);\n    if (r0) { step = 9; continue; }\n    r0 = s.tmp_0;\n    { step = 10; continue; }\n  case 8:\n    s.tmp_1 = r0 = s.ry___20279;\n    r0 = (s.h___20262 + s.ph___20270);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 - s.tmp_2);\n    s.ry___20279 = (r0);\n    { step = 10; continue; }\n  case 9:\n    s.tmp_0 = r0 = s.ry___20279;\n    r0 = (s.h___20262 + s.ph___20270);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 - s.tmp_1);\n    s.ry___20279 = (r0);\n  case 10:\n    r0 = (s.rx___20277 % s.w___20259);\n    s.rx___20277 = (r0);\n    r0 = (s.rx___20277 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    r0 = (s.rx___20277 + s.w___20259);\n    s.rx___20277 = (r0);\n  case 11:\n  case 12:\n    r0 = (s.ry___20279 % s.h___20262);\n    s.ry___20279 = (r0);\n    r0 = (s.ry___20279 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 13; continue; }\n    r0 = (s.ry___20279 + s.h___20262);\n    s.ry___20279 = (r0);\n  case 13:\n  case 14:\n    r0 = pxsim.Math_.floor(s.rx___20277);\n    s.rx___20277 = (r0);\n    r0 = pxsim.Math_.floor(s.ry___20279);\n    s.ry___20279 = (r0);\n    s.y___20334 = (0);\n    s.py___20335 = (0);\n  case 15:\n    r0 = (s.y___20334 < s.h___20262);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 22; continue; }\n    r0 = (s.y___20334 % s.ph___20270);\n    s.py___20335 = (r0);\n    s.tmp_0 = Math_min__P14903_mk(s);\n    r0 = (s.ph___20270 - s.py___20335);\n    s.tmp_0.arg0 = r0;\n    r0 = (s.h___20262 - s.ry___20279);\n    s.tmp_0.arg1 = r0;\n    s.pc = 24; return s.tmp_0;\n  case 24:\n    r0 = s.retval;\n    s.dh___20342 = (r0);\n    s.x___20348 = (0);\n    s.rxl___20349 = (s.rx___20277);\n  case 16:\n    r0 = (s.x___20348 < s.w___20259);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 19; continue; }\n    r0 = (s.x___20348 % s.pw___20265);\n    s.px___20354 = (r0);\n    s.tmp_0 = Math_min__P14903_mk(s);\n    r0 = (s.pw___20265 - s.px___20354);\n    s.tmp_0.arg0 = r0;\n    r0 = (s.w___20259 - s.rxl___20349);\n    s.tmp_0.arg1 = r0;\n    s.pc = 25; return s.tmp_0;\n  case 25:\n    r0 = s.retval;\n    s.dw___20357 = (r0);\n    r0 = s.arg0.fields[\"img\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.drawImage(globals.screen___15305, s.tmp_0, s.rxl___20349, s.ry___20279);\n    r0 = (s.rxl___20349 + s.dw___20357);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 % s.w___20259);\n    s.rxl___20349 = (r0);\n    r0 = s.arg0.fields[\"repeatX\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 17; continue; }\n    r0 = s.dw___20357;\n    { step = 18; continue; }\n  case 17:\n    r0 = s.w___20259;\n  case 18:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.x___20348 + s.tmp_1);\n    s.x___20348 = (r0);\n    { step = 16; continue; }\n  case 19:\n    r0 = (s.ry___20279 + s.dh___20342);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 % s.h___20262);\n    s.ry___20279 = (r0);\n    r0 = s.arg0.fields[\"repeatY\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 20; continue; }\n    r0 = s.dh___20342;\n    { step = 21; continue; }\n  case 20:\n    r0 = s.h___20262;\n  case 21:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.y___20334 + s.tmp_1);\n    s.y___20334 = (r0);\n    { step = 15; continue; }\n  case 22:\n  case 23:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_BackgroundLayer_draw__P15695.info = {\"start\":3063,\"length\":1537,\"line\":99,\"column\":8,\"endLine\":144,\"endColumn\":9,\"fileName\":\"pxt_modules/game/background.ts\",\"functionName\":\"draw\",\"argumentNames\":[\"this\",\"offsetX\",\"offsetY\"]}\n\nfunction scene_BackgroundLayer_draw__P15695_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_BackgroundLayer_draw__P15695, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  w___20259: undefined,\n  h___20262: undefined,\n  pw___20265: undefined,\n  ph___20270: undefined,\n  rx___20277: undefined,\n  ry___20279: undefined,\n  y___20334: undefined,\n  py___20335: undefined,\n  dh___20342: undefined,\n  x___20348: undefined,\n  rxl___20349: undefined,\n  px___20354: undefined,\n  dw___20357: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction scene_Camera_update__P15729(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___20396 = undefined;\n    s.elapsed___20455 = undefined;\n    s.percentComplete___20467 = undefined;\n    s.dampStart___20471 = undefined;\n    s.damp___20472 = undefined;\n    s.f___20478 = undefined;\n    s.x___20483 = undefined;\n    s.y___20487 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Camera__C15727_VT)) failedCast(r0);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    s.scene___20396 = (r0);\n    r0 = s.arg0.fields[\"sprite\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = r0 = s.arg0;\n    s.tmp_4 = Sprite_x__P15450_mk(s);\n    r0 = s.arg0.fields[\"sprite\"];\n    s.tmp_4.arg0 = r0;\n    s.pc = 14; return s.tmp_4;\n  case 14:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 >> 1);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_3 - s.tmp_5);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1).fields[\"offsetX\"] = (s.tmp_2);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_3 = Sprite_y__P15452_mk(s);\n    r0 = s.arg0.fields[\"sprite\"];\n    s.tmp_3.arg0 = r0;\n    s.pc = 15; return s.tmp_3;\n  case 15:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 1);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 - s.tmp_4);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"offsetY\"] = (s.tmp_1);\n  case 1:\n  case 2:\n    r0 = s.scene___20396.fields[\"tileMap\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = s.scene___20396.fields[\"tileMap\"];\n    s.tmp_1 = r0;\n    r0 = s.tmp_1.fields[\"_map\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 5; continue; }\n    s.tmp_7 = r0 = s.arg0;\n    s.tmp_9 = tiles_TileMap_offsetX__P15708_mk(s);\n    r0 = s.scene___20396.fields[\"tileMap\"];\n    s.tmp_9.arg0 = r0;\n    r0 = s.arg0.fields[\"offsetX\"];\n    s.tmp_9.arg1 = r0;\n    s.pc = 16; return s.tmp_9;\n  case 16:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7).fields[\"offsetX\"] = (s.tmp_8);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = tiles_TileMap_offsetY__P15709_mk(s);\n    r0 = s.scene___20396.fields[\"tileMap\"];\n    s.tmp_2.arg0 = r0;\n    r0 = s.arg0.fields[\"offsetY\"];\n    s.tmp_2.arg1 = r0;\n    s.pc = 17; return s.tmp_2;\n  case 17:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"offsetY\"] = (s.tmp_1);\n  case 5:\n  case 6:\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"offsetX\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"offsetX\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"offsetY\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"offsetY\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"offsetX\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg0).fields[\"drawOffsetX\"] = (s.tmp_0);\n    r0 = s.arg0.fields[\"offsetY\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg0).fields[\"drawOffsetY\"] = (s.tmp_0);\n    r0 = s.arg0.fields[\"shakeStartTime\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    r0 = pxsim.control.millis();\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"shakeStartTime\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 - s.tmp_3);\n    s.elapsed___20455 = (r0);\n    r0 = s.arg0.fields[\"shakeDuration\"];\n    s.tmp_1 = r0;\n    r0 = (s.elapsed___20455 >= s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = (s.arg0).fields[\"shakeStartTime\"] = (undefined);\n    { step = 10; continue; }\n  case 7:\n    r0 = s.arg0.fields[\"shakeDuration\"];\n    s.tmp_0 = r0;\n    r0 = (s.elapsed___20455 / s.tmp_0);\n    s.percentComplete___20467 = (r0);\n    s.dampStart___20471 = (0.75);\n    s.damp___20472 = (1);\n    r0 = (s.percentComplete___20467 >= s.dampStart___20471);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 8; continue; }\n    s.tmp_1 = Math_max__P14902_mk(s);\n    s.tmp_1.arg0 = 0;\n    r0 = (1 - s.percentComplete___20467);\n    s.tmp_1.arg1 = r0;\n    s.pc = 18; return s.tmp_1;\n  case 18:\n    r0 = s.retval;\n    s.damp___20472 = (r0);\n  case 8:\n  case 9:\n    r0 = s.arg0.fields[\"shakeAmplitude\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 * s.damp___20472);\n    s.f___20478 = (r0);\n    r0 = pxsim.Math_.random();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * s.f___20478);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 0);\n    s.x___20483 = (r0);\n    r0 = pxsim.Math_.random();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * s.f___20478);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 0);\n    s.y___20487 = (r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"drawOffsetX\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.x___20483);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"drawOffsetX\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"drawOffsetY\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.y___20487);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"drawOffsetY\"] = (s.tmp_1);\n  case 10:\n  case 11:\n  case 12:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Camera_update__P15729.info = {\"start\":1096,\"length\":1691,\"line\":34,\"column\":8,\"endLine\":77,\"endColumn\":9,\"fileName\":\"pxt_modules/game/camera.ts\",\"functionName\":\"update\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Camera_update__P15729_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Camera_update__P15729, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  scene___20396: undefined,\n  elapsed___20455: undefined,\n  percentComplete___20467: undefined,\n  dampStart___20471: undefined,\n  damp___20472: undefined,\n  f___20478: undefined,\n  x___20483: undefined,\n  y___20487: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_enabled__P15714(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_enabled__P15714.info = {\"start\":3529,\"length\":66,\"line\":129,\"column\":8,\"endLine\":131,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"enabled\",\"argumentNames\":[\"this\"]}\n\nfunction tiles_TileMap_enabled__P15714_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_enabled__P15714, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_offsetY__P15709(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    s.tmp_0 = Math_clamp__P14899_mk(s);\n    s.tmp_0.arg0 = 0;\n    s.tmp_1 = Math_max__P14902_mk(s);\n    s.tmp_3 = tiles_TileMap_areaHeight__P15711_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_3;\n  case 3:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 - s.tmp_4);\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_offsetY__P15709.info = {\"start\":2982,\"length\":123,\"line\":107,\"column\":8,\"endLine\":109,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"offsetY\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction tiles_TileMap_offsetY__P15709_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_offsetY__P15709, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_areaHeight__P15711(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 << s.tmp_3);\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = s.tmp_4;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_areaHeight__P15711.info = {\"start\":3216,\"length\":93,\"line\":115,\"column\":8,\"endLine\":117,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"areaHeight\",\"argumentNames\":[\"this\"]}\n\nfunction tiles_TileMap_areaHeight__P15711_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_areaHeight__P15711, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_offsetX__P15708(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    s.tmp_0 = Math_clamp__P14899_mk(s);\n    s.tmp_0.arg0 = 0;\n    s.tmp_1 = Math_max__P14902_mk(s);\n    s.tmp_3 = tiles_TileMap_areaWidth__P15710_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_3;\n  case 3:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 - s.tmp_4);\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_offsetX__P15708.info = {\"start\":2851,\"length\":121,\"line\":103,\"column\":8,\"endLine\":105,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"offsetX\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction tiles_TileMap_offsetX__P15708_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_offsetX__P15708, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_areaWidth__P15710(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 << s.tmp_3);\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = s.tmp_4;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_areaWidth__P15710.info = {\"start\":3115,\"length\":91,\"line\":111,\"column\":8,\"endLine\":113,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"areaWidth\",\"argumentNames\":[\"this\"]}\n\nfunction tiles_TileMap_areaWidth__P15710_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_areaWidth__P15710, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction PhysicsEngine_move__P15554(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, PhysicsEngine__C15549_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nPhysicsEngine_move__P15554.info = {\"start\":351,\"length\":20,\"line\":18,\"column\":4,\"endLine\":18,\"endColumn\":24,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"move\",\"argumentNames\":[\"this\",\"dt\"]}\n\nfunction PhysicsEngine_move__P15554_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: PhysicsEngine_move__P15554, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction PhysicsEngine_draw__P15553(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, PhysicsEngine__C15549_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nPhysicsEngine_draw__P15553.info = {\"start\":279,\"length\":10,\"line\":15,\"column\":4,\"endLine\":15,\"endColumn\":14,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"draw\",\"argumentNames\":[\"this\"]}\n\nfunction PhysicsEngine_draw__P15553_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: PhysicsEngine_draw__P15553, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller___update__P15423(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.dtms___20829 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 * 1000);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 | 0);\n    s.dtms___20829 = (r0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P20833);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.dtms___20829);\n    s.tmp_1 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_2 = controller_players__P15394_mk(s);\n    s.pc = 2; return s.tmp_2;\n  case 2:\n    r0 = s.retval;\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller___update__P15423.info = {\"start\":16179,\"length\":137,\"line\":504,\"column\":4,\"endLine\":507,\"endColumn\":5,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"__update\",\"argumentNames\":[\"dt\"]}\n\nfunction controller___update__P15423_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller___update__P15423, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  dtms___20829: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P20833(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = controller_Controller___update__P15420_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.caps[0];\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P20833.info = {\"start\":16281,\"length\":27,\"line\":506,\"column\":26,\"endLine\":506,\"endColumn\":53,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"ctrl\"]}\n\nfunction inline__P20833_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P20833, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller___update__P15420(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.arg1);\n    s.arg1 = (s.tmp_0);\n    s.tmp_1 = r0 = s.arg1;\n    r0 = pxsim_pxtrt_ldlocRef(s.arg1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 | 0);\n    s.tmp_2 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_1, s.tmp_2);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P20845);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);\n    s.tmp_1 = helpers_arrayForEach__P14888_mk(s);\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller___update__P15420.info = {\"start\":15657,\"length\":124,\"line\":486,\"column\":8,\"endLine\":489,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"__update\",\"argumentNames\":[\"this\",\"dtms\"]}\n\nfunction controller_Controller___update__P15420_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller___update__P15420, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P20845(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = controller_Button___update__P15388_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P20845.info = {\"start\":15744,\"length\":25,\"line\":488,\"column\":33,\"endLine\":488,\"endColumn\":58,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"btn\"]}\n\nfunction inline__P20845_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P20845, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Button___update__P15388(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.delay___20859 = undefined;\n    s.interval___20867 = undefined;\n    s.count___20878 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_pressed\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 11; continue; }\n  case 1:\n  case 2:\n    s.tmp_3 = r0 = s.arg0;\n    r0 = s.tmp_3.fields[\"_pressedElasped\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 + s.arg1);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"_pressedElasped\"] = (s.tmp_4);\n    r0 = s.arg0.fields[\"repeatDelay\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = globals.defaultRepeatDelay___15377;\n    { step = 4; continue; }\n  case 3:\n    r0 = s.arg0.fields[\"repeatDelay\"];\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.delay___20859 = (s.tmp_2);\n    r0 = s.arg0.fields[\"repeatInterval\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = globals.defaultRepeatInterval___15378;\n    { step = 6; continue; }\n  case 5:\n    r0 = s.arg0.fields[\"repeatInterval\"];\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.interval___20867 = (s.tmp_2);\n    r0 = s.arg0.fields[\"_pressedElasped\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < s.delay___20859);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    { step = 11; continue; }\n  case 7:\n  case 8:\n    r0 = s.arg0.fields[\"_pressedElasped\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 - s.delay___20859);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - s.interval___20867);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 / s.interval___20867);\n    s.tmp_2 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_2);\n    s.count___20878 = (r0);\n    r0 = s.arg0.fields[\"_repeatCount\"];\n    s.tmp_1 = r0;\n    r0 = (s.count___20878 != s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    s.tmp_2 = controller_Button_raiseButtonRepeat__P15383_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 12; return s.tmp_2;\n  case 12:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"_repeatCount\"] = (s.count___20878);\n  case 9:\n  case 10:\n  case 11:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button___update__P15388.info = {\"start\":4819,\"length\":704,\"line\":148,\"column\":8,\"endLine\":165,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"__update\",\"argumentNames\":[\"this\",\"dtms\"]}\n\nfunction controller_Button___update__P15388_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button___update__P15388, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  delay___20859: undefined,\n  interval___20867: undefined,\n  count___20878: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction controller_Button_raiseButtonRepeat__P15383(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(globals._userEventsEnabled___15376);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.raiseEvent(2054, s.tmp_0);\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.raiseEvent(2055, s.tmp_0);\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button_raiseButtonRepeat__P15383.info = {\"start\":2994,\"length\":211,\"line\":95,\"column\":8,\"endLine\":100,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"raiseButtonRepeat\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Button_raiseButtonRepeat__P15383_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button_raiseButtonRepeat__P15383, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_players__P15394(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = controller_player1__P15393_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_0.arg0 = globals._players___15391;\n    s.tmp_0.arg1 = inline__P20712;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_players__P15394.info = {\"start\":6479,\"length\":143,\"line\":193,\"column\":4,\"endLine\":196,\"endColumn\":5,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"players\",\"argumentNames\":[]}\n\nfunction controller_players__P15394_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_players__P15394, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction inline__P20712(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P20712.info = {\"start\":6600,\"length\":14,\"line\":195,\"column\":31,\"endLine\":195,\"endColumn\":45,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"ctrl\"]}\n\nfunction inline__P20712_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P20712, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_player1__P15393(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals._players___15391);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_Array__getAt(globals._players___15391, 0);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Controller__C15398_VT);\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__mk();\n    s.tmp_6 = r0;\n    r0 = pxsim_Array__push(s.tmp_6, globals.left___15368);\n    r0 = pxsim_Array__push(s.tmp_6, globals.up___15369);\n    r0 = pxsim_Array__push(s.tmp_6, globals.right___15370);\n    r0 = pxsim_Array__push(s.tmp_6, globals.down___15371);\n    r0 = pxsim_Array__push(s.tmp_6, globals.A___15366);\n    r0 = pxsim_Array__push(s.tmp_6, globals.B___15367);\n    r0 = pxsim_Array__push(s.tmp_6, globals.menu___15372);\n    s.tmp_7 = controller_Controller_constructor__P15422_mk(s);\n    s.tmp_7.arg0 = s.tmp_5;\n    s.tmp_7.arg1 = 1;\n    s.tmp_7.arg2 = s.tmp_6;\n    s.pc = 5; return s.tmp_7;\n  case 5:\n    r0 = s.retval;\n  case 3:\n  case 4:\n    r0 = pxsim_Array__getAt(globals._players___15391, 0);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_player1__P15393.info = {\"start\":6223,\"length\":250,\"line\":187,\"column\":4,\"endLine\":191,\"endColumn\":5,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"player1\",\"argumentNames\":[]}\n\nfunction controller_player1__P15393_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_player1__P15393, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_constructor__P15422(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.leftId___20781 = undefined;\n    s.i___20786 = undefined;\n    s.i___20800 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim.control.allocateNotifyEvent();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_id\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"_connected\"] = (false);\n    r0 = (s.arg0).fields[\"playerIndex\"] = (s.arg1);\n    r0 = pxsim_numops_toBoolDecr(s.arg2);\n    if (!r0) { step = 1; continue; }\n    r0 = (s.arg0).fields[\"buttons\"] = (s.arg2);\n    { step = 4; continue; }\n  case 1:\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"buttons\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"playerIndex\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * 7);\n    s.tmp_0 = r0;\n    r0 = (1 + s.tmp_0);\n    s.leftId___20781 = (r0);\n    s.i___20786 = (0);\n  case 2:\n    r0 = (s.i___20786 < 7);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C15379_VT);\n    s.tmp_1 = r0;\n    s.tmp_2 = controller_Button_constructor__P15389_mk(s);\n    s.tmp_2.arg0 = s.tmp_1;\n    r0 = (s.leftId___20781 + s.i___20786);\n    s.tmp_2.arg1 = r0;\n    s.tmp_2.arg2 = -1;\n    s.pc = 7; return s.tmp_2;\n  case 7:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__push(s.tmp_3, s.tmp_1);\n    r0 = (s.i___20786 + 1);\n    s.i___20786 = (r0);\n    { step = 2; continue; }\n  case 3:\n  case 4:\n    s.i___20800 = (0);\n  case 5:\n    s.tmp_1 = r0 = s.i___20800;\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__length(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_5, s.i___20800);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4).fields[\"_owner\"] = (s.arg0);\n    r0 = (s.i___20800 + 1);\n    s.i___20800 = (r0);\n    { step = 5; continue; }\n  case 6:\n    s.tmp_0 = controller_addController__P15392_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_constructor__P15422.info = {\"start\":7262,\"length\":663,\"line\":221,\"column\":8,\"endLine\":237,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"playerIndex\",\"buttons\"]}\n\nfunction controller_Controller_constructor__P15422_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_constructor__P15422, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  leftId___20781: undefined,\n  i___20786: undefined,\n  i___20800: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction controller_addController__P15392(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(globals._players___15391);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    globals._players___15391 = (r0);\n  case 1:\n  case 2:\n    s.tmp_0 = r0 = globals._players___15391;\n    r0 = s.arg0.fields[\"playerIndex\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array_.setAt(s.tmp_0, s.tmp_1, s.arg0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_addController__P15392.info = {\"start\":6060,\"length\":157,\"line\":180,\"column\":4,\"endLine\":185,\"endColumn\":5,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"addController\",\"argumentNames\":[\"ctrl\"]}\n\nfunction controller_addController__P15392_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_addController__P15392, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller__moveSprites__P15397(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_1 = controller_players__P15394_mk(s);\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = inline__P20558;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller__moveSprites__P15397.info = {\"start\":6838,\"length\":182,\"line\":207,\"column\":4,\"endLine\":211,\"endColumn\":5,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"_moveSprites\",\"argumentNames\":[]}\n\nfunction controller__moveSprites__P15397_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller__moveSprites__P15397, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\n\n\n\n\nfunction inline__P20558(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = controller_Controller___preUpdate__P15419_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P20558.info = {\"start\":6986,\"length\":26,\"line\":210,\"column\":26,\"endLine\":210,\"endColumn\":52,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"ctrl\"]}\n\nfunction inline__P20558_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P20558, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller___preUpdate__P15419(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.deadSprites___20564 = undefined;\n    s.svx___20565 = undefined;\n    s.svy___20566 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    s.tmp_3 = controller_Controller__controlledSprites__P15399_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 6; return s.tmp_3;\n  case 6:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_pxtrt.mklocRef();\n    s.deadSprites___20564 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.deadSprites___20564, false);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.svx___20565 = (r0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.svy___20566 = (r0);\n    r0 = pxsim_pxtcore_mkAction(4, inline__P20569);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.deadSprites___20564);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.svx___20565);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.svy___20566);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.arg0);\n    s.tmp_1 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_2 = controller_Controller__controlledSprites__P15399_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    r0 = pxsim_pxtrt_ldlocRef(s.deadSprites___20564);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_1 = controller_Controller__controlledSprites__P15400_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_2 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_3 = controller_Controller__controlledSprites__P15399_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 11; return s.tmp_3;\n  case 11:\n    r0 = s.retval;\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = inline__P20645;\n    s.pc = 10; return s.tmp_2;\n  case 10:\n    r0 = s.retval;\n    s.tmp_1.arg1 = r0;\n    s.pc = 9; return s.tmp_1;\n  case 9:\n    r0 = s.retval;\n  case 3:\n  case 4:\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller___preUpdate__P15419.info = {\"start\":14007,\"length\":1640,\"line\":433,\"column\":8,\"endLine\":484,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"__preUpdate\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Controller___preUpdate__P15419_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller___preUpdate__P15419, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  deadSprites___20564: undefined,\n  svx___20565: undefined,\n  svy___20566: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P20569(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"s\"];\n    r0 = r0.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_pxtrt_stlocRef(s.caps[0], true);\n    { step = 29; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 0);\n    r0 = pxsim_pxtrt_stlocRef(s.caps[2], 0);\n    r0 = s.arg0.fields[\"vx\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    s.tmp_3 = controller_Controller_right__P15404_mk(s);\n    s.tmp_3.arg0 = s.caps[3];\n    s.pc = 30; return s.tmp_3;\n  case 30:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = s.tmp_2.fields[\"_pressed\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    s.tmp_4 = r0 = s.caps[1];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_6 = r0;\n    r0 = s.arg0.fields[\"vx\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_6 + s.tmp_7);\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);\n  case 3:\n  case 4:\n    s.tmp_2 = controller_Controller_left__P15403_mk(s);\n    s.tmp_2.arg0 = s.caps[3];\n    s.pc = 31; return s.tmp_2;\n  case 31:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = s.tmp_1.fields[\"_pressed\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    s.tmp_3 = r0 = s.caps[1];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"vx\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 - s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_3, s.tmp_4);\n  case 5:\n  case 6:\n  case 7:\n  case 8:\n    r0 = s.arg0.fields[\"vy\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 13; continue; }\n    s.tmp_3 = controller_Controller_down__P15406_mk(s);\n    s.tmp_3.arg0 = s.caps[3];\n    s.pc = 32; return s.tmp_3;\n  case 32:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = s.tmp_2.fields[\"_pressed\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 9; continue; }\n    s.tmp_4 = r0 = s.caps[2];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);\n    s.tmp_6 = r0;\n    r0 = s.arg0.fields[\"vy\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_6 + s.tmp_7);\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);\n  case 9:\n  case 10:\n    s.tmp_2 = controller_Controller_up__P15405_mk(s);\n    s.tmp_2.arg0 = s.caps[3];\n    s.pc = 33; return s.tmp_2;\n  case 33:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = s.tmp_1.fields[\"_pressed\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    s.tmp_3 = r0 = s.caps[2];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"vy\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 - s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_3, s.tmp_4);\n  case 11:\n  case 12:\n  case 13:\n  case 14:\n    r0 = s.arg0.fields[\"_inputLastFrame\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 19; continue; }\n    r0 = s.arg0.fields[\"vx\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 15; continue; }\n    s.tmp_2 = Sprite_vx__P15455_mk(s);\n    r0 = s.arg0.fields[\"s\"];\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = 0;\n    s.pc = 34; return s.tmp_2;\n  case 34:\n    r0 = s.retval;\n  case 15:\n  case 16:\n    r0 = s.arg0.fields[\"vy\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 17; continue; }\n    s.tmp_1 = Sprite_vy__P15457_mk(s);\n    r0 = s.arg0.fields[\"s\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 0;\n    s.pc = 35; return s.tmp_1;\n  case 35:\n    r0 = s.retval;\n  case 17:\n  case 18:\n  case 19:\n  case 20:\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 21; continue; }\n    r0 = s.tmp_0;\n    { step = 22; continue; }\n  case 21:\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);\n  case 22:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 27; continue; }\n    r0 = s.arg0.fields[\"vx\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 23; continue; }\n    s.tmp_3 = Sprite_vx__P15455_mk(s);\n    r0 = s.arg0.fields[\"s\"];\n    s.tmp_3.arg0 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_3.arg1 = r0;\n    s.pc = 36; return s.tmp_3;\n  case 36:\n    r0 = s.retval;\n  case 23:\n  case 24:\n    r0 = s.arg0.fields[\"vy\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 25; continue; }\n    s.tmp_1 = Sprite_vy__P15457_mk(s);\n    r0 = s.arg0.fields[\"s\"];\n    s.tmp_1.arg0 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);\n    s.tmp_1.arg1 = r0;\n    s.pc = 37; return s.tmp_1;\n  case 37:\n    r0 = s.retval;\n  case 25:\n  case 26:\n    r0 = (s.arg0).fields[\"_inputLastFrame\"] = (true);\n    { step = 28; continue; }\n  case 27:\n    r0 = (s.arg0).fields[\"_inputLastFrame\"] = (false);\n  case 28:\n  case 29:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P20569.info = {\"start\":14213,\"length\":1253,\"line\":439,\"column\":44,\"endLine\":479,\"endColumn\":13,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"sprite\"]}\n\nfunction inline__P20569_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P20569, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P20645(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"s\"];\n    r0 = r0.fields[\"flags\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 & 2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P20645.info = {\"start\":15593,\"length\":42,\"line\":483,\"column\":28,\"endLine\":483,\"endColumn\":70,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"s\"]}\n\nfunction inline__P20645_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P20645, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_down__P15406(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_0 = r0;\n    r0 = (4 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_down__P15406.info = {\"start\":8908,\"length\":77,\"line\":283,\"column\":8,\"endLine\":285,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"down\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Controller_down__P15406_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_down__P15406, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_button__P15411(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg1 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_button__P15411.info = {\"start\":10870,\"length\":105,\"line\":344,\"column\":8,\"endLine\":346,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"button\",\"argumentNames\":[\"this\",\"button\"]}\n\nfunction controller_Controller_button__P15411_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_button__P15411, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_up__P15405(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_0 = r0;\n    r0 = (2 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_up__P15405.info = {\"start\":8756,\"length\":73,\"line\":275,\"column\":8,\"endLine\":277,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"up\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Controller_up__P15405_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_up__P15405, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_right__P15404(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_0 = r0;\n    r0 = (3 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_right__P15404.info = {\"start\":8598,\"length\":79,\"line\":267,\"column\":8,\"endLine\":269,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"right\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Controller_right__P15404_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_right__P15404, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_left__P15403(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"buttons\"];\n    s.tmp_0 = r0;\n    r0 = (1 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_left__P15403.info = {\"start\":8442,\"length\":77,\"line\":259,\"column\":8,\"endLine\":261,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"left\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Controller_left__P15403_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_left__P15403, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller__controlledSprites__P15400(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = r0.fields[\"controlledSprites\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"playerIndex\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_Array_.setAt(s.tmp_0, s.tmp_2, s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller__controlledSprites__P15400.info = {\"start\":8077,\"length\":134,\"line\":243,\"column\":8,\"endLine\":245,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"_controlledSprites\",\"argumentNames\":[\"this\",\"cps\"]}\n\nfunction controller_Controller__controlledSprites__P15400_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller__controlledSprites__P15400, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller__controlledSprites__P15399(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = r0.fields[\"controlledSprites\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"playerIndex\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_2);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller__controlledSprites__P15399.info = {\"start\":7935,\"length\":132,\"line\":239,\"column\":8,\"endLine\":241,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"_controlledSprites\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Controller__controlledSprites__P15399_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller__controlledSprites__P15399, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Button_isPressed__P15386(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_pressed\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button_isPressed__P15386.info = {\"start\":4235,\"length\":57,\"line\":128,\"column\":8,\"endLine\":130,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"isPressed\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Button_isPressed__P15386_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button_isPressed__P15386, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction power_checkDeepSleep__P15234(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.p___19922 = undefined;\n    s.to___19924 = undefined;\n    s.tmp_0 = power_init__P15236_mk(s);\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n    s.tmp_0 = r0 = globals._poked___15230;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.p___19922 = (s.tmp_1);\n    s.tmp_0 = r0 = globals._timeout___15231;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = 0;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.to___19924 = (s.tmp_1);\n    r0 = (s.to___19924 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    r0 = pxsim.control.millis();\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.p___19922);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > s.to___19924);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (r0) { step = 7; continue; }\n    r0 = s.tmp_3;\n    { step = 8; continue; }\n  case 7:\n    r0 = pxsim.control.isUSBInitialized();\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_4);\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 9; continue; }\n    r0 = pxsim_pxtcore.deepSleep();\n  case 9:\n  case 10:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\npower_checkDeepSleep__P15234.info = {\"start\":1087,\"length\":298,\"line\":36,\"column\":4,\"endLine\":46,\"endColumn\":5,\"fileName\":\"pxt_modules/power/power.ts\",\"functionName\":\"checkDeepSleep\",\"argumentNames\":[]}\n\nfunction power_checkDeepSleep__P15234_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: power_checkDeepSleep__P15234, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  p___19922: undefined,\n  to___19924: undefined,\n} }\n\n\n\n\n\nfunction power_init__P15236(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.minDeepSleepTimeout___19945 = undefined;\n    r0 = (globals._timeout___15231 !== undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_pxtcore.getConfig(212, -1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * 1000);\n    globals._timeout___15231 = (r0);\n    s.minDeepSleepTimeout___19945 = (300000);\n    r0 = (globals._timeout___15231 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = (globals._timeout___15231 < s.minDeepSleepTimeout___19945);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 5; continue; }\n    globals._timeout___15231 = (s.minDeepSleepTimeout___19945);\n  case 5:\n  case 6:\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\npower_init__P15236.info = {\"start\":1610,\"length\":376,\"line\":57,\"column\":4,\"endLine\":66,\"endColumn\":5,\"fileName\":\"pxt_modules/power/power.ts\",\"functionName\":\"init\",\"argumentNames\":[]}\n\nfunction power_init__P15236_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: power_init__P15236, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  minDeepSleepTimeout___19945: undefined,\n} }\n\n\n\n\n\nfunction power_poke__P15233(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = power_init__P15236_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = pxsim.control.millis();\n    globals._poked___15230 = (r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\npower_poke__P15233.info = {\"start\":795,\"length\":81,\"line\":26,\"column\":4,\"endLine\":29,\"endColumn\":5,\"fileName\":\"pxt_modules/power/power.ts\",\"functionName\":\"poke\",\"argumentNames\":[]}\n\nfunction power_poke__P15233_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: power_poke__P15233, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction control_EventContext_deltaTime__P15062(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventContext__C15061_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"deltaTimeMillis\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 1000);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventContext_deltaTime__P15062.info = {\"start\":2103,\"length\":75,\"line\":71,\"column\":8,\"endLine\":73,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"deltaTime\",\"argumentNames\":[\"this\"]}\n\nfunction control_EventContext_deltaTime__P15062_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventContext_deltaTime__P15062, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction music_Melody_constructor__P15202(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_Melody__C15190_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"_text\"] = (s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_Melody_constructor__P15202.info = {\"start\":6295,\"length\":67,\"line\":198,\"column\":8,\"endLine\":200,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"text\"]}\n\nfunction music_Melody_constructor__P15202_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_Melody_constructor__P15202, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction control_pushEventContext__P15077(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.ctx___20914 = undefined;\n    s.n___20919 = undefined;\n    r0 = pxsim_numops_toBoolDecr(globals.eventContexts___15075);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    globals.eventContexts___15075 = (r0);\n  case 1:\n  case 2:\n    s.tmp_0 = control_eventContext__P15076_mk(s);\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.ctx___20914 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.ctx___20914);\n    if (!r0) { step = 3; continue; }\n    s.tmp_0 = control_EventContext_unregister__P15066_mk(s);\n    s.tmp_0.arg0 = s.ctx___20914;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n  case 3:\n  case 4:\n    r0 = pxsim_pxtcore_mkClassInstance(control_EventContext__C15061_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = control_EventContext_constructor__P15074_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    s.n___20919 = (s.tmp_0);\n    r0 = pxsim_Array__push(globals.eventContexts___15075, s.n___20919);\n    r0 = s.n___20919;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_pushEventContext__P15077.info = {\"start\":6386,\"length\":340,\"line\":197,\"column\":4,\"endLine\":208,\"endColumn\":5,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"pushEventContext\",\"argumentNames\":[]}\n\nfunction control_pushEventContext__P15077_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_pushEventContext__P15077, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  ctx___20914: undefined,\n  n___20919: undefined,\n} }\n\n\n\n\n\nfunction control_eventContext__P15076(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.eventContexts___15075);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = r0 = globals.eventContexts___15075;\n    r0 = pxsim_Array__length(globals.eventContexts___15075);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);\n    { step = 2; continue; }\n  case 1:\n    r0 = undefined;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = s.tmp_3;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_eventContext__P15076.info = {\"start\":6170,\"length\":136,\"line\":190,\"column\":4,\"endLine\":192,\"endColumn\":5,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"eventContext\",\"argumentNames\":[]}\n\nfunction control_eventContext__P15076_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_eventContext__P15076, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction control_EventContext_constructor__P15074(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventContext__C15061_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"handlers\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"framesInSample\"] = (0);\n    r0 = (s.arg0).fields[\"timeInSample\"] = (0);\n    r0 = (s.arg0).fields[\"deltaTimeMillis\"] = (0);\n    r0 = (s.arg0).fields[\"frameWorker\"] = (0);\n    r0 = (s.arg0).fields[\"idleCallbacks\"] = (undefined);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventContext_constructor__P15074.info = {\"start\":1848,\"length\":245,\"line\":62,\"column\":8,\"endLine\":69,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction control_EventContext_constructor__P15074_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventContext_constructor__P15074, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction control_EventContext_unregister__P15066(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.h___20946 = undefined;\n    s.unnamed120___U1 = undefined;\n    s.unnamed121___U2 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventContext__C15061_VT)) failedCast(r0);\n    s.h___20946 = (undefined);\n    s.h___20946 = (undefined);\n    r0 = s.arg0.fields[\"handlers\"];\n    s.unnamed120___U1 = (r0);\n    s.unnamed121___U2 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed121___U2;\n    r0 = pxsim_Array__length(s.unnamed120___U1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 2; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed120___U1, s.unnamed121___U2);\n    s.h___20946 = (r0);\n    s.tmp_2 = control_EventHandler_unregister__P15058_mk(s);\n    s.tmp_2.arg0 = s.h___20946;\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    r0 = (s.unnamed121___U2 + 1);\n    s.unnamed121___U2 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.unnamed120___U1 = (undefined);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"frameWorker\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"frameWorker\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventContext_unregister__P15066.info = {\"start\":4081,\"length\":131,\"line\":126,\"column\":8,\"endLine\":130,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"unregister\",\"argumentNames\":[\"this\"]}\n\nfunction control_EventContext_unregister__P15066_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventContext_unregister__P15066, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  h___20946: undefined,\n  unnamed120___U1: undefined,\n  unnamed121___U2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction control_EventHandler_unregister__P15058(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventHandler__C15056_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"src\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"value\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_2 = r0;\n    r0 = pxsim.control.internalOnEvent(s.tmp_0, s.tmp_1, control_doNothing__P15060, s.tmp_2);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventHandler_unregister__P15058.info = {\"start\":1244,\"length\":106,\"line\":40,\"column\":8,\"endLine\":42,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"unregister\",\"argumentNames\":[\"this\"]}\n\nfunction control_EventHandler_unregister__P15058_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventHandler_unregister__P15058, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction control_doNothing__P15060(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_doNothing__P15060.info = {\"start\":1362,\"length\":24,\"line\":45,\"column\":4,\"endLine\":45,\"endColumn\":28,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"doNothing\",\"argumentNames\":[]}\n\nfunction control_doNothing__P15060_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_doNothing__P15060, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n} }\n\n\n\n\n\nfunction control_EventContext_registerFrameHandler__P15067(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.fn___19623 = undefined;\n    s.i___19634 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventContext__C15061_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"frameCallbacks\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"frameCallbacks\"] = (s.tmp_4);\n    s.tmp_0 = control_EventContext_registerFrameCallbacks__P15064_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = pxsim_pxtcore_mkClassInstance(control_FrameCallback__C15055_VT);\n    s.fn___19623 = (r0);\n    r0 = (s.fn___19623).fields[\"order\"] = (s.arg1);\n    r0 = (s.fn___19623).fields[\"handler\"] = (s.arg2);\n    s.i___19634 = (0);\n  case 3:\n    s.tmp_1 = r0 = s.i___19634;\n    r0 = s.arg0.fields[\"frameCallbacks\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__length(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    r0 = s.arg0.fields[\"frameCallbacks\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_6, s.i___19634);\n    r0 = r0.fields[\"order\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 > s.arg1);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 4; continue; }\n    r0 = s.arg0.fields[\"frameCallbacks\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_Array_.insertAt(s.tmp_7, s.i___19634, s.fn___19623);\n    { step = 7; continue; }\n  case 4:\n  case 5:\n    r0 = (s.i___19634 + 1);\n    s.i___19634 = (r0);\n    { step = 3; continue; }\n  case 6:\n    r0 = s.arg0.fields[\"frameCallbacks\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.fn___19623);\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventContext_registerFrameHandler__P15067.info = {\"start\":4222,\"length\":600,\"line\":132,\"column\":8,\"endLine\":148,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"registerFrameHandler\",\"argumentNames\":[\"this\",\"order\",\"handler\"]}\n\nfunction control_EventContext_registerFrameHandler__P15067_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventContext_registerFrameHandler__P15067, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  fn___19623: undefined,\n  i___19634: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction control_EventContext_registerFrameCallbacks__P15064(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.worker___19677 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventContext__C15061_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"frameCallbacks\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    r0 = (s.arg0).fields[\"framesInSample\"] = (0);\n    r0 = (s.arg0).fields[\"timeInSample\"] = (0);\n    r0 = (s.arg0).fields[\"deltaTimeMillis\"] = (0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim.control.millis();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"prevTimeMillis\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"frameWorker\"];\n    s.worker___19677 = (r0);\n    r0 = pxsim_pxtcore_mkAction(2, inline__P19683);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.worker___19677);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg0);\n    r0 = pxsim.control.runInParallel(s.tmp_0);\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventContext_registerFrameCallbacks__P15064.info = {\"start\":3412,\"length\":511,\"line\":104,\"column\":8,\"endLine\":118,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"registerFrameCallbacks\",\"argumentNames\":[\"this\"]}\n\nfunction control_EventContext_registerFrameCallbacks__P15064_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventContext_registerFrameCallbacks__P15064, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  worker___19677: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P19683(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.delay___19688 = undefined;\n  case 1:\n    r0 = s.caps[1].fields[\"frameWorker\"];\n    s.tmp_1 = r0;\n    r0 = (s.caps[0] == s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_2 = control_EventContext_runCallbacks__P15063_mk(s);\n    s.tmp_2.arg0 = s.caps[1];\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    s.delay___19688 = (r0);\n    s.tmp_0 = pause__P15082_mk(s);\n    s.tmp_0.arg0 = s.delay___19688;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    { step = 1; continue; }\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P19683.info = {\"start\":3735,\"length\":177,\"line\":112,\"column\":34,\"endLine\":117,\"endColumn\":13,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P19683_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P19683, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  delay___19688: undefined,\n} }\n\n\n\n\n\nfunction control_EventContext_runCallbacks__P15063(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.loopStart___19695 = undefined;\n    s.f___19707 = undefined;\n    s.unnamed116___U2 = undefined;\n    s.unnamed117___U3 = undefined;\n    s.runtime___19712 = undefined;\n    s.fps___19728 = undefined;\n    s.delay___19778 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventContext__C15061_VT)) failedCast(r0);\n    r0 = pxsim.control.millis();\n    s.loopStart___19695 = (r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"prevTimeMillis\"];\n    s.tmp_2 = r0;\n    r0 = (s.loopStart___19695 - s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"deltaTimeMillis\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"prevTimeMillis\"] = (s.loopStart___19695);\n    s.f___19707 = (undefined);\n    s.f___19707 = (undefined);\n    r0 = s.arg0.fields[\"frameCallbacks\"];\n    s.unnamed116___U2 = (r0);\n    s.unnamed117___U3 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed117___U3;\n    r0 = pxsim_Array__length(s.unnamed116___U2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 2; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed116___U2, s.unnamed117___U3);\n    s.f___19707 = (r0);\n    s.tmp_2 = lambda_1_mk(s);\n    r0 = s.f___19707.fields[\"handler\"];\n    s.tmp_2.argL = r0;\n    setupLambda(s.tmp_2, s.tmp_2.argL);\n    s.pc = 11; return s.tmp_2;\n  case 11:\n    r0 = s.retval;\n    r0 = (s.unnamed117___U3 + 1);\n    s.unnamed117___U3 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.unnamed116___U2 = (undefined);\n    r0 = pxsim.control.millis();\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - s.loopStart___19695);\n    s.runtime___19712 = (r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"timeInSample\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.runtime___19712);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"timeInSample\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"framesInSample\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"framesInSample\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"timeInSample\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 1000);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = s.arg0.fields[\"framesInSample\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 > 30);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 9; continue; }\n    r0 = s.arg0.fields[\"framesInSample\"];\n    s.tmp_4 = r0;\n    r0 = s.arg0.fields[\"timeInSample\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 / 1000);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 / s.tmp_5);\n    s.fps___19728 = (r0);\n    r0 = pxsim.Math_.round(s.fps___19728);\n    s.tmp_1 = r0;\n    if ((s.tmp_1) && (s.tmp_1).vtable) {\n    setupResume(s, 12);\n    pxsim_String__stringConv(s.tmp_1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_1) + \"\"; }\n  case 12:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_String__concat(\"fps:\", s.tmp_0);\n    globals.control_EventContext_lastStats___15072 = (r0);\n    r0 = (s.fps___19728 < 99);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    if ((globals.control_EventContext_lastStats___15072) && (globals.control_EventContext_lastStats___15072).vtable) {\n    setupResume(s, 13);\n    pxsim_String__stringConv(globals.control_EventContext_lastStats___15072);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (globals.control_EventContext_lastStats___15072) + \"\"; }\n  case 13:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.fps___19728 * 10);\n    s.tmp_7 = r0;\n    r0 = pxsim.Math_.round(s.tmp_7);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 % 10);\n    s.tmp_5 = r0;\n    if ((s.tmp_5) && (s.tmp_5).vtable) {\n    setupResume(s, 14);\n    pxsim_String__stringConv(s.tmp_5);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_5) + \"\"; }\n  case 14:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(\".\", s.tmp_4);\n    s.tmp_3 = r0;\n    if ((s.tmp_3) && (s.tmp_3).vtable) {\n    setupResume(s, 15);\n    pxsim_String__stringConv(s.tmp_3);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_3) + \"\"; }\n  case 15:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_2);\n    globals.control_EventContext_lastStats___15072 = (r0);\n  case 5:\n  case 6:\n    r0 = pxsim.control.profilingEnabled();\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_5 = r0;\n    r0 = (s.fps___19728 * 100);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 | 0);\n    s.tmp_7 = r0;\n    if ((s.tmp_7) && (s.tmp_7).vtable) {\n    setupResume(s, 16);\n    pxsim_String__stringConv(s.tmp_7);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_7) + \"\"; }\n  case 16:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_4, \"/100 fps - \");\n    s.tmp_3 = r0;\n    r0 = s.arg0.fields[\"framesInSample\"];\n    s.tmp_10 = r0;\n    if ((s.tmp_10) && (s.tmp_10).vtable) {\n    setupResume(s, 17);\n    pxsim_String__stringConv(s.tmp_10);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_10) + \"\"; }\n  case 17:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, s.tmp_9);\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, \" frames\");\n    s.tmp_1 = r0;\n    r0 = pxsim.control.dmesg(s.tmp_1);\n    r0 = pxsim.control.gc();\n    r0 = pxsim_pxtcore.dumpPerfCounters();\n  case 7:\n  case 8:\n    r0 = (s.arg0).fields[\"timeInSample\"] = (0);\n    r0 = (s.arg0).fields[\"framesInSample\"] = (0);\n  case 9:\n  case 10:\n    s.tmp_0 = Math_max__P14902_mk(s);\n    s.tmp_0.arg0 = 1;\n    r0 = (20 - s.runtime___19712);\n    s.tmp_0.arg1 = r0;\n    s.pc = 18; return s.tmp_0;\n  case 18:\n    r0 = s.retval;\n    s.delay___19778 = (r0);\n    r0 = s.delay___19778;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventContext_runCallbacks__P15063.info = {\"start\":2188,\"length\":1214,\"line\":75,\"column\":8,\"endLine\":102,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"runCallbacks\",\"argumentNames\":[\"this\"]}\n\nfunction control_EventContext_runCallbacks__P15063_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventContext_runCallbacks__P15063, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  loopStart___19695: undefined,\n  f___19707: undefined,\n  unnamed116___U2: undefined,\n  unnamed117___U3: undefined,\n  runtime___19712: undefined,\n  fps___19728: undefined,\n  delay___19778: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_bottom__P15477(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = Sprite_top__P15475_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = r0 = s.arg1;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 - s.tmp_2);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_bottom__P15477.info = {\"start\":9029,\"length\":73,\"line\":325,\"column\":4,\"endLine\":327,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"bottom\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction Sprite_bottom__P15477_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_bottom__P15477, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_bottom__P15476(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_1 = Sprite_top__P15474_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_0 + s.tmp_2);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_bottom__P15476.info = {\"start\":8877,\"length\":59,\"line\":320,\"column\":4,\"endLine\":322,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"bottom\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_bottom__P15476_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_bottom__P15476, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_onUpdate__P15868(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_init__P15859_mk(s);\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    s.tmp_2 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    s.tmp_3 = game_eventContext__P15858_mk(s);\n    s.pc = 6; return s.tmp_3;\n  case 6:\n    r0 = s.retval;\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = 20;\n    s.tmp_2.arg2 = s.arg0;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_onUpdate__P15868.info = {\"start\":7358,\"length\":169,\"line\":241,\"column\":4,\"endLine\":245,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"onUpdate\",\"argumentNames\":[\"a\"]}\n\nfunction game_onUpdate__P15868_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_onUpdate__P15868, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction setupFrames__P29657(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim.image.ofBuffer(_hex29662);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    r0 = pxsim.image.ofBuffer(_hex29664);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);\n    r0 = pxsim.image.ofBuffer(_hex29666);\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);\n    r0 = pxsim.image.ofBuffer(_hex29668);\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_4);\n    r0 = pxsim.image.ofBuffer(_hex29670);\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_5);\n    r0 = pxsim.image.ofBuffer(_hex29672);\n    s.tmp_6 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_6);\n    r0 = pxsim.image.ofBuffer(_hex29674);\n    s.tmp_7 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_7);\n    r0 = pxsim.image.ofBuffer(_hex29676);\n    s.tmp_8 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_8);\n    r0 = pxsim.image.ofBuffer(_hex29678);\n    s.tmp_9 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_9);\n    r0 = pxsim.image.ofBuffer(_hex29680);\n    s.tmp_10 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_10);\n    globals.birdFrames___29659 = (s.tmp_0);\n    s.tmp_0 = animation_runImageAnimation__P16394_mk(s);\n    s.tmp_0.arg0 = globals.bird___29683;\n    s.tmp_0.arg1 = globals.birdFrames___29659;\n    s.tmp_0.arg2 = 40;\n    s.tmp_0.arg3 = true;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim.image.ofBuffer(_hex29689);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    r0 = pxsim.image.ofBuffer(_hex29691);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);\n    globals.obstacles___29686 = (s.tmp_0);\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim.image.ofBuffer(_hex29696);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    r0 = pxsim.image.ofBuffer(_hex29698);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);\n    r0 = pxsim.image.ofBuffer(_hex29700);\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);\n    globals.trees___29693 = (s.tmp_0);\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim.image.ofBuffer(_hex29705);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    r0 = pxsim.image.ofBuffer(_hex29707);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);\n    r0 = pxsim.image.ofBuffer(_hex29709);\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);\n    r0 = pxsim.image.ofBuffer(_hex29711);\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_4);\n    r0 = pxsim.image.ofBuffer(_hex29713);\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_5);\n    r0 = pxsim.image.ofBuffer(_hex29715);\n    s.tmp_6 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_6);\n    globals.grassImages___29702 = (s.tmp_0);\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim.image.ofBuffer(_hex29720);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    r0 = pxsim.image.ofBuffer(_hex29722);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);\n    r0 = pxsim.image.ofBuffer(_hex29724);\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);\n    r0 = pxsim.image.ofBuffer(_hex29726);\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_4);\n    r0 = pxsim.image.ofBuffer(_hex29728);\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_5);\n    globals.clouds___29717 = (s.tmp_0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsetupFrames__P29657.info = {\"start\":232,\"length\":32035,\"line\":9,\"column\":0,\"endLine\":534,\"endColumn\":1,\"fileName\":\"main.ts\",\"functionName\":\"setupFrames\",\"argumentNames\":[]}\n\nfunction setupFrames__P29657_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: setupFrames__P29657, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n} }\n\nconst _hex29662 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000010000000000111101000000001011110100000000101111010000000010010001000000001000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex29664 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000011010000000000101101000000000010110100000000001011010000000000100101000000000010000000000000001000000000000000000000000000000000000000000000\")\nconst _hex29666 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000010110000000000001011000000000000101100000000000010110000000000000011000000000000001000000000000000100000000000000010000000000000000000000000\")\nconst _hex29668 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000110100000000000011110000000000001111000000000000111100000000000001110000000000000011000000000000001000000000000000100000000000000000000000\")\nconst _hex29670 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000110100000000000011110000000000001111010000000000111101000000000001100100000000000010010000000000000001000000000000000000000000000000000000\")\nconst _hex29672 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000110100000000000011110000000000001111010000000000111101000000000001100100000000000010010000000000000001000000000000000000000000000000000000\")\nconst _hex29674 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000110100000000000011110000000000001111000000000000111100000000000001110000000000000011000000000000001000000000000000100000000000000000000000\")\nconst _hex29676 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000010110000000000001011000000000000101100000000000010110000000000000011000000000000001000000000000000100000000000000010000000000000000000000000\")\nconst _hex29678 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000011010000000000101101000000000010110100000000001011010000000000100101000000000010000000000000001000000000000000000000000000000000000000000000\")\nconst _hex29680 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c000000000000000000000000000000000000000000000100000000000000010000000000111101000000001011110100000000101111010000000010010001000000001000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex29689 = pxsim.BufferMethods.createBufferFromHex(\"8704160020000000000000000000000000006006000000000000000000000000000060060000000000000000000000600000600600000000000000000000006006006667000060060000000000000060060076670000600000000000000000600600766706006006000000000600666606607767060000000000006006606676066077670600060000006666666666776776776706000000006066766766777767767777eeeeee0e707777776766777767767777eeeeee0e007777776766777767777777eeeeee0e000077776770777777777777eeeeee0e000000770770777776777777070000000000000000007777067077770700600000000000000070770600777707000600000000000000007706007777070000000000000000000070060070770700000000000000000000700000007706000000000000000000000000000077060000000000000000000000000000670600000000000000000000000000000600000000\")\nconst _hex29691 = pxsim.BufferMethods.createBufferFromHex(\"87040f0020000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000e00e00000000000000000000eee0eeeeee0e000000000000000000e0eebeeebbbe0e000000000000000000eebbeeebeeee0e000000000000000000beeeebebeebbee000000000000000000beeeebebebeeee000000000000000000bebeeeebeebe0e000000000000000000eebbbeeebbee0e000000000000000000e0eebeeeeeee0e00000000000000000000eee00ee0e00e000000000000000000000000000e000e000000000000000000000000e00000000000000000000000000000000e0e0000\")\nconst _hex29696 = pxsim.BufferMethods.createBufferFromHex(\"8704240030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000b00b0000000000000000000000000000000000000000000bbb0b00000000000000000000000000000000000b0000b00bbb0b0000000000000000000000000000b00000bb0000bb00bb0b0000000000000000000000000000b000b0bb00b0bb00bb0b0000000000000000000000000000bb00b0bb00b0bbb0bb0b0000000000000000000000000000bb00b0bb00bb0bb0bb0b00000000000000000000b00000b0bb00bbbb00bbbbbbbb0000000000000000000000bb0000bb0bb0bb00b0bbbbbbbb0000000000000000000bb00b00b0bb00bbbb00bbbbbbbbbb0000000000000000b00bbb0b0bbbbbbbbbbbbbbbbbbbbbbb0b000000000000b0bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0000000000b0b00bbbbb0bbbb0bbbbb0bbbbbbbbbbbbbbbb000000000000000bb0bb00b0bbbbbbbb00bbbbbbbbbb0b00000000000000000000bb0000bb0bb0bb0bbbb00bbbbb0b00000000000000000000b00b00b0bb00b00bb0b00bb0bb0b00000000000000000000000b0000b000000b00b00bb0bb0b00000000000000000000000b0000b00b000000b00b00bb0b0000000000000000000000000000b00b000000b00b00bb000000000000000000000000000000000b000000b00000bb0000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex29698 = pxsim.BufferMethods.createBufferFromHex(\"870424003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0000b000b00000000000000000000000000000000000000bb000bb00b000000000000000000000000000000000000000b000bb00000000000000000000000000000000b00b000000b000bb00b00000000000000000000000b00b0bb00b000bb0bb000b00000000000000000000000b00b00bb0b00bbb0bbbbb00bbb0000000000000000000000b00bb0bb0bb0bbb0bbbbbb00bb00000000000000000b0b00b00bb00b00bb0bbbbbbbbb000b00000000000000000bbb00b00bb00bbbbbbbbbbbbb0bb00bbb00000000000bb00bbb00bb00bbbbbbbbbbbbbbbbbbbbbbbb00000000b0bbb0b0bbbbbbbbbbbbbbbbbbbbbbbbbbbbb0bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00b00bbbb0bbb00bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00000bbb00bb0bbb00bbbbbb0bbbb0bbbbbb0b0b0000000000000bbb00b00bbb0000bbbbbbbbbb0b0bbb0b0b00000000000000b000b00bb00000b0bbbb0bbb0b00bbbbbb000000000000000000000bb00000b0b0bb0bb0bb00bbb0bb0000000000000000000000000000000bbb0b00bb0b00b0bb00000000000000000000000000000000000b00b00b00b0bb0b000000000000000000000000000000000b00000b0000b00b000000000000000000000000000000000000000b0000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex29700 = pxsim.BufferMethods.createBufferFromHex(\"87042400300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00b00000000000000000000000000000000000000000000b00b00000000000000000000000000000000000000000000b00b00b0000000000000000000000000000000000000000bb00bb0b00000000000000000000000000000000b00000b0bb00bb0b00000000000000000000000000000000b00000b0bb00bb0b00000000000000000000000000000000bb0000b0bbb0bb0b000000000000000000000000000b0000bb0000bbbbb0bb00000000000000000000000000000b00b00b00bbbbbbbbbb00000000000000000000000000b00bbbbb0bbbbbbbbbbbbb000000000000000000000000b0bbbbbbbbbbbbbbbbbbbbbbbbbbbb00000000000000b0bbbbbbbbbbbbbbbbbbbbbbbbbbbb00bb00000000000000000000bb00bbbbbbbbbbbbbbbbbbbbbbbb00000000000000000000000000bbbb00bbbbbbbbbb0b000000000000000000000000000000b0bb0000bbbbbbbb0000000000000000000000000000000000bb0000b0bbb0bb0000000000000000000000000000000000b00000b0bbbbbb000000000000000000000000000000000000000000bbb0bb000000000000000000000000000000000000000000bbb0bb0000000000000000000000000000000000000000000bb00b00000000000000000000000000000000000000000000b00b00000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\")\nconst _hex29705 = pxsim.BufferMethods.createBufferFromHex(\"8704080008000000000000000000000000000000000000bb0000bbbb000000000000000000000000\")\nconst _hex29707 = pxsim.BufferMethods.createBufferFromHex(\"87040800080000000000000000000000000000000000bbbb000000bb00000000000000bb00000000\")\nconst _hex29709 = pxsim.BufferMethods.createBufferFromHex(\"870408000800000000bbbbbb000000b00000b0bb00b0bbbb0000bbbb00000000000000bb00000000\")\nconst _hex29711 = pxsim.BufferMethods.createBufferFromHex(\"87040800080000000000000000000000000000000000bbbb000000bb00000000000000bb00b0bbbb\")\nconst _hex29713 = pxsim.BufferMethods.createBufferFromHex(\"870408000800000000000000000000000000bbbb00bbbbbb0000b0bb000000000000000000000000\")\nconst _hex29715 = pxsim.BufferMethods.createBufferFromHex(\"87040800080000000000000000b0bbbb0000b0bb0000000000000000000000000000b0bb00000000\")\nconst _hex29720 = pxsim.BufferMethods.createBufferFromHex(\"8704330017000000000000000000000000001100000000000000000000101100000000000000000000111100000000000000000010111100000000000000000011111100000000000000000011111101000000000000001011111101000000000010111111111101000000000011111111111101000000001011111111111101000000001111111111111101000000001111111111111101000000001111111111111101000000001111111111111101000000001111111111111101000000101111111111111101000000101111111111111101000000101111111111111101000000111111111111111101000000111111111111111101000000111111111111111101000010111111111111111101000011111111111111111101001011111111111111111101001111111111111111111101101111111111111111111101101111111111111111111101101111111111111111111101111111111111111111111101111111111111111111111101101111111111111111111101101111111111111111111101001111111111111111111101001111111111111111111101001111111111111111111101001111111111111111111101001011111111111111111101000011111111111111111101000000111111111111111101000000101111111111111101000000001111111111111101000000001011111111111101000000000011111111111101000000000011111111111101000000000010111111111101000000000010111111111100000000000000111111111100000000000000101111111100000000000000001111111100000000000000000010111100000000000000000000100100\")\nconst _hex29722 = pxsim.BufferMethods.createBufferFromHex(\"87042e0018000000000000000000000000000011000000000000000000001011000000000000000000001111000000000000000011111111000000000000001011111111000000000000001111111111000000000000101111111111000000000000101111111111000000000000101111111111000000000000101111111111000000000000101111111111000000000000111111111111000000001011111111111111000000111111111111111111000010111111111111111111000011111111111111111111000011111111111111111111000011111111111111111101001011111111111111111101001011111111111111111101001011111111111111111101001011111111111111111101001111111111111111111101001111111111111111111101101111111111111111111101111111111111111111111101111111111111111111111101111111111111111111111101111111111111111111111101111111111111111111111101101111111111111111111101001111111111111111111101001011111111111111111101000010111111111111111101000010111111111111111101000010111111111111111111000010111111111111111111000010111111111111111111000010111111111111111111000000111111111111111111000000001111111111111111000000000011111111111111000000000000111111111111000000000000101111111111000000000000001111111101000000000000000011111100\")\nconst _hex29724 = pxsim.BufferMethods.createBufferFromHex(\"8704210010000000000000001100000000000011111100000000111111110100001011111111010000111111111101000011111111111100001111111111110110111111111111011111111111111101111111111111110111111111111111011111111111111101111111111111110111111111111111011111111111111101111111111111110110111111111111010011111111111101001011111111110100001111111111010000111111111101000011111111110100001111111111010000111111111101000011111111110100001011111111010000001111111101000000101111110100000000101111010000000010111101000000000011110000000000001011000000000000001100\")\nconst _hex29726 = pxsim.BufferMethods.createBufferFromHex(\"870447001e0000000000000000000000000000001101000000000000000000000000001011110000000000000000000011111111111101000000000000000011111111111111010000000000000010111111111111110100000000000000101111111111111101000000000000001111111111111111010000000000001011111111111111110100000000000010111111111111111101000000000010111111111111111111010000000010111111111111111111110100000000111111111111111111111101000000101111111111111111111111010000001011111111111111111111110100000011111111111111111111111101000000111111111111111111111111110000101111111111111111111111111100001111111111111111111111111111001011111111111111111111111111110011111111111111111111111111111100111111111111111111111111111111001111111111111111111111111111110011111111111111111111111111111100101111111111111111111111111111000011111111111111111111111111110000111111111111111111111111111100001111111111111111111111111111000011111111111111111111111111110000111111111111111111111111111100001111111111111111111111111111000011111111111111111111111111110000101111111111111111111111111100000011111111111111111111111111000000101111111111111111111111110000000000111111111111111111111100000000000011111111111111111111000000000000111111111111111111110000000000001111111111111111111100000000001011111111111111111111000000000010111111111111111111110000000000101111111111111111111100000000001111111111111111111111000000000011111111111111111111110000000000111111111111111111111100000000001111111111111111111111000000000011111111111111111111110000000000101111111111111111110100000000000011111111111111111101000000000000101111111111111111010000000000000011111111111111110100000000000000111111111111111101000000000000001111111111111111010000000000000010111111111111110100000000000000101111111111111101000000000000000011111111111111010000000000000000101111111111110100000000000000000011111111111111000000000000000000001111111111110000000000000000000010111111111100000000000000000000001111111111000000000000000000000011111111110000000000000000000000101111111100000000000000000000001011111111000000000000000000000000111111110000000000000000000000001111110100000000000000000000000011111101000000000000000000000000111111010000000000000000000000001111110100000000000000000000000010111101000000000000000000000000001111010000000000000000000000000000110000\")\nconst _hex29728 = pxsim.BufferMethods.createBufferFromHex(\"8704270012000000000000000000000011000000000000000000001011000000000000000000001111000000000000000000001111000000000000000010111111000000000000001011111111000000000000001111111111000000000000101111111111000000000000111111111111000000000010111111111111000000000010111111111111000000000010111111111111000000000011111111111111000000001011111111111111000000001011111111111111000000001111111111111111000000001111111111111111000000101111111111111111000000101111111111111101000000101111111111111101000000101111111111111101000000001111111111111101000000001111111111111101000000101111111111111101000000111111111111111101000000111111111111111101000000111111111111111101000000111111111111111101000000101111111111111101000000001111111111111101000000001011111111111101000000000011111111111101000000000010111111111101000000000000101111111101000000000000101111111101000000000000001111111101000000000000001011111101000000000000000011111100000000000000000000110100000000\")\n\n\n\n\nfunction animation_runImageAnimation__P16394(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.anim___23169 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_pxtcore_mkClassInstance(animation_ImageAnimation__C16386_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = r0 = s.arg2;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_1;\n    { step = 2; continue; }\n  case 1:\n    r0 = 500;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.tmp_3 = animation_ImageAnimation_constructor__P16389_mk(s);\n    s.tmp_3.arg0 = s.tmp_0;\n    s.tmp_3.arg1 = s.arg0;\n    s.tmp_3.arg2 = s.arg1;\n    s.tmp_3.arg3 = s.tmp_2;\n    r0 = pxsim_numops_toBoolDecr(s.arg3);\n    s.tmp_6 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_4);\n    s.tmp_3.arg4 = r0;\n    s.pc = 3; return s.tmp_3;\n  case 3:\n    r0 = s.retval;\n    s.anim___23169 = (s.tmp_0);\n    s.tmp_0 = animation_SpriteAnimation_init__P16383_mk(s);\n    s.tmp_0.arg0 = s.anim___23169;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_runImageAnimation__P16394.info = {\"start\":19924,\"length\":222,\"line\":510,\"column\":4,\"endLine\":513,\"endColumn\":5,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"runImageAnimation\",\"argumentNames\":[\"sprite\",\"frames\",\"frameInterval\",\"loop\"]}\n\nfunction animation_runImageAnimation__P16394_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_runImageAnimation__P16394, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  anim___23169: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction animation_ImageAnimation_constructor__P16389(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_ImageAnimation__C16386_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"frames\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"frameInterval\"] = (s.arg3);\n    s.tmp_0 = animation_SpriteAnimation_constructor__P16385_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg4;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"lastFrame\"] = (-1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_ImageAnimation_constructor__P16389.info = {\"start\":17589,\"length\":178,\"line\":450,\"column\":8,\"endLine\":454,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"sprite\",\"frames\",\"frameInterval\",\"loop\"]}\n\nfunction animation_ImageAnimation_constructor__P16389_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_ImageAnimation_constructor__P16389, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction animation_SpriteAnimation_constructor__P16385(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_SpriteAnimation__C16382_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"sprite\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"loop\"] = (s.arg2);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_SpriteAnimation_constructor__P16385.info = {\"start\":16085,\"length\":71,\"line\":412,\"column\":8,\"endLine\":413,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"sprite\",\"loop\"]}\n\nfunction animation_SpriteAnimation_constructor__P16385_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_SpriteAnimation_constructor__P16385, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction animation_SpriteAnimation_init__P16383(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.state___23180 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_SpriteAnimation__C16382_VT)) failedCast(r0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.state___23180 = (r0);\n    s.tmp_0 = r0 = s.state___23180;\n    s.tmp_4 = game_currentScene__P15610_mk(s);\n    s.pc = 3; return s.tmp_4;\n  case 3:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = s.tmp_3.fields[\"_data\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_2, \"__animation\");\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    r0 = pxsim_pxtrt_ldlocRef(s.state___23180);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__mk();\n    s.tmp_4 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_3, \"animations\", s.tmp_4);\n    s.tmp_7 = game_currentScene__P15610_mk(s);\n    s.pc = 4; return s.tmp_7;\n  case 4:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = s.tmp_6.fields[\"_data\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_5, \"__animation\", s.tmp_3);\n    r0 = pxsim_pxtrt_stlocRef(s.state___23180, s.tmp_3);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23194);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.state___23180);\n    s.tmp_1 = control_EventContext_registerFrameHandler__P15067_mk(s);\n    s.tmp_2 = game_eventContext__P15858_mk(s);\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 15;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23211);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = if_animations_2_mk(s);\n    r0 = pxsim_pxtrt_ldlocRef(s.state___23180);\n    s.tmp_1.arg0 = r0;\n    s.tmp_2 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_3 = if_animations_1_mk(s);\n    r0 = pxsim_pxtrt_ldlocRef(s.state___23180);\n    s.tmp_3.arg0 = r0;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"animations\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"animations\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"animations\"]; }\n    else { s.pc = 9; return s.tmp_3; }\n    }\n  case 9:\n    r0 = s.retval;\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = s.tmp_0;\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    s.tmp_1.arg1 = r0;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_1.arg0, \"animations\", s.tmp_1.arg1);\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"set/animations\"];\n    if (s.tmp_1.fn === null) { s.tmp_1.arg0.fields[\"animations\"] = s.tmp_1.arg1; }\n    else if (s.tmp_1.fn === undefined) { failedCast(s.tmp_1.arg0) }\n    else { s.pc = 7; return s.tmp_1; }\n    }\n  case 7:\n    r0 = s.retval;\n    s.tmp_1 = if_animations_1_mk(s);\n    r0 = pxsim_pxtrt_ldlocRef(s.state___23180);\n    s.tmp_1.arg0 = r0;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"animations\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"animations\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"animations\"]; }\n    else { s.pc = 10; return s.tmp_1; }\n    }\n  case 10:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.arg0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_SpriteAnimation_init__P16383.info = {\"start\":16166,\"length\":1185,\"line\":415,\"column\":8,\"endLine\":439,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"init\",\"argumentNames\":[\"this\"]}\n\nfunction animation_SpriteAnimation_init__P16383_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_SpriteAnimation_init__P16383, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  state___23180: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23194(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = if_animations_2_mk(s);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_0.arg0 = r0;\n    s.tmp_1 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_2 = if_animations_1_mk(s);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_2.arg0 = r0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"animations\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"animations\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"animations\"]; }\n    else { s.pc = 3; return s.tmp_2; }\n    }\n  case 3:\n    r0 = s.retval;\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = inline__P23201;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    if (!s.tmp_0.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, \"animations\", s.tmp_0.arg1);\n    } else {\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"set/animations\"];\n    if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields[\"animations\"] = s.tmp_0.arg1; }\n    else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) }\n    else { s.pc = 1; return s.tmp_0; }\n    }\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23194.info = {\"start\":16598,\"length\":257,\"line\":424,\"column\":90,\"endLine\":428,\"endColumn\":17,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23194_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23194, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction inline__P23201(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_2 = animation_SpriteAnimation__C16382_v0_1_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    if (!checkSubtype(s.tmp_2.arg0, animation_SpriteAnimation__C16382_VT)) failedCast(s.tmp_2.arg0);\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.update;\n    s.pc = 1; return s.tmp_2;\n  case 1:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23201.info = {\"start\":16669,\"length\":166,\"line\":425,\"column\":63,\"endLine\":427,\"endColumn\":21,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"anim\"]}\n\nfunction inline__P23201_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23201, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23211(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"sprite\"];\n    s.tmp_1 = r0;\n    r0 = s.caps[0].fields[\"sprite\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 === s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 8; continue; }\n  case 1:\n    r0 = s.arg0;\n    r0 = checkSubtype(r0, animation_ImageAnimation__C16386_VT);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (r0) { step = 2; continue; }\n    r0 = s.tmp_3;\n    { step = 3; continue; }\n  case 2:\n    r0 = s.caps[0];\n    r0 = checkSubtype(r0, animation_ImageAnimation__C16386_VT);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_4);\n    if (!r0) { step = 4; continue; }\n    r0 = s.tmp_4;\n    { step = 7; continue; }\n  case 4:\n    r0 = s.arg0;\n    r0 = checkSubtype(r0, animation_MovementAnimation__C16390_VT);\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_5);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_5;\n    { step = 6; continue; }\n  case 5:\n    r0 = s.caps[0];\n    r0 = checkSubtype(r0, animation_MovementAnimation__C16390_VT);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = s.tmp_6;\n  case 7:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = s.tmp_7;\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_8 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_8);\n    s.tmp_9 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_9);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23211.info = {\"start\":17012,\"length\":285,\"line\":432,\"column\":55,\"endLine\":436,\"endColumn\":13,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"anim\"]}\n\nfunction inline__P23211_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23211, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction animation_SpriteAnimation_update__P16384(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_SpriteAnimation__C16382_VT)) failedCast(r0);\n    r0 = false;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_SpriteAnimation_update__P16384.info = {\"start\":17361,\"length\":118,\"line\":441,\"column\":8,\"endLine\":444,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"update\",\"argumentNames\":[\"this\"]}\n\nfunction animation_SpriteAnimation_update__P16384_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_SpriteAnimation_update__P16384, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_Scene_data__P15766(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Scene__C15764_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_data\"];\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Scene_data__P15766.info = {\"start\":5591,\"length\":53,\"line\":157,\"column\":8,\"endLine\":159,\"endColumn\":9,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"data\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Scene_data__P15766_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Scene_data__P15766, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_setVelocity__P15481(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = Sprite_vx__P15455_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_vy__P15457_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg2;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_setVelocity__P15481.info = {\"start\":11311,\"length\":93,\"line\":401,\"column\":4,\"endLine\":404,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"setVelocity\",\"argumentNames\":[\"this\",\"vx\",\"vy\"]}\n\nfunction Sprite_setVelocity__P15481_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_setVelocity__P15481, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Sprite_setPosition__P15480(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.physics___21105 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = r0.fields[\"physicsEngine\"];\n    s.physics___21105 = (r0);\n    s.tmp_0 = PhysicsEngine__C15549_v2_4_mk(s);\n    s.tmp_0.arg0 = s.physics___21105;\n    s.tmp_0.arg1 = s.arg0;\n    s.tmp_2 = r0 = s.arg1;\n    s.tmp_4 = Sprite_x__P15450_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_4;\n  case 3:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 - s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * 256);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 | 0);\n    s.tmp_0.arg2 = r0;\n    s.tmp_7 = r0 = s.arg2;\n    s.tmp_9 = Sprite_y__P15452_mk(s);\n    s.tmp_9.arg0 = s.arg0;\n    s.pc = 4; return s.tmp_9;\n  case 4:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7 - s.tmp_8);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 * 256);\n    s.tmp_10 = r0;\n    r0 = (s.tmp_10 | 0);\n    s.tmp_0.arg3 = r0;\n    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C15549_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.moveSprite;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_setPosition__P15480.info = {\"start\":10748,\"length\":220,\"line\":381,\"column\":4,\"endLine\":388,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"setPosition\",\"argumentNames\":[\"this\",\"x\",\"y\"]}\n\nfunction Sprite_setPosition__P15480_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_setPosition__P15480, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  physics___21105: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Sprite_x__P15451(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = Sprite_left__P15471_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = r0 = s.arg1;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 - s.tmp_2);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_x__P15451.info = {\"start\":1328,\"length\":73,\"line\":58,\"column\":4,\"endLine\":60,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"x\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction Sprite_x__P15451_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_x__P15451, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_left__P15471(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.physics___21130 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = r0.fields[\"physicsEngine\"];\n    s.physics___21130 = (r0);\n    s.tmp_0 = PhysicsEngine__C15549_v2_4_mk(s);\n    s.tmp_0.arg0 = s.physics___21130;\n    s.tmp_0.arg1 = s.arg0;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"_x\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 - s.tmp_3);\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = globals.zeroFx8___14920;\n    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C15549_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.moveSprite;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_left__P15471.info = {\"start\":7749,\"length\":257,\"line\":276,\"column\":4,\"endLine\":286,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"left\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction Sprite_left__P15471_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_left__P15471, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  physics___21130: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_left__P15470(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_x\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 128);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 >> 8);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_left__P15470.info = {\"start\":7607,\"length\":51,\"line\":271,\"column\":4,\"endLine\":273,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"left\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_left__P15470_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_left__P15470, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_x__P15450(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_x\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 128);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 8);\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_0 + s.tmp_3);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_x__P15450.info = {\"start\":1157,\"length\":83,\"line\":53,\"column\":4,\"endLine\":55,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"x\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_x__P15450_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_x__P15450, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_create__P15443(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___21162 = undefined;\n    s.sprite___21164 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.scene___21162 = (r0);\n    r0 = pxsim_pxtcore_mkClassInstance(Sprite__C15448_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = Sprite_constructor__P15498_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.sprite___21164 = (s.tmp_0);\n    s.tmp_0 = Sprite_setKind__P15479_mk(s);\n    s.tmp_0.arg0 = s.sprite___21164;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = PhysicsEngine__C15549_v0_2_mk(s);\n    r0 = s.scene___21162.fields[\"physicsEngine\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.sprite___21164;\n    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C15549_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.addSprite;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P21179);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P21185);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.sprite___21164);\n    s.tmp_2 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_3 = helpers_arrayFilter__P14889_mk(s);\n    r0 = s.scene___21162.fields[\"createdHandlers\"];\n    s.tmp_3.arg0 = r0;\n    s.tmp_3.arg1 = s.tmp_0;\n    s.pc = 6; return s.tmp_3;\n  case 6:\n    r0 = s.retval;\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = s.tmp_1;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n    r0 = s.sprite___21164;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_create__P15443.info = {\"start\":890,\"length\":400,\"line\":35,\"column\":4,\"endLine\":47,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprites.ts\",\"functionName\":\"create\",\"argumentNames\":[\"img\",\"kind\"]}\n\nfunction sprites_create__P15443_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_create__P15443, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  scene___21162: undefined,\n  sprite___21164: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P21179(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"kind\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 == s.caps[0]);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P21179.info = {\"start\":1195,\"length\":19,\"line\":43,\"column\":20,\"endLine\":43,\"endColumn\":39,\"fileName\":\"pxt_modules/game/sprites.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P21179_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P21179, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P21185(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = lambda_2_mk(s);\n    r0 = s.arg0.fields[\"handler\"];\n    s.tmp_0.argL = r0;\n    s.tmp_0.arg0 = s.caps[0];\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P21185.info = {\"start\":1237,\"length\":22,\"line\":44,\"column\":21,\"endLine\":44,\"endColumn\":43,\"fileName\":\"pxt_modules/game/sprites.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P21185_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P21185, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction PhysicsEngine_addSprite__P15550(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, PhysicsEngine__C15549_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nPhysicsEngine_addSprite__P15550.info = {\"start\":124,\"length\":29,\"line\":8,\"column\":4,\"endLine\":8,\"endColumn\":33,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"addSprite\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction PhysicsEngine_addSprite__P15550_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: PhysicsEngine_addSprite__P15550, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_constructor__P15498(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = sprites_BaseSprite_constructor__P15357_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.arg1);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 - s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 * 256);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_x\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.height(s.arg1);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 - s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 * 256);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_y\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"_x\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg0).fields[\"_lastX\"] = (s.tmp_0);\n    r0 = s.arg0.fields[\"_y\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg0).fields[\"_lastY\"] = (s.tmp_0);\n    s.tmp_0 = Sprite_vx__P15455_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 0;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_vy__P15457_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_ax__P15459_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 0;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_ay__P15461_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 0;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"flags\"] = (0);\n    s.tmp_0 = Sprite_setImage__P15466_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_setKind__P15479_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = -1;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"layer\"] = (1);\n    r0 = (s.arg0).fields[\"lifespan\"] = (undefined);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_overlappers\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_obstacles\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_constructor__P15498.info = {\"start\":4147,\"length\":578,\"line\":164,\"column\":4,\"endLine\":182,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"img\"]}\n\nfunction Sprite_constructor__P15498_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_constructor__P15498, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_setImage__P15466(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.oMinX___21250 = undefined;\n    s.oMinY___21251 = undefined;\n    s.oMaxX___21252 = undefined;\n    s.oMaxY___21253 = undefined;\n    s.nMinX___21289 = undefined;\n    s.nMinY___21293 = undefined;\n    s.nMaxX___21297 = undefined;\n    s.nMaxY___21304 = undefined;\n    s.minXDiff___21311 = undefined;\n    s.minYDiff___21314 = undefined;\n    s.maxXDiff___21317 = undefined;\n    s.maxYDiff___21320 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 13; continue; }\n  case 1:\n  case 2:\n    s.oMinX___21250 = (0);\n    s.oMinY___21251 = (0);\n    s.oMaxX___21252 = (0);\n    s.oMaxY___21253 = (0);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"ox\"];\n    s.oMinX___21250 = (r0);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"oy\"];\n    s.oMinY___21251 = (r0);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"ox\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"width\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.oMaxX___21252 = (r0);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"oy\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"height\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.oMaxY___21253 = (r0);\n  case 3:\n  case 4:\n    r0 = (s.arg0).fields[\"_image\"] = (s.arg1);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = game_calculateHitBox__P15440_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 14; return s.tmp_2;\n  case 14:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_hitbox\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"ox\"];\n    s.nMinX___21289 = (r0);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"oy\"];\n    s.nMinY___21293 = (r0);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"ox\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"width\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.nMaxX___21297 = (r0);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"oy\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"height\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.nMaxY___21304 = (r0);\n    r0 = (s.oMinX___21250 - s.nMinX___21289);\n    s.minXDiff___21311 = (r0);\n    r0 = (s.oMinY___21251 - s.nMinY___21293);\n    s.minYDiff___21314 = (r0);\n    r0 = (s.oMaxX___21252 - s.nMaxX___21297);\n    s.maxXDiff___21317 = (r0);\n    r0 = (s.oMaxY___21253 - s.nMaxY___21304);\n    s.maxYDiff___21320 = (r0);\n    r0 = (s.oMaxX___21252 != s.oMinX___21250);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    s.tmp_3 = Math_abs__P14900_mk(s);\n    s.tmp_3.arg0 = s.minXDiff___21311;\n    s.pc = 15; return s.tmp_3;\n  case 15:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    s.tmp_5 = Math_abs__P14900_mk(s);\n    s.tmp_5.arg0 = s.maxXDiff___21317;\n    s.pc = 16; return s.tmp_5;\n  case 16:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 + s.tmp_4);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= 2);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 7; continue; }\n    r0 = s.arg0.fields[\"_hitbox\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7).fields[\"ox\"] = (s.oMinX___21250);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    s.tmp_0 = r0;\n    r0 = (s.oMaxX___21252 - s.oMinX___21250);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"width\"] = (s.tmp_1);\n  case 7:\n  case 8:\n    r0 = (s.oMaxY___21253 != s.oMinY___21251);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 9; continue; }\n    r0 = s.tmp_0;\n    { step = 10; continue; }\n  case 9:\n    s.tmp_3 = Math_abs__P14900_mk(s);\n    s.tmp_3.arg0 = s.minYDiff___21314;\n    s.pc = 17; return s.tmp_3;\n  case 17:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    s.tmp_5 = Math_abs__P14900_mk(s);\n    s.tmp_5.arg0 = s.maxYDiff___21320;\n    s.pc = 18; return s.tmp_5;\n  case 18:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 + s.tmp_4);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= 2);\n  case 10:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 11; continue; }\n    r0 = s.arg0.fields[\"_hitbox\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7).fields[\"oy\"] = (s.oMinY___21251);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    s.tmp_0 = r0;\n    r0 = (s.oMaxY___21253 - s.oMinY___21251);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"height\"] = (s.tmp_1);\n  case 11:\n  case 12:\n  case 13:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_setImage__P15466.info = {\"start\":5754,\"length\":1391,\"line\":212,\"column\":4,\"endLine\":252,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"setImage\",\"argumentNames\":[\"this\",\"img\"]}\n\nfunction Sprite_setImage__P15466_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_setImage__P15466, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  oMinX___21250: undefined,\n  oMinY___21251: undefined,\n  oMaxX___21252: undefined,\n  oMaxY___21253: undefined,\n  nMinX___21289: undefined,\n  nMinY___21293: undefined,\n  nMaxX___21297: undefined,\n  nMaxY___21304: undefined,\n  minXDiff___21311: undefined,\n  minYDiff___21314: undefined,\n  maxXDiff___21317: undefined,\n  maxYDiff___21320: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction game_calculateHitBox__P15440(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.i___21360 = undefined;\n    s.minX___21363 = undefined;\n    s.minY___21366 = undefined;\n    s.maxX___21369 = undefined;\n    s.maxY___21370 = undefined;\n    s.c___21371 = undefined;\n    s.r___21376 = undefined;\n    s.width___21407 = undefined;\n    s.height___21412 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"_image\"];\n    s.i___21360 = (r0);\n    r0 = pxsim_ImageMethods.width(s.i___21360);\n    s.minX___21363 = (r0);\n    r0 = pxsim_ImageMethods.height(s.i___21360);\n    s.minY___21366 = (r0);\n    s.maxX___21369 = (0);\n    s.maxY___21370 = (0);\n    s.c___21371 = (0);\n  case 1:\n    s.tmp_1 = r0 = s.c___21371;\n    r0 = pxsim_ImageMethods.width(s.i___21360);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    s.r___21376 = (0);\n  case 2:\n    s.tmp_1 = r0 = s.r___21376;\n    r0 = pxsim_ImageMethods.height(s.i___21360);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = pxsim_ImageMethods.getPixel(s.i___21360, s.c___21371, s.r___21376);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    s.tmp_4 = Math_min__P14903_mk(s);\n    s.tmp_4.arg0 = s.minX___21363;\n    s.tmp_4.arg1 = s.c___21371;\n    s.pc = 7; return s.tmp_4;\n  case 7:\n    r0 = s.retval;\n    s.minX___21363 = (r0);\n    s.tmp_0 = Math_min__P14903_mk(s);\n    s.tmp_0.arg0 = s.minY___21366;\n    s.tmp_0.arg1 = s.r___21376;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n    s.minY___21366 = (r0);\n    s.tmp_0 = Math_max__P14902_mk(s);\n    s.tmp_0.arg0 = s.maxX___21369;\n    s.tmp_0.arg1 = s.c___21371;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.maxX___21369 = (r0);\n    s.tmp_0 = Math_max__P14902_mk(s);\n    s.tmp_0.arg0 = s.maxY___21370;\n    s.tmp_0.arg1 = s.r___21376;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    s.maxY___21370 = (r0);\n  case 3:\n  case 4:\n    r0 = (s.r___21376 + 1);\n    s.r___21376 = (r0);\n    { step = 2; continue; }\n  case 5:\n    r0 = (s.c___21371 + 1);\n    s.c___21371 = (r0);\n    { step = 1; continue; }\n  case 6:\n    r0 = (s.maxX___21369 - s.minX___21363);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 1);\n    s.width___21407 = (r0);\n    r0 = (s.maxY___21370 - s.minY___21366);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 1);\n    s.height___21412 = (r0);\n    r0 = pxsim_pxtcore_mkClassInstance(game_Hitbox__C15434_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = game_Hitbox_constructor__P15439_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg0;\n    s.tmp_1.arg2 = s.width___21407;\n    s.tmp_1.arg3 = s.height___21412;\n    s.tmp_1.arg4 = s.minX___21363;\n    s.tmp_1.arg5 = s.minY___21366;\n    s.pc = 11; return s.tmp_1;\n  case 11:\n    r0 = s.retval;\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_calculateHitBox__P15440.info = {\"start\":764,\"length\":692,\"line\":34,\"column\":4,\"endLine\":56,\"endColumn\":5,\"fileName\":\"pxt_modules/game/hitbox.ts\",\"functionName\":\"calculateHitBox\",\"argumentNames\":[\"s\"]}\n\nfunction game_calculateHitBox__P15440_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_calculateHitBox__P15440, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  i___21360: undefined,\n  minX___21363: undefined,\n  minY___21366: undefined,\n  maxX___21369: undefined,\n  maxY___21370: undefined,\n  c___21371: undefined,\n  r___21376: undefined,\n  width___21407: undefined,\n  height___21412: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_image__P15465(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_image\"];\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_image__P15465.info = {\"start\":5478,\"length\":54,\"line\":202,\"column\":4,\"endLine\":204,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"image\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_image__P15465_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_image__P15465, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_Hitbox_constructor__P15439(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_Hitbox__C15434_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"width\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"height\"] = (s.arg3);\n    r0 = (s.arg0).fields[\"parent\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"ox\"] = (s.arg4);\n    r0 = (s.arg0).fields[\"oy\"] = (s.arg5);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_Hitbox_constructor__P15439.info = {\"start\":163,\"length\":246,\"line\":8,\"column\":8,\"endLine\":14,\"endColumn\":9,\"fileName\":\"pxt_modules/game/hitbox.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"parent\",\"width\",\"height\",\"ox\",\"oy\"]}\n\nfunction game_Hitbox_constructor__P15439_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_Hitbox_constructor__P15439, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n} }\n\n\n\n\n\nfunction Sprite_ax__P15459(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_ax\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_ax__P15459.info = {\"start\":2700,\"length\":51,\"line\":102,\"column\":4,\"endLine\":104,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"ax\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction Sprite_ax__P15459_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_ax__P15459, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_ax__P15458(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_ax\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 256);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_ax__P15458.info = {\"start\":2534,\"length\":60,\"line\":97,\"column\":4,\"endLine\":99,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"ax\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_ax__P15458_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_ax__P15458, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_setBackgroundColor__P15776(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___21461 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.scene___21461 = (r0);\n    r0 = s.scene___21461.fields[\"background\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0).fields[\"color\"] = (s.arg0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_setBackgroundColor__P15776.info = {\"start\":1004,\"length\":140,\"line\":37,\"column\":4,\"endLine\":40,\"endColumn\":5,\"fileName\":\"pxt_modules/game/scenes.ts\",\"functionName\":\"setBackgroundColor\",\"argumentNames\":[\"color\"]}\n\nfunction scene_setBackgroundColor__P15776_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_setBackgroundColor__P15776, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  scene___21461: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P21469(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.rounds___21472 = undefined;\n    s.j___21477 = undefined;\n    s.x___21481 = undefined;\n    s.y___21486 = undefined;\n    s.c___21491 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_ImageMethods.width(s.arg0);\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.height(s.arg0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 * s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 5);\n    s.rounds___21472 = (r0);\n    s.j___21477 = (0);\n  case 1:\n    r0 = (s.j___21477 < s.rounds___21472);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = Math_FastRandom_randomRange__P15999_mk(s);\n    s.tmp_1.arg0 = s.arg1;\n    s.tmp_1.arg1 = 0;\n    r0 = pxsim_ImageMethods.width(s.arg0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1.arg2 = r0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.x___21481 = (r0);\n    s.tmp_0 = Math_FastRandom_randomRange__P15999_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.arg1 = 0;\n    r0 = pxsim_ImageMethods.height(s.arg0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 3);\n    s.tmp_0.arg2 = r0;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.y___21486 = (r0);\n    r0 = pxsim_ImageMethods.getPixel(s.arg0, s.x___21481, s.y___21486);\n    s.c___21491 = (r0);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_1 = r0 = s.x___21481;\n    r0 = (s.y___21486 + 1);\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_2, s.c___21491);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_1 = r0 = s.x___21481;\n    r0 = (s.y___21486 + 2);\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_2, s.c___21491);\n    r0 = (s.j___21477 + 1);\n    s.j___21477 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P21469.info = {\"start\":2652,\"length\":386,\"line\":72,\"column\":45,\"endLine\":81,\"endColumn\":5,\"fileName\":\"pxt_modules/game/effects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"input\",\"r\"]}\n\nfunction inline__P21469_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P21469, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  rounds___21472: undefined,\n  j___21477: undefined,\n  x___21481: undefined,\n  y___21486: undefined,\n  c___21491: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Math_FastRandom_randomRange__P15999(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Math_FastRandom__C15997_VT)) failedCast(r0);\n    r0 = (s.arg2 > s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = Math_FastRandom_next__P15998_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.arg2 - s.arg1);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 + 1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 % s.tmp_3);\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = (s.arg1 + s.tmp_5);\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_FastRandom_randomRange__P15999.info = {\"start\":2046,\"length\":131,\"line\":61,\"column\":8,\"endLine\":63,\"endColumn\":9,\"fileName\":\"pxt_modules/game/mathUtil.ts\",\"functionName\":\"randomRange\",\"argumentNames\":[\"this\",\"min\",\"max\"]}\n\nfunction Math_FastRandom_randomRange__P15999_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_FastRandom_randomRange__P15999, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Math_FastRandom_next__P15998(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Math_FastRandom__C15997_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"lfsr\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"lfsr\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 & 1);\n    s.tmp_6 = r0;\n    r0 = (0 - s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 & 46080);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 ^ s.tmp_4);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"lfsr\"] = (s.tmp_1);\n    r0 = s.tmp_1;\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_FastRandom_next__P15998.info = {\"start\":1680,\"length\":107,\"line\":52,\"column\":8,\"endLine\":54,\"endColumn\":9,\"fileName\":\"pxt_modules/game/mathUtil.ts\",\"functionName\":\"next\",\"argumentNames\":[\"this\"]}\n\nfunction Math_FastRandom_next__P15998_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_FastRandom_next__P15998, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction effects_ImageEffect_constructor__P16283(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ImageEffect__C16279_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"effect\"] = (s.arg2);\n    r0 = pxsim_pxtcore_mkClassInstance(Math_FastRandom__C15997_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = Math_FastRandom_constructor__P16004_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = undefined;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"fastRandom\"] = (s.tmp_0);\n    r0 = (s.arg0).fields[\"preferredDelay\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"times\"] = (undefined);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ImageEffect_constructor__P16283.info = {\"start\":410,\"length\":290,\"line\":10,\"column\":8,\"endLine\":15,\"endColumn\":9,\"fileName\":\"pxt_modules/game/effects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"defaultRate\",\"effectFactory\"]}\n\nfunction effects_ImageEffect_constructor__P16283_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ImageEffect_constructor__P16283, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction game_over__P15867(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scoreInfo___21569 = undefined;\n    s.highScore___21572 = undefined;\n    s.overDialog___21599 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_init__P15859_mk(s);\n    s.pc = 18; return s.tmp_0;\n  case 18:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(globals.__isOver___15855);\n    if (!r0) { step = 1; continue; }\n    { step = 17; continue; }\n  case 1:\n  case 2:\n    globals.__isOver___15855 = (true);\n    r0 = pxsim_numops_toBoolDecr(globals.__gameOverHandler___15854);\n    if (!r0) { step = 3; continue; }\n    s.tmp_0 = lambda_2_mk(s);\n    s.tmp_0.argL = globals.__gameOverHandler___15854;\n    s.tmp_0.arg0 = s.arg0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 19; return s.tmp_0;\n  case 19:\n    r0 = s.retval;\n    { step = 16; continue; }\n  case 3:\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    if (!r0) { step = 4; continue; }\n    r0 = globals.winEffect___15842;\n    { step = 5; continue; }\n  case 4:\n    r0 = globals.loseEffect___15844;\n  case 5:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.arg1 = (s.tmp_2);\n  case 6:\n  case 7:\n    s.tmp_0 = info_PlayerInfo_getState__P15666_mk(s);\n    s.tmp_0.arg0 = globals.player1___15686;\n    s.pc = 20; return s.tmp_0;\n  case 20:\n    r0 = s.retval;\n    s.scoreInfo___21569 = (r0);\n    s.tmp_0 = info_highScore__P15641_mk(s);\n    s.pc = 21; return s.tmp_0;\n  case 21:\n    r0 = s.retval;\n    s.highScore___21572 = (r0);\n    r0 = s.scoreInfo___21569.fields[\"score\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > s.highScore___21572);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 8; continue; }\n    s.tmp_2 = info_saveHighScore__P15638_mk(s);\n    s.pc = 22; return s.tmp_2;\n  case 22:\n    r0 = s.retval;\n  case 8:\n  case 9:\n  case 10:\n    s.tmp_0 = r0 = globals._sceneStack___15850;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 11; continue; }\n    r0 = s.tmp_0;\n    { step = 12; continue; }\n  case 11:\n    r0 = pxsim_Array__length(globals._sceneStack___15850);\n  case 12:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 13; continue; }\n    s.tmp_2 = scene_Scene_destroy__P15769_mk(s);\n    s.tmp_2.arg0 = globals._scene___15849;\n    s.pc = 23; return s.tmp_2;\n  case 23:\n    r0 = s.retval;\n    s.tmp_0 = game_popScene__P15861_mk(s);\n    s.pc = 24; return s.tmp_0;\n  case 24:\n    r0 = s.retval;\n    { step = 10; continue; }\n  case 13:\n    s.tmp_0 = game_pushScene__P15860_mk(s);\n    s.pc = 25; return s.tmp_0;\n  case 25:\n    r0 = s.retval;\n    s.tmp_0 = scene_setBackgroundImage__P15778_mk(s);\n    r0 = pxsim_ImageMethods.clone(globals.screen___15305);\n    s.tmp_0.arg0 = r0;\n    s.pc = 26; return s.tmp_0;\n  case 26:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    if (!r0) { step = 14; continue; }\n    s.tmp_0 = music_Melody_play__P15198_mk(s);\n    s.tmp_0.arg0 = globals.winSound___15848;\n    s.tmp_0.arg1 = 255;\n    s.pc = 27; return s.tmp_0;\n  case 27:\n    r0 = s.retval;\n    { step = 15; continue; }\n  case 14:\n    s.tmp_0 = music_Melody_play__P15198_mk(s);\n    s.tmp_0.arg0 = globals.loseSound___15846;\n    s.tmp_0.arg1 = 255;\n    s.pc = 28; return s.tmp_0;\n  case 28:\n    r0 = s.retval;\n  case 15:\n    s.tmp_0 = if_startScreenEffect_1_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"startScreenEffect\"];\n    if (s.tmp_0.fn == null) { s.retval = s.tmp_0.arg0.fields[\"startScreenEffect\"]; }\n    else { s.pc = 29; return s.tmp_0; }\n  case 29:\n    r0 = s.retval;\n    s.tmp_0 = pause__P15082_mk(s);\n    s.tmp_0.arg0 = 400;\n    s.pc = 30; return s.tmp_0;\n  case 30:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkClassInstance(game_GameOverDialog__C15824_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = game_GameOverDialog_constructor__P15829_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg0;\n    r0 = s.scoreInfo___21569.fields[\"score\"];\n    s.tmp_1.arg2 = r0;\n    s.tmp_1.arg3 = s.highScore___21572;\n    s.pc = 31; return s.tmp_1;\n  case 31:\n    r0 = s.retval;\n    s.overDialog___21599 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P21609);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.overDialog___21599);\n    s.tmp_1 = scene_createRenderable__P15737_mk(s);\n    s.tmp_1.arg0 = 100;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.tmp_1.arg2 = undefined;\n    s.pc = 32; return s.tmp_1;\n  case 32:\n    r0 = s.retval;\n    s.tmp_0 = pause__P15082_mk(s);\n    s.tmp_0.arg0 = 500;\n    s.pc = 33; return s.tmp_0;\n  case 33:\n    r0 = s.retval;\n    s.tmp_0 = game_GameOverDialog_displayCursor__P15826_mk(s);\n    s.tmp_0.arg0 = s.overDialog___21599;\n    s.pc = 34; return s.tmp_0;\n  case 34:\n    r0 = s.retval;\n    s.tmp_0 = game_waitAnyButton__P15857_mk(s);\n    s.pc = 35; return s.tmp_0;\n  case 35:\n    r0 = s.retval;\n    setupResume(s, 36);\n    pxsim.control.reset();\n    checkResumeConsumed();\n    return;\n  case 36:\n    r0 = s.retval;\n  case 16:\n  case 17:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_over__P15867.info = {\"start\":5311,\"length\":1776,\"line\":180,\"column\":4,\"endLine\":231,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"over\",\"argumentNames\":[\"win\",\"effect\"]}\n\nfunction game_over__P15867_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_over__P15867, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  scoreInfo___21569: undefined,\n  highScore___21572: undefined,\n  overDialog___21599: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P21609(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_GameOverDialog__C15824_v0_1_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    if (!checkSubtype(s.tmp_0.arg0, game_GameOverDialog__C15824_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.update;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.caps[0].fields[\"image\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_4 = r0;\n    r0 = s.caps[0].fields[\"image\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 - s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 1);\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, 0, s.tmp_2);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P21609.info = {\"start\":6650,\"length\":256,\"line\":217,\"column\":48,\"endLine\":224,\"endColumn\":13,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"target\"]}\n\nfunction inline__P21609_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P21609, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_popScene__P15861(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.oldScene___22621 = undefined;\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n    s.oldScene___22621 = (r0);\n    s.tmp_0 = r0 = globals._sceneStack___15850;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_Array__length(globals._sceneStack___15850);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_Array_.pop(globals._sceneStack___15850);\n    globals._scene___15849 = (r0);\n    s.tmp_0 = control_popEventContext__P15078_mk(s);\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    { step = 6; continue; }\n  case 3:\n    r0 = pxsim_numops_toBoolDecr(globals._scene___15849);\n    if (!r0) { step = 4; continue; }\n    s.tmp_0 = control_popEventContext__P15078_mk(s);\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    globals._scene___15849 = (undefined);\n  case 4:\n  case 5:\n  case 6:\n    r0 = pxsim_numops_toBoolDecr(globals._scene___15849);\n    if (!r0) { step = 7; continue; }\n    s.tmp_0 = particles_enableAll__P16160_mk(s);\n    s.pc = 14; return s.tmp_0;\n  case 14:\n    r0 = s.retval;\n  case 7:\n  case 8:\n    r0 = pxsim_numops_toBoolDecr(globals._scenePopHandlers___15852);\n    if (!r0) { step = 9; continue; }\n    r0 = pxsim_pxtcore_mkAction(1, inline__P22640);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.oldScene___22621);\n    s.tmp_1 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_1.arg0 = globals._scenePopHandlers___15852;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 15; return s.tmp_1;\n  case 15:\n    r0 = s.retval;\n  case 9:\n  case 10:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_popScene__P15861.info = {\"start\":1962,\"length\":548,\"line\":74,\"column\":4,\"endLine\":92,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"popScene\",\"argumentNames\":[]}\n\nfunction game_popScene__P15861_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_popScene__P15861, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  oldScene___22621: undefined,\n} }\n\n\n\n\n\nfunction inline__P22640(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = lambda_2_mk(s);\n    s.tmp_0.argL = s.arg0;\n    s.tmp_0.arg0 = s.caps[0];\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22640.info = {\"start\":2474,\"length\":18,\"line\":90,\"column\":38,\"endLine\":90,\"endColumn\":56,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"cb\"]}\n\nfunction inline__P22640_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22640, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_enableAll__P16160(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sources___22644 = undefined;\n    s.tmp_0 = particles_particleSources__P16161_mk(s);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.sources___22644 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.sources___22644);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_0.arg0 = s.sources___22644;\n    s.tmp_0.arg1 = inline__P22649;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = particles_pruneParticles__P16148_mk(s);\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_enableAll__P16160.info = {\"start\":12162,\"length\":193,\"line\":401,\"column\":4,\"endLine\":407,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"enableAll\",\"argumentNames\":[]}\n\nfunction particles_enableAll__P16160_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_enableAll__P16160, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  sources___22644: undefined,\n} }\n\n\n\n\n\nfunction inline__P22649(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = particles_ParticleSource_enabled__P16134_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = true;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = true;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22649.info = {\"start\":12286,\"length\":21,\"line\":404,\"column\":28,\"endLine\":404,\"endColumn\":49,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"s\"]}\n\nfunction inline__P22649_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22649, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction control_popEventContext__P15078(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.ctx___22655 = undefined;\n    s.context___22662 = undefined;\n    r0 = pxsim_numops_toBoolDecr(globals.eventContexts___15075);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_Array_.pop(globals.eventContexts___15075);\n    s.ctx___22655 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.ctx___22655);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    { step = 7; continue; }\n  case 3:\n  case 4:\n    s.tmp_2 = control_EventContext_unregister__P15066_mk(s);\n    s.tmp_2.arg0 = s.ctx___22655;\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    s.tmp_0 = r0 = globals.eventContexts___15075;\n    r0 = pxsim_Array__length(globals.eventContexts___15075);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);\n    s.context___22662 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.context___22662);\n    if (!r0) { step = 5; continue; }\n    s.tmp_0 = control_EventContext_register__P15065_mk(s);\n    s.tmp_0.arg0 = s.context___22662;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    { step = 6; continue; }\n  case 5:\n    globals.eventContexts___15075 = (undefined);\n  case 6:\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_popEventContext__P15078.info = {\"start\":6831,\"length\":413,\"line\":213,\"column\":4,\"endLine\":227,\"endColumn\":5,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"popEventContext\",\"argumentNames\":[]}\n\nfunction control_popEventContext__P15078_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_popEventContext__P15078, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  ctx___22655: undefined,\n  context___22662: undefined,\n} }\n\n\n\n\n\nfunction control_EventContext_register__P15065(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.h___22674 = undefined;\n    s.unnamed118___U1 = undefined;\n    s.unnamed119___U2 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventContext__C15061_VT)) failedCast(r0);\n    s.h___22674 = (undefined);\n    s.h___22674 = (undefined);\n    r0 = s.arg0.fields[\"handlers\"];\n    s.unnamed118___U1 = (r0);\n    s.unnamed119___U2 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed119___U2;\n    r0 = pxsim_Array__length(s.unnamed118___U1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 2; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed118___U1, s.unnamed119___U2);\n    s.h___22674 = (r0);\n    s.tmp_2 = control_EventHandler_register__P15057_mk(s);\n    s.tmp_2.arg0 = s.h___22674;\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    r0 = (s.unnamed119___U2 + 1);\n    s.unnamed119___U2 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.unnamed118___U1 = (undefined);\n    s.tmp_0 = control_EventContext_registerFrameCallbacks__P15064_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventContext_register__P15065.info = {\"start\":3933,\"length\":138,\"line\":120,\"column\":8,\"endLine\":124,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"register\",\"argumentNames\":[\"this\"]}\n\nfunction control_EventContext_register__P15065_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventContext_register__P15065, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  h___22674: undefined,\n  unnamed118___U1: undefined,\n  unnamed119___U2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction control_EventHandler_register__P15057(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventHandler__C15056_VT)) failedCast(r0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P22687);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = s.arg0.fields[\"src\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"value\"];\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_3 = r0;\n    r0 = pxsim.control.internalOnEvent(s.tmp_1, s.tmp_2, s.tmp_0, s.tmp_3);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventHandler_register__P15057.info = {\"start\":1069,\"length\":165,\"line\":34,\"column\":8,\"endLine\":38,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"register\",\"argumentNames\":[\"this\"]}\n\nfunction control_EventHandler_register__P15057_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventHandler_register__P15057, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P22687(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = s.caps[0].fields[\"handler\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = lambda_1_mk(s);\n    r0 = s.caps[0].fields[\"handler\"];\n    s.tmp_1.argL = r0;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22687.info = {\"start\":1140,\"length\":71,\"line\":35,\"column\":58,\"endLine\":37,\"endColumn\":13,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P22687_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22687, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\n\n\n\n\nfunction game_pushScene__P15860(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.oldScene___22580 = undefined;\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.oldScene___22580 = (r0);\n    s.tmp_0 = particles_clearAll__P16158_mk(s);\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = particles_disableAll__P16159_mk(s);\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(globals._sceneStack___15850);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    globals._sceneStack___15850 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_Array__push(globals._sceneStack___15850, globals._scene___15849);\n    globals._scene___15849 = (undefined);\n    s.tmp_0 = game_init__P15859_mk(s);\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(globals._scenePushHandlers___15851);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore_mkAction(1, inline__P22597);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.oldScene___22580);\n    s.tmp_1 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_1.arg0 = globals._scenePushHandlers___15851;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 9; return s.tmp_1;\n  case 9:\n    r0 = s.retval;\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_pushScene__P15860.info = {\"start\":1587,\"length\":369,\"line\":60,\"column\":4,\"endLine\":72,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"pushScene\",\"argumentNames\":[]}\n\nfunction game_pushScene__P15860_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_pushScene__P15860, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  oldScene___22580: undefined,\n} }\n\n\n\n\n\nfunction inline__P22597(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = lambda_2_mk(s);\n    s.tmp_0.argL = s.arg0;\n    s.tmp_0.arg0 = s.caps[0];\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22597.info = {\"start\":1920,\"length\":18,\"line\":70,\"column\":39,\"endLine\":70,\"endColumn\":57,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"cb\"]}\n\nfunction inline__P22597_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22597, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_disableAll__P16159(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sources___22601 = undefined;\n    s.tmp_0 = particles_particleSources__P16161_mk(s);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.sources___22601 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.sources___22601);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_0.arg0 = s.sources___22601;\n    s.tmp_0.arg1 = inline__P22606;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = particles_pruneParticles__P16148_mk(s);\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_disableAll__P16159.info = {\"start\":11883,\"length\":195,\"line\":390,\"column\":4,\"endLine\":396,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"disableAll\",\"argumentNames\":[]}\n\nfunction particles_disableAll__P16159_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_disableAll__P16159, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  sources___22601: undefined,\n} }\n\n\n\n\n\nfunction inline__P22606(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = particles_ParticleSource_enabled__P16134_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = false;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = false;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22606.info = {\"start\":12008,\"length\":22,\"line\":393,\"column\":28,\"endLine\":393,\"endColumn\":50,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"s\"]}\n\nfunction inline__P22606_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22606, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_clearAll__P16158(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sources___22611 = undefined;\n    s.tmp_0 = particles_particleSources__P16161_mk(s);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.sources___22611 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.sources___22611);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_0.arg0 = s.sources___22611;\n    s.tmp_0.arg1 = inline__P22616;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = particles_pruneParticles__P16148_mk(s);\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_clearAll__P16158.info = {\"start\":11611,\"length\":185,\"line\":379,\"column\":4,\"endLine\":385,\"endColumn\":5,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"clearAll\",\"argumentNames\":[]}\n\nfunction particles_clearAll__P16158_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_clearAll__P16158, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  sources___22611: undefined,\n} }\n\n\n\n\n\nfunction inline__P22616(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = particles_ParticleSource_clear__P16136_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22616.info = {\"start\":11734,\"length\":14,\"line\":382,\"column\":28,\"endLine\":382,\"endColumn\":42,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"s\"]}\n\nfunction inline__P22616_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22616, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_waitAnyButton__P15857(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.__waitAnyButton___15853);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = globals.__waitAnyButton___15853;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_0 = pause__P15082_mk(s);\n    s.tmp_0.arg0 = 3000;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_waitAnyButton__P15857.info = {\"start\":967,\"length\":111,\"line\":35,\"column\":4,\"endLine\":38,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"waitAnyButton\",\"argumentNames\":[]}\n\nfunction game_waitAnyButton__P15857_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_waitAnyButton__P15857, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction game_GameOverDialog_constructor__P15829(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_GameOverDialog__C15824_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"win\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"score\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"highScore\"] = (s.arg3);\n    s.tmp_0 = game_BaseDialog_constructor__P15806_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 46;\n    s.tmp_1 = game_defaultSplashFrame__P15832_mk(s);\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg3 = r0;\n    s.tmp_0.arg4 = undefined;\n    s.tmp_0.arg5 = undefined;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"cursorOn\"] = (false);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"score\"];\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"highScore\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 > s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"isNewHighScore\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_GameOverDialog_constructor__P15829.info = {\"start\":12305,\"length\":308,\"line\":362,\"column\":8,\"endLine\":370,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"win\",\"score\",\"highScore\"]}\n\nfunction game_GameOverDialog_constructor__P15829_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_GameOverDialog_constructor__P15829, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction game_defaultSplashFrame__P15832(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.image.ofBuffer(_hex21888);\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim.image.ofBuffer(_hex21890);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.tmp_1;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_defaultSplashFrame__P15832.info = {\"start\":18476,\"length\":220,\"line\":562,\"column\":4,\"endLine\":575,\"endColumn\":5,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"defaultSplashFrame\",\"argumentNames\":[]}\n\nfunction game_defaultSplashFrame__P15832_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_defaultSplashFrame__P15832, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\nconst _hex21888 = pxsim.BufferMethods.createBufferFromHex(\"8704030003000000010100000101000001010000\")\nconst _hex21890 = pxsim.BufferMethods.createBufferFromHex(\"8704030003000000f1010000f1010000f1010000\")\n\n\n\n\nfunction game_BaseDialog_constructor__P15806(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim.image.create(s.arg1, s.arg2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"image\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg3;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = globals.dialogFrame___15790;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_1;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_3 = game_defaultFrame__P15831_mk(s);\n    s.pc = 13; return s.tmp_3;\n  case 13:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    globals.dialogFrame___15790 = (r0);\n    r0 = s.tmp_2;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = (s.arg0).fields[\"frame\"] = (s.tmp_4);\n    s.tmp_0 = r0 = s.arg4;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    r0 = globals.font8___15264;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.arg0).fields[\"font\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg5;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = s.tmp_0;\n    { step = 8; continue; }\n  case 7:\n    r0 = globals.dialogCursor___15791;\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (!r0) { step = 9; continue; }\n    r0 = s.tmp_1;\n    { step = 10; continue; }\n  case 9:\n    s.tmp_3 = game_defaultCursorImage__P15833_mk(s);\n    s.pc = 14; return s.tmp_3;\n  case 14:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    globals.dialogCursor___15791 = (r0);\n    r0 = s.tmp_2;\n  case 10:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = (s.arg0).fields[\"cursor\"] = (s.tmp_4);\n    r0 = (globals.dialogTextColor___15792 == undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    globals.dialogTextColor___15792 = (15);\n    r0 = 15;\n    { step = 12; continue; }\n  case 11:\n    r0 = globals.dialogTextColor___15792;\n  case 12:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.arg0).fields[\"textColor\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"frame\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 / 3);\n    s.tmp_2 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"unit\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_3 = r0;\n    r0 = (s.arg1 / s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"columns\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_3 = r0;\n    r0 = (s.arg2 / s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"rows\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_3 = r0 = s.arg1;\n    r0 = s.arg0.fields[\"columns\"];\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 * s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 - s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"innerLeft\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_3 = r0 = s.arg2;\n    r0 = s.arg0.fields[\"rows\"];\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 * s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 - s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"innerTop\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"cursorCount\"] = (0);\n    s.tmp_0 = game_BaseDialog_drawBorder__P15798_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 15; return s.tmp_0;\n  case 15:\n    r0 = s.retval;\n    s.tmp_0 = game_BaseDialog_clearInterior__P15799_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 16; return s.tmp_0;\n  case 16:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_constructor__P15806.info = {\"start\":634,\"length\":895,\"line\":36,\"column\":8,\"endLine\":58,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"width\",\"height\",\"frame\",\"font\",\"cursor\"]}\n\nfunction game_BaseDialog_constructor__P15806_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_constructor__P15806, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n} }\n\n\n\n\n\nfunction game_defaultCursorImage__P15833(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.image.ofBuffer(_hex22012);\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim.image.ofBuffer(_hex22014);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.tmp_1;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_defaultCursorImage__P15833.info = {\"start\":18702,\"length\":690,\"line\":577,\"column\":4,\"endLine\":603,\"endColumn\":5,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"defaultCursorImage\",\"argumentNames\":[]}\n\nfunction game_defaultCursorImage__P15833_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_defaultCursorImage__P15833, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\nconst _hex22012 = pxsim.BufferMethods.createBufferFromHex(\"87040a000800000011111101010000010111010111100001011101010100000101000001100010000001010000100000\")\nconst _hex22014 = pxsim.BufferMethods.createBufferFromHex(\"87040b000b00000000606686080000006076776686000000607777676608000076171111670800007671177766080000767117776608000076711777660800007617111167080000607777676608000060767766860000000060668608000000\")\n\n\n\n\nfunction game_defaultFrame__P15831(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.image.ofBuffer(_hex22018);\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim.image.ofBuffer(_hex22020);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.tmp_1;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_defaultFrame__P15831.info = {\"start\":17914,\"length\":556,\"line\":538,\"column\":4,\"endLine\":560,\"endColumn\":5,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"defaultFrame\",\"argumentNames\":[]}\n\nfunction game_defaultFrame__P15831_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_defaultFrame__P15831, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\nconst _hex22018 = pxsim.BufferMethods.createBufferFromHex(\"8704030003000000110100000101000011010000\")\nconst _hex22020 = pxsim.BufferMethods.createBufferFromHex(\"87040c000c0000000000000000000000b0bbbbbbbb0b0000b0bbbbbbbbcb0000b0db1111bdcb0000b01b1111b1cb0000b01b1111b1cb0000b01b1111b1cb0000b01b1111b1cb0000b0db1111bdcb0000b0bbbbbbbbcb0000b0bbbbbbbbcb000000cccccccccc0000\")\n\n\n\n\nfunction game_BaseDialog_clearInterior__P15799(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.d___21791 = undefined;\n    s.s___21797 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    s.d___21791 = (1);\n  case 1:\n    s.tmp_1 = r0 = s.d___21791;\n    r0 = s.arg0.fields[\"columns\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 - 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.s___21797 = (1);\n  case 2:\n    s.tmp_1 = r0 = s.s___21797;\n    r0 = s.arg0.fields[\"rows\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 - 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_4 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    s.tmp_4.arg1 = 4;\n    s.tmp_4.arg2 = s.d___21791;\n    s.tmp_4.arg3 = s.s___21797;\n    s.pc = 5; return s.tmp_4;\n  case 5:\n    r0 = s.retval;\n    r0 = (s.s___21797 + 1);\n    s.s___21797 = (r0);\n    { step = 2; continue; }\n  case 3:\n    r0 = (s.d___21791 + 1);\n    s.d___21791 = (r0);\n    { step = 1; continue; }\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_clearInterior__P15799.info = {\"start\":3078,\"length\":230,\"line\":111,\"column\":8,\"endLine\":117,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"clearInterior\",\"argumentNames\":[\"this\"]}\n\nfunction game_BaseDialog_clearInterior__P15799_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_clearInterior__P15799, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  d___21791: undefined,\n  s___21797: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_BaseDialog_drawPartial__P15800(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.x0___21814 = undefined;\n    s.y0___21821 = undefined;\n    s.xf___21828 = undefined;\n    s.yf___21832 = undefined;\n    s.e___21838 = undefined;\n    s.t___21843 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"innerLeft\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_2 = r0;\n    r0 = (s.arg2 * s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.x0___21814 = (r0);\n    r0 = s.arg0.fields[\"innerTop\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_2 = r0;\n    r0 = (s.arg3 * s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.y0___21821 = (r0);\n    r0 = (s.arg1 % 3);\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 * s.tmp_1);\n    s.xf___21828 = (r0);\n    r0 = (s.arg1 / 3);\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_0 * s.tmp_2);\n    s.yf___21832 = (r0);\n    s.e___21838 = (0);\n  case 1:\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_1 = r0;\n    r0 = (s.e___21838 < s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.t___21843 = (0);\n  case 2:\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_1 = r0;\n    r0 = (s.t___21843 < s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_2 = r0;\n    r0 = (s.x0___21814 + s.e___21838);\n    s.tmp_3 = r0;\n    r0 = (s.y0___21821 + s.t___21843);\n    s.tmp_4 = r0;\n    r0 = s.arg0.fields[\"frame\"];\n    s.tmp_6 = r0;\n    r0 = (s.xf___21828 + s.e___21838);\n    s.tmp_7 = r0;\n    r0 = (s.yf___21832 + s.t___21843);\n    s.tmp_8 = r0;\n    r0 = pxsim_ImageMethods.getPixel(s.tmp_6, s.tmp_7, s.tmp_8);\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.setPixel(s.tmp_2, s.tmp_3, s.tmp_4, s.tmp_5);\n    r0 = (s.t___21843 + 1);\n    s.t___21843 = (r0);\n    { step = 2; continue; }\n  case 3:\n    r0 = (s.e___21838 + 1);\n    s.e___21838 = (r0);\n    { step = 1; continue; }\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_drawPartial__P15800.info = {\"start\":3318,\"length\":606,\"line\":119,\"column\":8,\"endLine\":134,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"drawPartial\",\"argumentNames\":[\"this\",\"index\",\"colTo\",\"rowTo\"]}\n\nfunction game_BaseDialog_drawPartial__P15800_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_drawPartial__P15800, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  x0___21814: undefined,\n  y0___21821: undefined,\n  xf___21828: undefined,\n  yf___21832: undefined,\n  e___21838: undefined,\n  t___21843: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction game_BaseDialog_drawBorder__P15798(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.c___21969 = undefined;\n    s.r___21996 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    s.c___21969 = (0);\n  case 1:\n    r0 = s.arg0.fields[\"columns\"];\n    s.tmp_1 = r0;\n    r0 = (s.c___21969 < s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    r0 = (s.c___21969 == 0);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 2; continue; }\n    s.tmp_3 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.tmp_3.arg1 = 0;\n    s.tmp_3.arg2 = 0;\n    s.tmp_3.arg3 = 0;\n    s.pc = 9; return s.tmp_3;\n  case 9:\n    r0 = s.retval;\n    s.tmp_0 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 6;\n    s.tmp_0.arg2 = 0;\n    r0 = s.arg0.fields[\"rows\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0.arg3 = r0;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    { step = 5; continue; }\n  case 2:\n    s.tmp_1 = r0 = s.c___21969;\n    r0 = s.arg0.fields[\"columns\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 - 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 === s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_4 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    s.tmp_4.arg1 = 2;\n    s.tmp_4.arg2 = s.c___21969;\n    s.tmp_4.arg3 = 0;\n    s.pc = 11; return s.tmp_4;\n  case 11:\n    r0 = s.retval;\n    s.tmp_0 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 8;\n    s.tmp_0.arg2 = s.c___21969;\n    r0 = s.arg0.fields[\"rows\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0.arg3 = r0;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_0 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 1;\n    s.tmp_0.arg2 = s.c___21969;\n    s.tmp_0.arg3 = 0;\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    s.tmp_0 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 7;\n    s.tmp_0.arg2 = s.c___21969;\n    r0 = s.arg0.fields[\"rows\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0.arg3 = r0;\n    s.pc = 14; return s.tmp_0;\n  case 14:\n    r0 = s.retval;\n  case 4:\n  case 5:\n    r0 = (s.c___21969 + 1);\n    s.c___21969 = (r0);\n    { step = 1; continue; }\n  case 6:\n    s.r___21996 = (1);\n  case 7:\n    s.tmp_1 = r0 = s.r___21996;\n    r0 = s.arg0.fields[\"rows\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 - 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 8; continue; }\n    s.tmp_4 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    s.tmp_4.arg1 = 3;\n    s.tmp_4.arg2 = 0;\n    s.tmp_4.arg3 = s.r___21996;\n    s.pc = 15; return s.tmp_4;\n  case 15:\n    r0 = s.retval;\n    s.tmp_0 = game_BaseDialog_drawPartial__P15800_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 5;\n    r0 = s.arg0.fields[\"columns\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = s.r___21996;\n    s.pc = 16; return s.tmp_0;\n  case 16:\n    r0 = s.retval;\n    r0 = (s.r___21996 + 1);\n    s.r___21996 = (r0);\n    { step = 7; continue; }\n  case 8:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_drawBorder__P15798.info = {\"start\":2321,\"length\":747,\"line\":89,\"column\":8,\"endLine\":109,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"drawBorder\",\"argumentNames\":[\"this\"]}\n\nfunction game_BaseDialog_drawBorder__P15798_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_drawBorder__P15798, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  c___21969: undefined,\n  r___21996: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_GameOverDialog_update__P15827(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_GameOverDialog__C15824_VT)) failedCast(r0);\n    s.tmp_0 = game_BaseDialog_clearInterior__P15799_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = game_GameOverDialog__C15824_v1_1_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    if (!checkSubtype(s.tmp_0.arg0, game_GameOverDialog__C15824_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.drawTextCore;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"cursorOn\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = game_BaseDialog_drawCursorRow__P15797_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_GameOverDialog_update__P15827.info = {\"start\":12694,\"length\":173,\"line\":376,\"column\":8,\"endLine\":383,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"update\",\"argumentNames\":[\"this\"]}\n\nfunction game_GameOverDialog_update__P15827_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_GameOverDialog_update__P15827, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_GameOverDialog_drawTextCore__P15828(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.titleHeight___21709 = undefined;\n    s.scoreHeight___21725 = undefined;\n    s.highScoreHeight___21726 = undefined;\n    s.scoreColor___21727 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_GameOverDialog__C15824_VT)) failedCast(r0);\n    s.titleHeight___21709 = (8);\n    r0 = s.arg0.fields[\"win\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = \"YOU WIN!\";\n    { step = 2; continue; }\n  case 1:\n    r0 = \"GAME OVER!\";\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 3; continue; }\n    r0 = 1;\n    { step = 4; continue; }\n  case 3:\n    r0 = 5;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    s.tmp_4 = helpers_imagePrintCenter__P15272_mk(s);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_4.arg0 = r0;\n    s.tmp_4.arg1 = s.tmp_1;\n    s.tmp_4.arg2 = s.titleHeight___21709;\n    s.tmp_4.arg3 = s.tmp_3;\n    s.tmp_4.arg4 = globals.font8___15264;\n    s.pc = 11; return s.tmp_4;\n  case 11:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"score\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    s.scoreHeight___21725 = (23);\n    s.highScoreHeight___21726 = (34);\n    r0 = pxsim_ImageMethods.isMono(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = 1;\n    { step = 6; continue; }\n  case 5:\n    r0 = 2;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.scoreColor___21727 = (s.tmp_1);\n    s.tmp_0 = helpers_imagePrintCenter__P15272_mk(s);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg0.fields[\"score\"];\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 13);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 13:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(\"Score:\", s.tmp_1);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.scoreHeight___21725;\n    s.tmp_0.arg3 = s.scoreColor___21727;\n    s.tmp_0.arg4 = globals.font8___15264;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"isNewHighScore\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    s.tmp_1 = helpers_imagePrintCenter__P15272_mk(s);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = \"New High Score!\";\n    s.tmp_1.arg2 = s.highScoreHeight___21726;\n    s.tmp_1.arg3 = s.scoreColor___21727;\n    s.tmp_1.arg4 = globals.font5___15269;\n    s.pc = 14; return s.tmp_1;\n  case 14:\n    r0 = s.retval;\n    { step = 8; continue; }\n  case 7:\n    s.tmp_0 = helpers_imagePrintCenter__P15272_mk(s);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg0.fields[\"highScore\"];\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 16);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 16:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(\"HI\", s.tmp_1);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.highScoreHeight___21726;\n    s.tmp_0.arg3 = s.scoreColor___21727;\n    s.tmp_0.arg4 = globals.font8___15264;\n    s.pc = 15; return s.tmp_0;\n  case 15:\n    r0 = s.retval;\n  case 8:\n  case 9:\n  case 10:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_GameOverDialog_drawTextCore__P15828.info = {\"start\":12877,\"length\":1200,\"line\":385,\"column\":8,\"endLine\":422,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"drawTextCore\",\"argumentNames\":[\"this\"]}\n\nfunction game_GameOverDialog_drawTextCore__P15828_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_GameOverDialog_drawTextCore__P15828, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  titleHeight___21709: undefined,\n  scoreHeight___21725: undefined,\n  highScoreHeight___21726: undefined,\n  scoreColor___21727: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction helpers_imagePrintCenter__P15272(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.w___21773 = undefined;\n    s.x___21778 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg4);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = image_getFontForText__P15266_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    s.arg4 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_String_.length(s.arg1);\n    s.tmp_0 = r0;\n    s.tmp_2 = if_charWidth_1_mk(s);\n    s.tmp_2.arg0 = s.arg4;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charWidth\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 4; return s.tmp_2; }\n    }\n  case 4:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 * s.tmp_1);\n    s.w___21773 = (r0);\n    r0 = pxsim_ImageMethods.width(s.arg0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - s.w___21773);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 2);\n    s.x___21778 = (r0);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.x___21778;\n    s.tmp_0.arg3 = s.arg2;\n    s.tmp_0.arg4 = s.arg3;\n    s.tmp_0.arg5 = s.arg4;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_imagePrintCenter__P15272.info = {\"start\":15025,\"length\":295,\"line\":206,\"column\":4,\"endLine\":211,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/text.ts\",\"functionName\":\"imagePrintCenter\",\"argumentNames\":[\"img\",\"text\",\"y\",\"color\",\"font\"]}\n\nfunction helpers_imagePrintCenter__P15272_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_imagePrintCenter__P15272, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  w___21773: undefined,\n  x___21778: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction game_BaseDialog_drawCursorRow__P15797(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.offset___21645 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    s.offset___21645 = (0);\n    r0 = s.arg0.fields[\"cursorCount\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 20);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.offset___21645 = (1);\n  case 1:\n  case 2:\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"cursorCount\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 % 40);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"cursorCount\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"cursor\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"innerLeft\"];\n    s.tmp_6 = r0;\n    s.tmp_8 = game_BaseDialog_textAreaWidth__P15803_mk(s);\n    s.tmp_8.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_8;\n  case 3:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = (s.tmp_6 + s.tmp_7);\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_9 = r0;\n    r0 = (s.tmp_5 + s.tmp_9);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 + s.offset___21645);\n    s.tmp_3 = r0;\n    r0 = s.arg0.fields[\"cursor\"];\n    s.tmp_11 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_11);\n    s.tmp_10 = r0;\n    r0 = (s.tmp_3 - s.tmp_10);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"innerTop\"];\n    s.tmp_16 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_17 = r0;\n    r0 = (s.tmp_16 + s.tmp_17);\n    s.tmp_15 = r0;\n    s.tmp_19 = game_BaseDialog_textAreaHeight__P15804_mk(s);\n    s.tmp_19.arg0 = s.arg0;\n    s.pc = 4; return s.tmp_19;\n  case 4:\n    r0 = s.retval;\n    s.tmp_18 = r0;\n    r0 = (s.tmp_15 + s.tmp_18);\n    s.tmp_14 = r0;\n    r0 = (s.tmp_14 + 1);\n    s.tmp_13 = r0;\n    r0 = s.arg0.fields[\"cursor\"];\n    s.tmp_22 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_22);\n    s.tmp_21 = r0;\n    r0 = (s.tmp_21 + 1);\n    s.tmp_20 = r0;\n    r0 = (s.tmp_13 - s.tmp_20);\n    s.tmp_12 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_12);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_drawCursorRow__P15797.info = {\"start\":1832,\"length\":479,\"line\":74,\"column\":8,\"endLine\":87,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"drawCursorRow\",\"argumentNames\":[\"this\"]}\n\nfunction game_BaseDialog_drawCursorRow__P15797_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_drawCursorRow__P15797, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  tmp_16: undefined,\n  tmp_17: undefined,\n  tmp_18: undefined,\n  tmp_19: undefined,\n  tmp_20: undefined,\n  tmp_21: undefined,\n  tmp_22: undefined,\n  offset___21645: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_BaseDialog_textAreaHeight__P15804(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"innerTop\"];\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 + s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 << 1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 - s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - 1);\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_textAreaHeight__P15804.info = {\"start\":4240,\"length\":117,\"line\":148,\"column\":8,\"endLine\":150,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"textAreaHeight\",\"argumentNames\":[\"this\"]}\n\nfunction game_BaseDialog_textAreaHeight__P15804_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_textAreaHeight__P15804, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_BaseDialog_textAreaWidth__P15803(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"innerLeft\"];\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"unit\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 + s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 << 1);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 - s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - 2);\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_textAreaWidth__P15803.info = {\"start\":4114,\"length\":116,\"line\":144,\"column\":8,\"endLine\":146,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"textAreaWidth\",\"argumentNames\":[\"this\"]}\n\nfunction game_BaseDialog_textAreaWidth__P15803_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_textAreaWidth__P15803, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_BaseDialog_cursorRowHeight__P15801(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"cursor\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 1);\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_cursorRowHeight__P15801.info = {\"start\":3934,\"length\":82,\"line\":136,\"column\":8,\"endLine\":138,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"cursorRowHeight\",\"argumentNames\":[\"this\"]}\n\nfunction game_BaseDialog_cursorRowHeight__P15801_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_cursorRowHeight__P15801, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_GameOverDialog_displayCursor__P15826(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_GameOverDialog__C15824_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"cursorOn\"] = (true);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_GameOverDialog_displayCursor__P15826.info = {\"start\":12623,\"length\":61,\"line\":372,\"column\":8,\"endLine\":374,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"displayCursor\",\"argumentNames\":[\"this\"]}\n\nfunction game_GameOverDialog_displayCursor__P15826_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_GameOverDialog_displayCursor__P15826, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_setBackgroundImage__P15778(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___22556 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.scene___22556 = (r0);\n    s.tmp_0 = scene_Background_image__P15690_mk(s);\n    r0 = s.scene___22556.fields[\"background\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.arg0;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_setBackgroundImage__P15778.info = {\"start\":1735,\"length\":135,\"line\":62,\"column\":4,\"endLine\":65,\"endColumn\":5,\"fileName\":\"pxt_modules/game/scenes.ts\",\"functionName\":\"setBackgroundImage\",\"argumentNames\":[\"img\"]}\n\nfunction scene_setBackgroundImage__P15778_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_setBackgroundImage__P15778, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  scene___22556: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_Background_image__P15690(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Background__C15687_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"_image\"] = (s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Background_image__P15690.info = {\"start\":1003,\"length\":68,\"line\":40,\"column\":8,\"endLine\":42,\"endColumn\":9,\"fileName\":\"pxt_modules/game/background.ts\",\"functionName\":\"image\",\"argumentNames\":[\"this\",\"image\"]}\n\nfunction scene_Background_image__P15690_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Background_image__P15690, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_Background_image__P15689(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Background__C15687_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = r0 = s.arg0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_6 = r0;\n    r0 = pxsim.image.create(s.tmp_5, s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"_image\"] = (s.tmp_4);\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"_image\"];\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Background_image__P15689.info = {\"start\":811,\"length\":174,\"line\":33,\"column\":8,\"endLine\":38,\"endColumn\":9,\"fileName\":\"pxt_modules/game/background.ts\",\"functionName\":\"image\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Background_image__P15689_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Background_image__P15689, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_Scene_destroy__P15769(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Scene__C15764_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"eventContext\"] = (undefined);\n    r0 = (s.arg0).fields[\"background\"] = (undefined);\n    r0 = (s.arg0).fields[\"tileMap\"] = (undefined);\n    r0 = (s.arg0).fields[\"allSprites\"] = (undefined);\n    r0 = (s.arg0).fields[\"spriteNextId\"] = (undefined);\n    r0 = (s.arg0).fields[\"spritesByKind\"] = (undefined);\n    r0 = (s.arg0).fields[\"physicsEngine\"] = (undefined);\n    r0 = (s.arg0).fields[\"camera\"] = (undefined);\n    r0 = (s.arg0).fields[\"flags\"] = (undefined);\n    r0 = (s.arg0).fields[\"destroyedHandlers\"] = (undefined);\n    r0 = (s.arg0).fields[\"createdHandlers\"] = (undefined);\n    r0 = (s.arg0).fields[\"overlapHandlers\"] = (undefined);\n    r0 = (s.arg0).fields[\"collisionHandlers\"] = (undefined);\n    r0 = (s.arg0).fields[\"gameForeverHandlers\"] = (undefined);\n    r0 = (s.arg0).fields[\"_data\"] = (undefined);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Scene_destroy__P15769.info = {\"start\":5933,\"length\":662,\"line\":173,\"column\":8,\"endLine\":189,\"endColumn\":9,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"destroy\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Scene_destroy__P15769_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Scene_destroy__P15769, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_highScore__P15641(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_1 = settings_readNumber__P15341_mk(s);\n    s.tmp_1.arg0 = \"high-score\";\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = s.tmp_2;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_highScore__P15641.info = {\"start\":7111,\"length\":98,\"line\":241,\"column\":4,\"endLine\":243,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"highScore\",\"argumentNames\":[]}\n\nfunction info_highScore__P15641_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_highScore__P15641, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction settings_readNumber__P15341(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.buf___22907 = undefined;\n    s.nums___22912 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim.settings._get(s.arg0);\n    s.buf___22907 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.buf___22907);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = undefined;\n    { step = 7; continue; }\n    { step = 6; continue; }\n  case 1:\n    s.tmp_2 = msgpack_unpackNumberArray__P14952_mk(s);\n    s.tmp_2.arg0 = s.buf___22907;\n    s.tmp_2.arg1 = 0;\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    s.nums___22912 = (r0);\n    s.tmp_0 = r0 = s.nums___22912;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 2; continue; }\n    r0 = s.tmp_0;\n    { step = 3; continue; }\n  case 2:\n    r0 = pxsim_Array__length(s.nums___22912);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 >= 1);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_Array__getAt(s.nums___22912, 0);\n    { step = 7; continue; }\n  case 4:\n  case 5:\n    r0 = undefined;\n    { step = 7; continue; }\n  case 6:\n    r0 = undefined;\n  case 7:\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_readNumber__P15341.info = {\"start\":2742,\"length\":313,\"line\":109,\"column\":4,\"endLine\":119,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"readNumber\",\"argumentNames\":[\"key\"]}\n\nfunction settings_readNumber__P15341_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_readNumber__P15341, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  buf___22907: undefined,\n  nums___22912: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction settings_readBuffer__P15339(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim.settings._get(s.arg0);\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_readBuffer__P15339.info = {\"start\":2371,\"length\":72,\"line\":91,\"column\":4,\"endLine\":93,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"readBuffer\",\"argumentNames\":[\"key\"]}\n\nfunction settings_readBuffer__P15339_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_readBuffer__P15339, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction msgpack_unpackNumberArray__P14952(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.res___22922 = undefined;\n    s.fmt___22928 = undefined;\n    s.v___22936 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.res___22922 = (r0);\n  case 1:\n    s.tmp_1 = r0 = s.arg1;\n    r0 = pxsim.BufferMethods.length(s.arg0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 10; continue; }\n    s.tmp_3 = r0 = s.arg1;\n    r0 = (s.tmp_3 + 1);\n    s.arg1 = (r0);\n    s.tmp_4 = msgpack_tagFormat__P14950_mk(s);\n    r0 = pxsim.BufferMethods.getByte(s.arg0, s.tmp_3);\n    s.tmp_4.arg0 = r0;\n    s.pc = 12; return s.tmp_4;\n  case 12:\n    r0 = s.retval;\n    s.fmt___22928 = (r0);\n    r0 = (s.fmt___22928 === null);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    s.tmp_1 = r0 = s.arg0;\n    r0 = (s.arg1 - 1);\n    s.tmp_2 = r0;\n    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 6, s.tmp_2);\n    s.v___22936 = (r0);\n    r0 = (-31 <= s.v___22936);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 2; continue; }\n    r0 = s.tmp_0;\n    { step = 3; continue; }\n  case 2:\n    r0 = (s.v___22936 <= 127);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_Array__push(s.res___22922, s.v___22936);\n    { step = 5; continue; }\n  case 4:\n    r0 = null;\n    { step = 11; continue; }\n  case 5:\n    { step = 7; continue; }\n  case 6:\n    s.tmp_0 = r0 = s.res___22922;\n    r0 = pxsim.BufferMethods.getNumber(s.arg0, s.fmt___22928, s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    s.tmp_0 = r0 = s.arg1;\n    s.tmp_2 = pins_sizeOf__P14941_mk(s);\n    s.tmp_2.arg0 = s.fmt___22928;\n    s.pc = 13; return s.tmp_2;\n  case 13:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.arg1 = (r0);\n  case 7:\n  case 8:\n    r0 = pxsim.BufferMethods.getByte(s.arg0, s.arg1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === 193);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    r0 = (s.arg1 + 1);\n    s.arg1 = (r0);\n    { step = 8; continue; }\n  case 9:\n    { step = 1; continue; }\n  case 10:\n    r0 = s.res___22922;\n  case 11:\n    return leave(s, r0)\n  default: oops()\n} } }\nmsgpack_unpackNumberArray__P14952.info = {\"start\":6107,\"length\":669,\"line\":193,\"column\":4,\"endLine\":213,\"endColumn\":5,\"fileName\":\"pxt_modules/base/buffer.ts\",\"functionName\":\"unpackNumberArray\",\"argumentNames\":[\"buf\",\"offset\"]}\n\nfunction msgpack_unpackNumberArray__P14952_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: msgpack_unpackNumberArray__P14952, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  res___22922: undefined,\n  fmt___22928: undefined,\n  v___22936: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction msgpack_tagFormat__P14950(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_pxtcore.switch_eq(203, s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = pxsim_pxtcore.switch_eq(204, s.tmp_0);\n    if (r0) { step = 2; continue; }\n    r0 = pxsim_pxtcore.switch_eq(205, s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore.switch_eq(206, s.tmp_0);\n    if (r0) { step = 4; continue; }\n    r0 = pxsim_pxtcore.switch_eq(208, s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = pxsim_pxtcore.switch_eq(209, s.tmp_0);\n    if (r0) { step = 6; continue; }\n    r0 = pxsim_pxtcore.switch_eq(210, s.tmp_0);\n    if (r0) { step = 7; continue; }\n    r0 = s.tmp_0;\n    { step = 8; continue; }\n  case 1:\n    r0 = 16;\n    { step = 9; continue; }\n  case 2:\n    r0 = 7;\n    { step = 9; continue; }\n  case 3:\n    r0 = 9;\n    { step = 9; continue; }\n  case 4:\n    r0 = 12;\n    { step = 9; continue; }\n  case 5:\n    r0 = 6;\n    { step = 9; continue; }\n  case 6:\n    r0 = 8;\n    { step = 9; continue; }\n  case 7:\n    r0 = 10;\n    { step = 9; continue; }\n  case 8:\n    r0 = null;\n    { step = 9; continue; }\n    r0 = undefined;\n  case 9:\n    return leave(s, r0)\n  default: oops()\n} } }\nmsgpack_tagFormat__P14950.info = {\"start\":4602,\"length\":481,\"line\":144,\"column\":4,\"endLine\":156,\"endColumn\":5,\"fileName\":\"pxt_modules/base/buffer.ts\",\"functionName\":\"tagFormat\",\"argumentNames\":[\"tag\"]}\n\nfunction msgpack_tagFormat__P14950_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: msgpack_tagFormat__P14950, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction pins_sizeOf__P14941(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);\n    if (r0) { step = 2; continue; }\n    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);\n    if (r0) { step = 4; continue; }\n    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);\n    if (r0) { step = 6; continue; }\n    r0 = pxsim_pxtcore.switch_eq(8, s.tmp_0);\n    if (r0) { step = 7; continue; }\n    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);\n    if (r0) { step = 8; continue; }\n    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);\n    if (r0) { step = 9; continue; }\n    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);\n    if (r0) { step = 10; continue; }\n    r0 = pxsim_pxtcore.switch_eq(12, s.tmp_0);\n    if (r0) { step = 11; continue; }\n    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);\n    if (r0) { step = 12; continue; }\n    r0 = pxsim_pxtcore.switch_eq(15, s.tmp_0);\n    if (r0) { step = 13; continue; }\n    r0 = pxsim_pxtcore.switch_eq(13, s.tmp_0);\n    if (r0) { step = 14; continue; }\n    r0 = pxsim_pxtcore.switch_eq(16, s.tmp_0);\n    if (r0) { step = 15; continue; }\n    r0 = pxsim_pxtcore.switch_eq(14, s.tmp_0);\n    if (r0) { step = 16; continue; }\n    r0 = s.tmp_0;\n    { step = 17; continue; }\n  case 1:\n  case 2:\n  case 3:\n  case 4:\n    r0 = 1;\n    { step = 18; continue; }\n  case 5:\n  case 6:\n  case 7:\n  case 8:\n    r0 = 2;\n    { step = 18; continue; }\n  case 9:\n  case 10:\n  case 11:\n  case 12:\n  case 13:\n  case 14:\n    r0 = 4;\n    { step = 18; continue; }\n  case 15:\n  case 16:\n    r0 = 8;\n    { step = 18; continue; }\n  case 17:\n    r0 = 0;\n  case 18:\n    return leave(s, r0)\n  default: oops()\n} } }\npins_sizeOf__P14941.info = {\"start\":102,\"length\":844,\"line\":5,\"column\":4,\"endLine\":29,\"endColumn\":5,\"fileName\":\"pxt_modules/base/buffer.ts\",\"functionName\":\"sizeOf\",\"argumentNames\":[\"format\"]}\n\nfunction pins_sizeOf__P14941_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: pins_sizeOf__P14941, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_saveHighScore__P15638(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.hs___22742 = undefined;\n    s.curr___22758 = undefined;\n    r0 = pxsim_numops_toBoolDecr(globals.players___15587);\n    if (!r0) { step = 5; continue; }\n    r0 = pxsim_pxtrt.mklocRef();\n    s.hs___22742 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.hs___22742, 0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P22751);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.hs___22742);\n    s.tmp_1 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_2 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_2.arg0 = globals.players___15587;\n    s.tmp_2.arg1 = inline__P22746;\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    s.tmp_0 = settings_readNumber__P15341_mk(s);\n    s.tmp_0.arg0 = \"high-score\";\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.curr___22758 = (r0);\n    r0 = (s.curr___22758 == null);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_pxtrt_ldlocRef(s.hs___22742);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > s.curr___22758);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 3; continue; }\n    s.tmp_3 = settings_writeNumber__P15337_mk(s);\n    s.tmp_3.arg0 = \"high-score\";\n    r0 = pxsim_pxtrt_ldlocRef(s.hs___22742);\n    s.tmp_3.arg1 = r0;\n    s.pc = 10; return s.tmp_3;\n  case 10:\n    r0 = s.retval;\n  case 3:\n  case 4:\n  case 5:\n  case 6:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_saveHighScore__P15638.info = {\"start\":6212,\"length\":383,\"line\":205,\"column\":4,\"endLine\":215,\"endColumn\":5,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"saveHighScore\",\"argumentNames\":[]}\n\nfunction info_saveHighScore__P15638_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_saveHighScore__P15638, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  hs___22742: undefined,\n  curr___22758: undefined,\n} }\n\n\n\n\n\nfunction inline__P22746(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_1 = info_PlayerInfo_hasScore__P15671_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = s.tmp_2;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22746.info = {\"start\":6337,\"length\":22,\"line\":209,\"column\":24,\"endLine\":209,\"endColumn\":46,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"p\"]}\n\nfunction inline__P22746_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22746, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P22751(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.caps[0];\n    s.tmp_2 = Math_max__P14902_mk(s);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_2.arg0 = r0;\n    s.tmp_3 = info_PlayerInfo_score__P15668_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 2; return s.tmp_3;\n  case 2:\n    r0 = s.retval;\n    s.tmp_2.arg1 = r0;\n    s.pc = 1; return s.tmp_2;\n  case 1:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    r0 = s.tmp_1;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22751.info = {\"start\":6386,\"length\":33,\"line\":210,\"column\":25,\"endLine\":210,\"endColumn\":58,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"p\"]}\n\nfunction inline__P22751_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22751, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction settings_writeNumber__P15337(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.arg1);\n    s.tmp_1 = settings_writeBuffer__P15335_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_2 = msgpack_packNumberArray__P14953_mk(s);\n    s.tmp_2.arg0 = s.tmp_0;\n    s.pc = 2; return s.tmp_2;\n  case 2:\n    r0 = s.retval;\n    s.tmp_1.arg1 = r0;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_writeNumber__P15337.info = {\"start\":1942,\"length\":122,\"line\":77,\"column\":4,\"endLine\":79,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"writeNumber\",\"argumentNames\":[\"key\",\"value\"]}\n\nfunction settings_writeNumber__P15337_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_writeNumber__P15337, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction settings_writeBuffer__P15335(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim.settings._set(s.arg0, s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.settings._userClean();\n    r0 = pxsim_pxtrt.panic(920);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_writeBuffer__P15335.info = {\"start\":1393,\"length\":290,\"line\":58,\"column\":4,\"endLine\":65,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"writeBuffer\",\"argumentNames\":[\"key\",\"value\"]}\n\nfunction settings_writeBuffer__P15335_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_writeBuffer__P15335, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction msgpack_packNumberArray__P14953(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.off___22775 = undefined;\n    s.n___22777 = undefined;\n    s.unnamed112___U2 = undefined;\n    s.unnamed113___U3 = undefined;\n    s.buf___22786 = undefined;\n    s.n___22792 = undefined;\n    s.unnamed114___U6 = undefined;\n    s.unnamed115___U7 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.off___22775 = (0);\n    s.n___22777 = (undefined);\n    s.n___22777 = (undefined);\n    s.unnamed112___U2 = (s.arg0);\n    s.unnamed113___U3 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed113___U3;\n    r0 = pxsim_Array__length(s.unnamed112___U2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 2; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed112___U2, s.unnamed113___U3);\n    s.n___22777 = (r0);\n    s.tmp_2 = r0 = s.off___22775;\n    s.tmp_4 = msgpack_packNumberCore__P14951_mk(s);\n    s.tmp_4.arg0 = null;\n    s.tmp_4.arg1 = s.off___22775;\n    s.tmp_4.arg2 = s.n___22777;\n    s.pc = 5; return s.tmp_4;\n  case 5:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.off___22775 = (r0);\n    r0 = (s.unnamed113___U3 + 1);\n    s.unnamed113___U3 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.unnamed112___U2 = (undefined);\n    r0 = pxsim.control.createBuffer(s.off___22775);\n    s.buf___22786 = (r0);\n    s.off___22775 = (0);\n    s.n___22792 = (undefined);\n    s.n___22792 = (undefined);\n    s.unnamed114___U6 = (s.arg0);\n    s.unnamed115___U7 = (0);\n  case 3:\n    s.tmp_0 = r0 = s.unnamed115___U7;\n    r0 = pxsim_Array__length(s.unnamed114___U6);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed114___U6, s.unnamed115___U7);\n    s.n___22792 = (r0);\n    s.tmp_2 = r0 = s.off___22775;\n    s.tmp_4 = msgpack_packNumberCore__P14951_mk(s);\n    s.tmp_4.arg0 = s.buf___22786;\n    s.tmp_4.arg1 = s.off___22775;\n    s.tmp_4.arg2 = s.n___22792;\n    s.pc = 6; return s.tmp_4;\n  case 6:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.off___22775 = (r0);\n    r0 = (s.unnamed115___U7 + 1);\n    s.unnamed115___U7 = (r0);\n    { step = 3; continue; }\n  case 4:\n    s.unnamed114___U6 = (undefined);\n    r0 = s.buf___22786;\n    return leave(s, r0)\n  default: oops()\n} } }\nmsgpack_packNumberArray__P14953.info = {\"start\":6884,\"length\":337,\"line\":219,\"column\":4,\"endLine\":230,\"endColumn\":5,\"fileName\":\"pxt_modules/base/buffer.ts\",\"functionName\":\"packNumberArray\",\"argumentNames\":[\"nums\"]}\n\nfunction msgpack_packNumberArray__P14953_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: msgpack_packNumberArray__P14953, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  off___22775: undefined,\n  n___22777: undefined,\n  unnamed112___U2: undefined,\n  unnamed113___U3: undefined,\n  buf___22786: undefined,\n  n___22792: undefined,\n  unnamed114___U6: undefined,\n  unnamed115___U7: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction msgpack_packNumberCore__P14951(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tag___22805 = undefined;\n    s.fmt___22833 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    s.tag___22805 = (203);\n    s.tmp_1 = r0 = s.arg2;\n    r0 = (s.arg2 << 0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 == s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_3 = r0 = s.arg2;\n    r0 = (s.arg2 >>> 0);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 == s.tmp_4);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 19; continue; }\n    r0 = (-31 <= s.arg2);\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_6);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_6;\n    { step = 4; continue; }\n  case 3:\n    r0 = (s.arg2 <= 127);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_7);\n    if (!r0) { step = 7; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    if (!r0) { step = 5; continue; }\n    r0 = pxsim.BufferMethods.setByte(s.arg0, s.arg1, s.arg2);\n  case 5:\n  case 6:\n    r0 = 1;\n    { step = 23; continue; }\n    { step = 18; continue; }\n  case 7:\n    r0 = (0 <= s.arg2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 12; continue; }\n    r0 = (s.arg2 <= 255);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 8; continue; }\n    s.tag___22805 = (204);\n    { step = 11; continue; }\n  case 8:\n    r0 = (s.arg2 <= 65535);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    s.tag___22805 = (205);\n    { step = 10; continue; }\n  case 9:\n    s.tag___22805 = (206);\n  case 10:\n  case 11:\n    { step = 17; continue; }\n  case 12:\n    r0 = (-127 <= s.arg2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 13; continue; }\n    s.tag___22805 = (208);\n    { step = 16; continue; }\n  case 13:\n    r0 = (-32767 <= s.arg2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 14; continue; }\n    s.tag___22805 = (209);\n    { step = 15; continue; }\n  case 14:\n    s.tag___22805 = (210);\n  case 15:\n  case 16:\n  case 17:\n  case 18:\n  case 19:\n  case 20:\n    s.tmp_0 = msgpack_tagFormat__P14950_mk(s);\n    s.tmp_0.arg0 = s.tag___22805;\n    s.pc = 24; return s.tmp_0;\n  case 24:\n    r0 = s.retval;\n    s.fmt___22833 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    if (!r0) { step = 21; continue; }\n    r0 = pxsim.BufferMethods.setByte(s.arg0, s.arg1, s.tag___22805);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_1 = r0 = s.fmt___22833;\n    r0 = (s.arg1 + 1);\n    s.tmp_2 = r0;\n    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, s.tmp_1, s.tmp_2, s.arg2);\n  case 21:\n  case 22:\n    s.tmp_1 = pins_sizeOf__P14941_mk(s);\n    s.tmp_1.arg0 = s.fmt___22833;\n    s.pc = 25; return s.tmp_1;\n  case 25:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 1);\n  case 23:\n    return leave(s, r0)\n  default: oops()\n} } }\nmsgpack_packNumberCore__P14951.info = {\"start\":5089,\"length\":951,\"line\":158,\"column\":4,\"endLine\":188,\"endColumn\":5,\"fileName\":\"pxt_modules/base/buffer.ts\",\"functionName\":\"packNumberCore\",\"argumentNames\":[\"buf\",\"offset\",\"num\"]}\n\nfunction msgpack_packNumberCore__P14951_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: msgpack_packNumberCore__P14951, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tag___22805: undefined,\n  fmt___22833: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction music_Melody_play__P15198(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_Melody__C15190_VT)) failedCast(r0);\n    s.tmp_0 = music_Melody_playCore__P15196_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = false;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_Melody_play__P15198.info = {\"start\":8825,\"length\":71,\"line\":277,\"column\":8,\"endLine\":279,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"play\",\"argumentNames\":[\"this\",\"volume\"]}\n\nfunction music_Melody_play__P15198_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_Melody_play__P15198, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction music_Melody_playCore__P15196(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.p___22029 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_Melody__C15190_VT)) failedCast(r0);\n    s.tmp_0 = music_Melody_stop__P15193_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkClassInstance(music_MelodyPlayer__C15204_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = music_MelodyPlayer_constructor__P15207_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"_player\"] = (s.tmp_0);\n    s.p___22029 = (s.tmp_0);\n    s.tmp_0 = music_Melody_registerMelody__P15194_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(4, inline__P22038);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.p___22029);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg1);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.arg2);\n    r0 = pxsim.control.runInParallel(s.tmp_0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_Melody_playCore__P15196.info = {\"start\":7649,\"length\":434,\"line\":241,\"column\":8,\"endLine\":253,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"playCore\",\"argumentNames\":[\"this\",\"volume\",\"loop\"]}\n\nfunction music_Melody_playCore__P15196_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_Melody_playCore__P15196, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  p___22029: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction inline__P22038(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n  case 1:\n    r0 = s.caps[0].fields[\"_player\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == s.caps[1]);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_2 = music_MelodyPlayer_play__P15206_mk(s);\n    s.tmp_2.arg0 = s.caps[1];\n    s.tmp_2.arg1 = s.caps[2];\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.caps[3]);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    { step = 4; continue; }\n  case 2:\n  case 3:\n    { step = 1; continue; }\n  case 4:\n    s.tmp_2 = music_Melody_unregisterMelody__P15195_mk(s);\n    s.tmp_2.arg0 = s.caps[0];\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22038.info = {\"start\":7852,\"length\":220,\"line\":245,\"column\":34,\"endLine\":252,\"endColumn\":13,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P22038_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22038, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction music_MelodyPlayer_constructor__P15207(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_MelodyPlayer__C15204_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"melody\"] = (s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_MelodyPlayer_constructor__P15207.info = {\"start\":10674,\"length\":62,\"line\":328,\"column\":8,\"endLine\":330,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"m\"]}\n\nfunction music_MelodyPlayer_constructor__P15207_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_MelodyPlayer_constructor__P15207, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction music_MelodyPlayer_play__P15206(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.notes___22062 = undefined;\n    s.pos___22066 = undefined;\n    s.duration___22067 = undefined;\n    s.octave___22068 = undefined;\n    s.tempo___22069 = undefined;\n    s.hz___22070 = undefined;\n    s.endHz___22071 = undefined;\n    s.ms___22073 = undefined;\n    s.timePos___22074 = undefined;\n    s.startTime___22075 = undefined;\n    s.now___22078 = undefined;\n    s.envA___22079 = undefined;\n    s.envD___22080 = undefined;\n    s.envS___22081 = undefined;\n    s.envR___22082 = undefined;\n    s.soundWave___22083 = undefined;\n    s.sndInstr___22084 = undefined;\n    s.sndInstrPtr___22088 = undefined;\n    s.addForm___22089 = undefined;\n    s.scanNextWord___22138 = undefined;\n    s.token___22182 = undefined;\n    s.tokenKind___22183 = undefined;\n    s.consumeToken___22186 = undefined;\n    s.currNote___22257 = undefined;\n    s.prevNote___22259 = undefined;\n    s.timeLeft___22261 = undefined;\n    s.note___22274 = undefined;\n    s.i___22278 = undefined;\n    s.noteChar___22283 = undefined;\n    s.keyNumber___22355 = undefined;\n    s.currMs___22365 = undefined;\n    s.beat___22368 = undefined;\n    s.timeLeft___22415 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_MelodyPlayer__C15204_VT)) failedCast(r0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.arg1);\n    s.arg1 = (s.tmp_0);\n    r0 = s.arg0.fields[\"melody\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 1; continue; }\n    { step = 59; continue; }\n  case 1:\n  case 2:\n    s.tmp_4 = r0 = s.arg1;\n    s.tmp_6 = Math_clamp__P14899_mk(s);\n    s.tmp_6.arg0 = 0;\n    s.tmp_6.arg1 = 255;\n    r0 = pxsim_pxtrt_ldlocRef(s.arg1);\n    s.tmp_8 = r0;\n    s.tmp_10 = music_volume__P15183_mk(s);\n    s.pc = 61; return s.tmp_10;\n  case 61:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = (s.tmp_8 * s.tmp_9);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 >> 8);\n    s.tmp_6.arg2 = r0;\n    s.pc = 60; return s.tmp_6;\n  case 60:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);\n    r0 = s.arg0.fields[\"melody\"];\n    r0 = r0.fields[\"_text\"];\n    s.notes___22062 = (r0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.pos___22066 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.pos___22066, 0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.duration___22067 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.duration___22067, 4);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.octave___22068 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.octave___22068, 4);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.tempo___22069 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.tempo___22069, 120);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.hz___22070 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.hz___22070, 0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.endHz___22071 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.endHz___22071, -1);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.ms___22073 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.ms___22073, 0);\n    s.timePos___22074 = (0);\n    r0 = pxsim.control.millis();\n    s.startTime___22075 = (r0);\n    s.now___22078 = (0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.envA___22079 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.envA___22079, 0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.envD___22080 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.envD___22080, 0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.envS___22081 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.envS___22081, 255);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.envR___22082 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.envR___22082, 0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.soundWave___22083 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.soundWave___22083, 1);\n    r0 = (5 * 12);\n    s.tmp_0 = r0;\n    r0 = pxsim.control.createBuffer(s.tmp_0);\n    s.sndInstr___22084 = (r0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.sndInstrPtr___22088 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.sndInstrPtr___22088, 0);\n    r0 = pxsim_pxtcore_mkAction(10, inline__P22090);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.hz___22070);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.endHz___22071);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.ms___22073);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.duration___22067);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.tempo___22069);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 5, s.envR___22082);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 6, s.sndInstrPtr___22088);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 7, s.sndInstr___22084);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 8, s.soundWave___22083);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 9, s.arg1);\n    s.addForm___22089 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkAction(3, inline__P22139);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.pos___22066);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.notes___22062);\n    s.scanNextWord___22138 = (s.tmp_0);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.token___22182 = (r0);\n    s.tmp_0 = r0 = s.token___22182;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    r0 = pxsim_pxtrt.mklocRef();\n    s.tokenKind___22183 = (r0);\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 0);\n    r0 = pxsim_pxtcore_mkAction(13, inline__P22187);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.token___22182);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.tokenKind___22183);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.octave___22068);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.duration___22067);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.ms___22073);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 5, s.tempo___22069);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 6, s.hz___22070);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 7, s.soundWave___22083);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 8, s.envA___22079);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 9, s.envD___22080);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 10, s.envS___22081);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 11, s.envR___22082);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 12, s.endHz___22071);\n    s.consumeToken___22186 = (s.tmp_0);\n  case 3:\n    r0 = pxsim_numops_toBoolDecr(true);\n    if (!r0) { step = 58; continue; }\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.scanNextWord___22138;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 62; return s.tmp_0;\n  case 62:\n    r0 = s.retval;\n    s.currNote___22257 = (r0);\n    s.prevNote___22259 = (false);\n    r0 = pxsim_numops_toBoolDecr(s.currNote___22257);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 8; continue; }\n    r0 = (s.timePos___22074 - s.now___22078);\n    s.timeLeft___22261 = (r0);\n    r0 = (s.timeLeft___22261 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_1 = pause__P15082_mk(s);\n    s.tmp_1.arg0 = s.timeLeft___22261;\n    s.pc = 63; return s.tmp_1;\n  case 63:\n    r0 = s.retval;\n  case 4:\n  case 5:\n    r0 = s.arg0.fields[\"onPlayFinished\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    s.tmp_1 = lambda_1_mk(s);\n    r0 = s.arg0.fields[\"onPlayFinished\"];\n    s.tmp_1.argL = r0;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 64; return s.tmp_1;\n  case 64:\n    r0 = s.retval;\n  case 6:\n  case 7:\n    { step = 59; continue; }\n  case 8:\n  case 9:\n    r0 = pxsim_pxtrt_stlocRef(s.hz___22070, -1);\n    s.note___22274 = (0);\n    s.tmp_0 = r0 = s.token___22182;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 0);\n    s.i___22278 = (0);\n  case 10:\n    s.tmp_1 = r0 = s.i___22278;\n    r0 = pxsim_String_.length(s.currNote___22257);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 41; continue; }\n    r0 = pxsim_String_.charAt(s.currNote___22257, s.i___22278);\n    s.noteChar___22283 = (r0);\n    s.tmp_0 = r0 = s.noteChar___22283;\n    r0 = pxsim_pxtcore.switch_eq(\"c\", s.tmp_0);\n    if (r0) { step = 11; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"C\", s.tmp_0);\n    if (r0) { step = 12; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"d\", s.tmp_0);\n    if (r0) { step = 13; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"D\", s.tmp_0);\n    if (r0) { step = 14; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"e\", s.tmp_0);\n    if (r0) { step = 15; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"E\", s.tmp_0);\n    if (r0) { step = 16; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"f\", s.tmp_0);\n    if (r0) { step = 17; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"F\", s.tmp_0);\n    if (r0) { step = 18; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"g\", s.tmp_0);\n    if (r0) { step = 19; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"G\", s.tmp_0);\n    if (r0) { step = 20; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"a\", s.tmp_0);\n    if (r0) { step = 21; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"A\", s.tmp_0);\n    if (r0) { step = 22; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"B\", s.tmp_0);\n    if (r0) { step = 23; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"r\", s.tmp_0);\n    if (r0) { step = 24; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"R\", s.tmp_0);\n    if (r0) { step = 25; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"#\", s.tmp_0);\n    if (r0) { step = 26; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"b\", s.tmp_0);\n    if (r0) { step = 27; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\",\", s.tmp_0);\n    if (r0) { step = 30; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"!\", s.tmp_0);\n    if (r0) { step = 31; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"@\", s.tmp_0);\n    if (r0) { step = 32; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"~\", s.tmp_0);\n    if (r0) { step = 33; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\":\", s.tmp_0);\n    if (r0) { step = 34; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"-\", s.tmp_0);\n    if (r0) { step = 35; continue; }\n    r0 = pxsim_pxtcore.switch_eq(\"^\", s.tmp_0);\n    if (r0) { step = 36; continue; }\n    r0 = s.tmp_0;\n    { step = 37; continue; }\n  case 11:\n  case 12:\n    s.note___22274 = (1);\n    s.prevNote___22259 = (true);\n    { step = 40; continue; }\n  case 13:\n  case 14:\n    s.note___22274 = (3);\n    s.prevNote___22259 = (true);\n    { step = 40; continue; }\n  case 15:\n  case 16:\n    s.note___22274 = (5);\n    s.prevNote___22259 = (true);\n    { step = 40; continue; }\n  case 17:\n  case 18:\n    s.note___22274 = (6);\n    s.prevNote___22259 = (true);\n    { step = 40; continue; }\n  case 19:\n  case 20:\n    s.note___22274 = (8);\n    s.prevNote___22259 = (true);\n    { step = 40; continue; }\n  case 21:\n  case 22:\n    s.note___22274 = (10);\n    s.prevNote___22259 = (true);\n    { step = 40; continue; }\n  case 23:\n    s.note___22274 = (12);\n    s.prevNote___22259 = (true);\n    { step = 40; continue; }\n  case 24:\n  case 25:\n    r0 = pxsim_pxtrt_stlocRef(s.hz___22070, 0);\n    s.prevNote___22259 = (false);\n    { step = 40; continue; }\n  case 26:\n    r0 = (s.note___22274 + 1);\n    s.note___22274 = (r0);\n    s.prevNote___22259 = (false);\n    { step = 40; continue; }\n  case 27:\n    r0 = pxsim_numops_toBoolDecr(s.prevNote___22259);\n    if (!r0) { step = 28; continue; }\n    r0 = (s.note___22274 - 1);\n    s.note___22274 = (r0);\n    { step = 29; continue; }\n  case 28:\n    s.note___22274 = (12);\n    s.prevNote___22259 = (true);\n  case 29:\n    { step = 40; continue; }\n  case 30:\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.consumeToken___22186;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 65; return s.tmp_0;\n  case 65:\n    r0 = s.retval;\n    s.prevNote___22259 = (false);\n    { step = 40; continue; }\n  case 31:\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 4);\n    s.prevNote___22259 = (false);\n    { step = 40; continue; }\n  case 32:\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.consumeToken___22186;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 66; return s.tmp_0;\n  case 66:\n    r0 = s.retval;\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 8);\n    s.prevNote___22259 = (false);\n    { step = 40; continue; }\n  case 33:\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.consumeToken___22186;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 67; return s.tmp_0;\n  case 67:\n    r0 = s.retval;\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 7);\n    s.prevNote___22259 = (false);\n    { step = 40; continue; }\n  case 34:\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.consumeToken___22186;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 68; return s.tmp_0;\n  case 68:\n    r0 = s.retval;\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 2);\n    s.prevNote___22259 = (false);\n    { step = 40; continue; }\n  case 35:\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.consumeToken___22186;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 69; return s.tmp_0;\n  case 69:\n    r0 = s.retval;\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 3);\n    s.prevNote___22259 = (false);\n    { step = 40; continue; }\n  case 36:\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.consumeToken___22186;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 70; return s.tmp_0;\n  case 70:\n    r0 = s.retval;\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 5);\n    { step = 40; continue; }\n  case 37:\n    r0 = pxsim_pxtrt_ldlocRef(s.tokenKind___22183);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 38; continue; }\n    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___22183, 1);\n  case 38:\n  case 39:\n    s.tmp_0 = r0 = s.token___22182;\n    r0 = pxsim_pxtrt_ldlocRef(s.token___22182);\n    s.tmp_3 = r0;\n    if ((s.tmp_3) && (s.tmp_3).vtable) {\n    setupResume(s, 71);\n    pxsim_String__stringConv(s.tmp_3);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_3) + \"\"; }\n  case 71:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    if ((s.noteChar___22283) && (s.noteChar___22283).vtable) {\n    setupResume(s, 72);\n    pxsim_String__stringConv(s.noteChar___22283);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.noteChar___22283) + \"\"; }\n  case 72:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, s.tmp_4);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    s.prevNote___22259 = (false);\n  case 40:\n    r0 = (s.i___22278 + 1);\n    s.i___22278 = (r0);\n    { step = 10; continue; }\n  case 41:\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.consumeToken___22186;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 73; return s.tmp_0;\n  case 73:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.note___22274;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 42; continue; }\n    r0 = s.tmp_0;\n    { step = 43; continue; }\n  case 42:\n    r0 = pxsim_pxtrt_ldlocRef(s.hz___22070);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n  case 43:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 46; continue; }\n    s.tmp_3 = r0 = s.note___22274;\n    r0 = pxsim_pxtrt_ldlocRef(s.octave___22068);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 - 1);\n    s.tmp_5 = r0;\n    r0 = (12 * s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 + s.tmp_4);\n    s.keyNumber___22355 = (r0);\n    s.tmp_1 = r0 = globals.freqs___15174;\n    r0 = (s.keyNumber___22355 * 2);\n    s.tmp_2 = r0;\n    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 44; continue; }\n    r0 = s.tmp_0;\n    { step = 45; continue; }\n  case 44:\n    r0 = 0;\n  case 45:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.hz___22070, s.tmp_3);\n  case 46:\n  case 47:\n    r0 = pxsim_pxtrt_ldlocRef(s.ms___22073);\n    s.currMs___22365 = (r0);\n    r0 = (s.currMs___22365 <= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 48; continue; }\n    r0 = pxsim_pxtrt_ldlocRef(s.tempo___22069);\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.idiv(15000, s.tmp_1);\n    s.beat___22368 = (r0);\n    r0 = pxsim_pxtrt_ldlocRef(s.duration___22067);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 * s.beat___22368);\n    s.currMs___22365 = (r0);\n  case 48:\n  case 49:\n    r0 = pxsim_pxtrt_ldlocRef(s.hz___22070);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 50; continue; }\n    { step = 55; continue; }\n  case 50:\n    r0 = pxsim_pxtrt_ldlocRef(s.hz___22070);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 == 0);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 51; continue; }\n    r0 = (s.timePos___22074 + s.currMs___22365);\n    s.timePos___22074 = (r0);\n    { step = 54; continue; }\n  case 51:\n    r0 = pxsim_pxtrt_ldlocRef(s.endHz___22071);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 52; continue; }\n    s.tmp_2 = r0 = s.endHz___22071;\n    r0 = pxsim_pxtrt_ldlocRef(s.hz___22070);\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_2, s.tmp_3);\n  case 52:\n  case 53:\n    r0 = pxsim_pxtrt_stlocRef(s.sndInstrPtr___22088, 0);\n    s.tmp_0 = lambda_5_mk(s);\n    s.tmp_0.argL = s.addForm___22089;\n    r0 = pxsim_pxtrt_ldlocRef(s.envA___22079);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = 0;\n    s.tmp_0.arg2 = 255;\n    s.tmp_0.arg3 = 0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 74; return s.tmp_0;\n  case 74:\n    r0 = s.retval;\n    s.tmp_0 = lambda_5_mk(s);\n    s.tmp_0.argL = s.addForm___22089;\n    r0 = pxsim_pxtrt_ldlocRef(s.envD___22080);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = 255;\n    r0 = pxsim_pxtrt_ldlocRef(s.envS___22081);\n    s.tmp_0.arg2 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.envA___22079);\n    s.tmp_0.arg3 = r0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 75; return s.tmp_0;\n  case 75:\n    r0 = s.retval;\n    s.tmp_0 = lambda_5_mk(s);\n    s.tmp_0.argL = s.addForm___22089;\n    s.tmp_1 = r0 = s.currMs___22365;\n    r0 = pxsim_pxtrt_ldlocRef(s.envA___22079);\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.envD___22080);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 + s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 - s.tmp_2);\n    s.tmp_0.arg0 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.envS___22081);\n    s.tmp_0.arg1 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.envS___22081);\n    s.tmp_0.arg2 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.envD___22080);\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.envA___22079);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 + s.tmp_6);\n    s.tmp_0.arg3 = r0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 76; return s.tmp_0;\n  case 76:\n    r0 = s.retval;\n    s.tmp_0 = lambda_5_mk(s);\n    s.tmp_0.argL = s.addForm___22089;\n    r0 = pxsim_pxtrt_ldlocRef(s.envR___22082);\n    s.tmp_0.arg0 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.envS___22081);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 0;\n    s.tmp_0.arg3 = s.currMs___22365;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 77; return s.tmp_0;\n  case 77:\n    r0 = s.retval;\n    r0 = (s.timePos___22074 - s.now___22078);\n    s.tmp_0 = r0;\n    s.tmp_2 = r0 = s.sndInstr___22084;\n    r0 = pxsim_pxtrt_ldlocRef(s.sndInstrPtr___22088);\n    s.tmp_3 = r0;\n    r0 = pxsim.BufferMethods.slice(s.tmp_2, 0, s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = pxsim.music.queuePlayInstructions(s.tmp_0, s.tmp_1);\n    r0 = pxsim_pxtrt_stlocRef(s.endHz___22071, -1);\n    r0 = (s.timePos___22074 + s.currMs___22365);\n    s.timePos___22074 = (r0);\n  case 54:\n  case 55:\n    r0 = (s.timePos___22074 - s.now___22078);\n    s.timeLeft___22415 = (r0);\n    r0 = (s.timeLeft___22415 > 200);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 56; continue; }\n    s.tmp_1 = pause__P15082_mk(s);\n    r0 = (s.timeLeft___22415 - 100);\n    s.tmp_1.arg0 = r0;\n    s.pc = 78; return s.tmp_1;\n  case 78:\n    r0 = s.retval;\n    r0 = pxsim.control.millis();\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - s.startTime___22075);\n    s.now___22078 = (r0);\n  case 56:\n  case 57:\n    { step = 3; continue; }\n  case 58:\n  case 59:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_MelodyPlayer_play__P15206.info = {\"start\":10805,\"length\":9001,\"line\":336,\"column\":8,\"endLine\":567,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"play\",\"argumentNames\":[\"this\",\"volume\"]}\n\nfunction music_MelodyPlayer_play__P15206_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_MelodyPlayer_play__P15206, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  notes___22062: undefined,\n  pos___22066: undefined,\n  duration___22067: undefined,\n  octave___22068: undefined,\n  tempo___22069: undefined,\n  hz___22070: undefined,\n  endHz___22071: undefined,\n  ms___22073: undefined,\n  timePos___22074: undefined,\n  startTime___22075: undefined,\n  now___22078: undefined,\n  envA___22079: undefined,\n  envD___22080: undefined,\n  envS___22081: undefined,\n  envR___22082: undefined,\n  soundWave___22083: undefined,\n  sndInstr___22084: undefined,\n  sndInstrPtr___22088: undefined,\n  addForm___22089: undefined,\n  scanNextWord___22138: undefined,\n  token___22182: undefined,\n  tokenKind___22183: undefined,\n  consumeToken___22186: undefined,\n  currNote___22257: undefined,\n  prevNote___22259: undefined,\n  timeLeft___22261: undefined,\n  note___22274: undefined,\n  i___22278: undefined,\n  noteChar___22283: undefined,\n  keyNumber___22355: undefined,\n  currMs___22365: undefined,\n  beat___22368: undefined,\n  timeLeft___22415: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P22090(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.freqStart___22095 = undefined;\n    s.freqEnd___22097 = undefined;\n    s.envelopeWidth___22099 = undefined;\n    s.slope___22112 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.freqStart___22095 = (r0);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.freqEnd___22097 = (r0);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[3]);\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[4]);\n    s.tmp_5 = r0;\n    r0 = pxsim.Math_.idiv(15000, s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 * s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[5]);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_2 + s.tmp_6);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    s.envelopeWidth___22099 = (s.tmp_7);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 != s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = (s.envelopeWidth___22099 != 0);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 5; continue; }\n    r0 = (s.freqEnd___22097 - s.freqStart___22095);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 / s.envelopeWidth___22099);\n    s.slope___22112 = (r0);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_0 = r0;\n    r0 = (s.slope___22112 * s.arg3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.freqStart___22095 = (r0);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_0 = r0;\n    s.tmp_2 = r0 = s.slope___22112;\n    r0 = (s.arg3 + s.arg0);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 * s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    s.freqEnd___22097 = (r0);\n  case 5:\n  case 6:\n    s.tmp_0 = r0 = s.caps[6];\n    s.tmp_2 = music_addNote__P15203_mk(s);\n    s.tmp_2.arg0 = s.caps[7];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[6]);\n    s.tmp_2.arg1 = r0;\n    s.tmp_2.arg2 = s.arg0;\n    s.tmp_2.arg3 = s.arg1;\n    s.tmp_2.arg4 = s.arg2;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[8]);\n    s.tmp_2.arg5 = r0;\n    s.tmp_2.arg6 = s.freqStart___22095;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[9]);\n    s.tmp_2.arg7 = r0;\n    s.tmp_2.arg8 = s.freqEnd___22097;\n    s.pc = 7; return s.tmp_2;\n  case 7:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22090.info = {\"start\":11613,\"length\":643,\"line\":362,\"column\":28,\"endLine\":373,\"endColumn\":13,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"formDuration\",\"beg\",\"end\",\"msOff\"]}\n\nfunction inline__P22090_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22090, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  freqStart___22095: undefined,\n  freqEnd___22097: undefined,\n  envelopeWidth___22099: undefined,\n  slope___22112: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction inline__P22139(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.c___22146 = undefined;\n    s.note___22158 = undefined;\n    s.c___22163 = undefined;\n    r0 = s.caps[0].fields[\"melody\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_String_.mkEmpty();\n    { step = 23; continue; }\n  case 1:\n  case 2:\n  case 3:\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_4 = r0;\n    r0 = pxsim_String_.length(s.caps[2]);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 < s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 12; continue; }\n    s.tmp_6 = r0 = s.caps[2];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_7 = r0;\n    r0 = pxsim_String_.charAt(s.tmp_6, s.tmp_7);\n    s.c___22146 = (r0);\n    r0 = (s.c___22146 != \" \");\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 4; continue; }\n    r0 = s.tmp_0;\n    { step = 5; continue; }\n  case 4:\n    r0 = (s.c___22146 != \"\\\\r\");\n  case 5:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (r0) { step = 6; continue; }\n    r0 = s.tmp_1;\n    { step = 7; continue; }\n  case 6:\n    r0 = (s.c___22146 != \"\\\\n\");\n  case 7:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_2);\n    if (r0) { step = 8; continue; }\n    r0 = s.tmp_2;\n    { step = 9; continue; }\n  case 8:\n    r0 = (s.c___22146 != \"\\\\t\");\n  case 9:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 10; continue; }\n    { step = 12; continue; }\n  case 10:\n  case 11:\n    s.tmp_4 = r0 = s.caps[1];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + 1);\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);\n    { step = 3; continue; }\n  case 12:\n    r0 = pxsim_String_.mkEmpty();\n    s.note___22158 = (r0);\n  case 13:\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_1 = r0;\n    r0 = pxsim_String_.length(s.caps[2]);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 22; continue; }\n    s.tmp_3 = r0 = s.caps[2];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_4 = r0;\n    r0 = pxsim_String_.charAt(s.tmp_3, s.tmp_4);\n    s.c___22163 = (r0);\n    r0 = (s.c___22163 == \" \");\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 14; continue; }\n    r0 = s.tmp_0;\n    { step = 15; continue; }\n  case 14:\n    r0 = (s.c___22163 == \"\\\\r\");\n  case 15:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (!r0) { step = 16; continue; }\n    r0 = s.tmp_1;\n    { step = 17; continue; }\n  case 16:\n    r0 = (s.c___22163 == \"\\\\n\");\n  case 17:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_2);\n    if (!r0) { step = 18; continue; }\n    r0 = s.tmp_2;\n    { step = 19; continue; }\n  case 18:\n    r0 = (s.c___22163 == \"\\\\t\");\n  case 19:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 20; continue; }\n    { step = 22; continue; }\n  case 20:\n  case 21:\n    if ((s.note___22158) && (s.note___22158).vtable) {\n    setupResume(s, 24);\n    pxsim_String__stringConv(s.note___22158);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.note___22158) + \"\"; }\n  case 24:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    if ((s.c___22163) && (s.c___22163).vtable) {\n    setupResume(s, 25);\n    pxsim_String__stringConv(s.c___22163);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.c___22163) + \"\"; }\n  case 25:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);\n    s.note___22158 = (r0);\n    s.tmp_0 = r0 = s.caps[1];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    { step = 13; continue; }\n  case 22:\n    r0 = s.note___22158;\n  case 23:\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22139.info = {\"start\":12291,\"length\":708,\"line\":375,\"column\":33,\"endLine\":397,\"endColumn\":13,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P22139_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22139, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  c___22146: undefined,\n  note___22158: undefined,\n  c___22163: undefined,\n} }\n\n\n\n\n\nfunction inline__P22187(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.d___22191 = undefined;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 != 0);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 15; continue; }\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);\n    s.tmp_3 = r0;\n    r0 = pxsim_String_.toNumber(s.tmp_3);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 0);\n    s.d___22191 = (r0);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);\n    if (r0) { step = 4; continue; }\n    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);\n    if (r0) { step = 6; continue; }\n    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);\n    if (r0) { step = 7; continue; }\n    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);\n    if (r0) { step = 8; continue; }\n    r0 = pxsim_pxtcore.switch_eq(8, s.tmp_0);\n    if (r0) { step = 9; continue; }\n    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);\n    if (r0) { step = 10; continue; }\n    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);\n    if (r0) { step = 11; continue; }\n    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);\n    if (r0) { step = 12; continue; }\n    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);\n    if (r0) { step = 13; continue; }\n    r0 = s.tmp_0;\n    { step = 14; continue; }\n  case 3:\n    r0 = pxsim_pxtrt_stlocRef(s.caps[2], s.d___22191);\n    { step = 14; continue; }\n  case 4:\n    s.tmp_0 = r0 = s.caps[3];\n    s.tmp_2 = Math_max__P14902_mk(s);\n    s.tmp_2.arg0 = 1;\n    s.tmp_3 = Math_min__P14903_mk(s);\n    s.tmp_3.arg0 = 16;\n    s.tmp_3.arg1 = s.d___22191;\n    s.pc = 18; return s.tmp_3;\n  case 18:\n    r0 = s.retval;\n    s.tmp_2.arg1 = r0;\n    s.pc = 17; return s.tmp_2;\n  case 17:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    r0 = pxsim_pxtrt_stlocRef(s.caps[4], -1);\n    { step = 14; continue; }\n  case 5:\n    s.tmp_0 = r0 = s.caps[5];\n    s.tmp_2 = Math_max__P14902_mk(s);\n    s.tmp_2.arg0 = 1;\n    s.tmp_2.arg1 = s.d___22191;\n    s.pc = 19; return s.tmp_2;\n  case 19:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    { step = 14; continue; }\n  case 6:\n    r0 = pxsim_pxtrt_stlocRef(s.caps[6], s.d___22191);\n    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 6);\n    { step = 14; continue; }\n  case 7:\n    r0 = pxsim_pxtrt_stlocRef(s.caps[4], s.d___22191);\n    { step = 14; continue; }\n  case 8:\n    s.tmp_0 = r0 = s.caps[7];\n    s.tmp_2 = Math_clamp__P14899_mk(s);\n    s.tmp_2.arg0 = 1;\n    s.tmp_2.arg1 = 15;\n    s.tmp_2.arg2 = s.d___22191;\n    s.pc = 20; return s.tmp_2;\n  case 20:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    { step = 14; continue; }\n  case 9:\n    r0 = pxsim_pxtrt_stlocRef(s.caps[8], s.d___22191);\n    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 9);\n    { step = 14; continue; }\n  case 10:\n    r0 = pxsim_pxtrt_stlocRef(s.caps[9], s.d___22191);\n    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 10);\n    { step = 14; continue; }\n  case 11:\n    s.tmp_0 = r0 = s.caps[10];\n    s.tmp_2 = Math_clamp__P14899_mk(s);\n    s.tmp_2.arg0 = 0;\n    s.tmp_2.arg1 = 255;\n    s.tmp_2.arg2 = s.d___22191;\n    s.pc = 21; return s.tmp_2;\n  case 21:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 11);\n    { step = 14; continue; }\n  case 12:\n    r0 = pxsim_pxtrt_stlocRef(s.caps[11], s.d___22191);\n    { step = 14; continue; }\n  case 13:\n    r0 = pxsim_pxtrt_stlocRef(s.caps[12], s.d___22191);\n  case 14:\n    s.tmp_0 = r0 = s.caps[0];\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n  case 15:\n  case 16:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P22187.info = {\"start\":14032,\"length\":1189,\"line\":433,\"column\":33,\"endLine\":454,\"endColumn\":13,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P22187_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P22187, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  d___22191: undefined,\n} }\n\n\n\n\n\nfunction music_addNote__P15203(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.arg6 = (s.lambdaArgs[6]);\n      s.arg7 = (s.lambdaArgs[7]);\n      s.arg8 = (s.lambdaArgs[8]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg2 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.BufferMethods.setNumber(s.arg0, 2, s.arg1, s.arg5);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 + 1);\n    s.tmp_1 = r0;\n    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 2, s.tmp_1, 0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 + 2);\n    s.tmp_1 = r0;\n    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.arg6);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 + 4);\n    s.tmp_1 = r0;\n    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.arg2);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 + 6);\n    s.tmp_1 = r0;\n    r0 = (s.arg3 * s.arg7);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 6);\n    s.tmp_2 = r0;\n    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.tmp_2);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 + 8);\n    s.tmp_1 = r0;\n    r0 = (s.arg4 * s.arg7);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 6);\n    s.tmp_2 = r0;\n    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.tmp_2);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 + 10);\n    s.tmp_1 = r0;\n    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.arg8);\n    r0 = (s.arg1 + 12);\n    s.arg1 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim.BufferMethods.setNumber(s.arg0, 2, s.arg1, 0);\n    r0 = s.arg1;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_addNote__P15203.info = {\"start\":9672,\"length\":904,\"line\":307,\"column\":4,\"endLine\":320,\"endColumn\":5,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"addNote\",\"argumentNames\":[\"sndInstr\",\"sndInstrPtr\",\"ms\",\"beg\",\"end\",\"soundWave\",\"hz\",\"volume\",\"endHz\"]}\n\nfunction music_addNote__P15203_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_addNote__P15203, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n  arg6: undefined,\n  arg7: undefined,\n  arg8: undefined,\n} }\n\n\n\n\n\nfunction music_volume__P15183(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = music_initVolume__P15181_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = globals.globalVolume___15178;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_volume__P15183.info = {\"start\":1781,\"length\":90,\"line\":61,\"column\":4,\"endLine\":64,\"endColumn\":5,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"volume\",\"argumentNames\":[]}\n\nfunction music_volume__P15183_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_volume__P15183, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction music_initVolume__P15181(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = (globals.globalVolume___15178 === null);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    globals.globalVolume___15178 = (0);\n    s.tmp_0 = music_setVolume__P15182_mk(s);\n    r0 = pxsim_pxtcore.getConfig(59, 128);\n    s.tmp_0.arg0 = r0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_initVolume__P15181.info = {\"start\":1014,\"length\":180,\"line\":33,\"column\":4,\"endLine\":38,\"endColumn\":5,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"initVolume\",\"argumentNames\":[]}\n\nfunction music_initVolume__P15181_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_initVolume__P15181, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction music_setVolume__P15182(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = Math_clamp__P14899_mk(s);\n    s.tmp_0.arg0 = 0;\n    s.tmp_0.arg1 = 255;\n    r0 = (s.arg0 | 0);\n    s.tmp_0.arg2 = r0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    globals.globalVolume___15178 = (r0);\n    r0 = (globals.globalVolume___15178 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = 1;\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = undefined;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_setVolume__P15182.info = {\"start\":1533,\"length\":153,\"line\":51,\"column\":4,\"endLine\":54,\"endColumn\":5,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"setVolume\",\"argumentNames\":[\"volume\"]}\n\nfunction music_setVolume__P15182_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_setVolume__P15182, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction music_enableAmp__P15180(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_enableAmp__P15180.info = {\"start\":944,\"length\":64,\"line\":29,\"column\":4,\"endLine\":31,\"endColumn\":5,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"enableAmp\",\"argumentNames\":[\"en\"]}\n\nfunction music_enableAmp__P15180_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_enableAmp__P15180, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction parseInt__P14875(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_String_.toNumber(s.arg0);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 0);\n    return leave(s, r0)\n  default: oops()\n} } }\nparseInt__P14875.info = {\"start\":394,\"length\":77,\"line\":17,\"column\":0,\"endLine\":19,\"endColumn\":1,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"parseInt\",\"argumentNames\":[\"text\"]}\n\nfunction parseInt__P14875_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: parseInt__P14875, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction music_Melody_unregisterMelody__P15195(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_Melody__C15190_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(globals.music_Melody_playingMelodies___15201);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array_.removeElement(globals.music_Melody_playingMelodies___15201, s.arg0);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_Melody_unregisterMelody__P15195.info = {\"start\":7438,\"length\":201,\"line\":234,\"column\":8,\"endLine\":239,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"unregisterMelody\",\"argumentNames\":[\"this\"]}\n\nfunction music_Melody_unregisterMelody__P15195_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_Melody_unregisterMelody__P15195, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction music_Melody_registerMelody__P15194(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_Melody__C15190_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(globals.music_Melody_playingMelodies___15201);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    globals.music_Melody_playingMelodies___15201 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_Array__length(globals.music_Melody_playingMelodies___15201);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 4);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_2 = music_Melody_stop__P15193_mk(s);\n    s.tmp_3 = r0 = globals.music_Melody_playingMelodies___15201;\n    r0 = pxsim_Array__length(globals.music_Melody_playingMelodies___15201);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 - 1);\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_3, s.tmp_4);\n    s.tmp_2.arg0 = r0;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n  case 3:\n  case 4:\n    r0 = pxsim_Array_.removeElement(globals.music_Melody_playingMelodies___15201, s.arg0);\n    r0 = pxsim_Array__push(globals.music_Melody_playingMelodies___15201, s.arg0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_Melody_registerMelody__P15194.info = {\"start\":6856,\"length\":573,\"line\":222,\"column\":8,\"endLine\":233,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"registerMelody\",\"argumentNames\":[\"this\"]}\n\nfunction music_Melody_registerMelody__P15194_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_Melody_registerMelody__P15194, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction music_Melody_stop__P15193(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_Melody__C15190_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = music_MelodyPlayer_stop__P15205_mk(s);\n    r0 = s.arg0.fields[\"_player\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"_player\"] = (null);\n  case 1:\n  case 2:\n    s.tmp_0 = music_Melody_unregisterMelody__P15195_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_Melody_stop__P15193.info = {\"start\":6673,\"length\":173,\"line\":214,\"column\":8,\"endLine\":220,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"stop\",\"argumentNames\":[\"this\"]}\n\nfunction music_Melody_stop__P15193_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_Melody_stop__P15193, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction music_MelodyPlayer_stop__P15205(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_MelodyPlayer__C15204_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"melody\"] = (null);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_MelodyPlayer_stop__P15205.info = {\"start\":10746,\"length\":49,\"line\":332,\"column\":8,\"endLine\":334,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"stop\",\"argumentNames\":[\"this\"]}\n\nfunction music_MelodyPlayer_stop__P15205_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_MelodyPlayer_stop__P15205, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_onOverlap__P15515(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sc___22986 = undefined;\n    s.overlapHandlers___22988 = undefined;\n    s.overlapMap___22991 = undefined;\n    s.associate___22994 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 == undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = (s.arg1 == undefined);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_1;\n    { step = 4; continue; }\n  case 3:\n    r0 = pxsim_numops_toBoolDecr(s.arg2);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 5; continue; }\n    { step = 7; continue; }\n  case 5:\n  case 6:\n    s.tmp_4 = game_currentScene__P15610_mk(s);\n    s.pc = 8; return s.tmp_4;\n  case 8:\n    r0 = s.retval;\n    s.sc___22986 = (r0);\n    r0 = s.sc___22986.fields[\"overlapHandlers\"];\n    s.overlapHandlers___22988 = (r0);\n    r0 = s.sc___22986.fields[\"overlapMap\"];\n    s.overlapMap___22991 = (r0);\n    r0 = pxsim_pxtcore_mkAction(1, associate__P22994);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.overlapMap___22991);\n    s.associate___22994 = (s.tmp_0);\n    s.tmp_1 = lambda_3_mk(s);\n    s.tmp_1.argL = s.associate___22994;\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = s.arg1;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 9; return s.tmp_1;\n  case 9:\n    r0 = s.retval;\n    s.tmp_0 = lambda_3_mk(s);\n    s.tmp_0.argL = s.associate___22994;\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.arg1 = s.arg0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkClassInstance(scene_OverlapHandler__C15741_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_OverlapHandler_constructor__P15742_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg0;\n    s.tmp_1.arg2 = s.arg1;\n    s.tmp_1.arg3 = s.arg2;\n    s.pc = 11; return s.tmp_1;\n  case 11:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.overlapHandlers___22988, s.tmp_0);\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_onOverlap__P15515.info = {\"start\":1605,\"length\":755,\"line\":50,\"column\":4,\"endLine\":74,\"endColumn\":5,\"fileName\":\"pxt_modules/game/spriteevents.ts\",\"functionName\":\"onOverlap\",\"argumentNames\":[\"kind\",\"otherKind\",\"handler\"]}\n\nfunction sprites_onOverlap__P15515_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_onOverlap__P15515, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  sc___22986: undefined,\n  overlapHandlers___22988: undefined,\n  overlapMap___22991: undefined,\n  associate___22994: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction associate__P22994(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_pxtrt.mapGetGeneric(s.caps[0], s.arg0);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = r0 = s.caps[0];\n    s.tmp_4 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_3, s.tmp_4, s.tmp_5);\n  case 1:\n  case 2:\n    r0 = pxsim_pxtrt.mapGetGeneric(s.caps[0], s.arg0);\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nassociate__P22994.info = {\"start\":1942,\"length\":172,\"line\":56,\"column\":8,\"endLine\":62,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spriteevents.ts\",\"functionName\":\"associate\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction associate__P22994_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: associate__P22994, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_OverlapHandler_constructor__P15742(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_OverlapHandler__C15741_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"kind\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"otherKind\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"handler\"] = (s.arg3);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_OverlapHandler_constructor__P15742.info = {\"start\":388,\"length\":171,\"line\":20,\"column\":8,\"endLine\":24,\"endColumn\":13,\"fileName\":\"pxt_modules/game/scene.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"kind\",\"otherKind\",\"handler\"]}\n\nfunction scene_OverlapHandler_constructor__P15742_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_OverlapHandler_constructor__P15742, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction Sprite_ay__P15461(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_ay\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_ay__P15461.info = {\"start\":3039,\"length\":51,\"line\":113,\"column\":4,\"endLine\":115,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"ay\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction Sprite_ay__P15461_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_ay__P15461, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_vy__P15457(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_vy\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_vy__P15457.info = {\"start\":2361,\"length\":51,\"line\":91,\"column\":4,\"endLine\":93,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"vy\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction Sprite_vy__P15457_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_vy__P15457, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_vy__P15456(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_vy\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 256);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_vy__P15456.info = {\"start\":2199,\"length\":60,\"line\":86,\"column\":4,\"endLine\":88,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"vy\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_vy__P15456_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_vy__P15456, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_ay__P15460(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_ay\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 256);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_ay__P15460.info = {\"start\":2873,\"length\":60,\"line\":108,\"column\":4,\"endLine\":110,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"ay\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_ay__P15460_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_ay__P15460, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Button_onEvent__P15384(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    s.tmp_0 = control_onEvent__P15054_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.arg2;\n    s.tmp_0.arg3 = 16;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button_onEvent__P15384.info = {\"start\":3475,\"length\":124,\"line\":108,\"column\":8,\"endLine\":110,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"onEvent\",\"argumentNames\":[\"this\",\"event\",\"handler\"]}\n\nfunction controller_Button_onEvent__P15384_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button_onEvent__P15384, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction control_onEvent__P15054(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.ctx___23285 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = control_eventContext__P15076_mk(s);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.ctx___23285 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.ctx___23285);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.control.internalOnEvent(s.arg0, s.arg1, s.arg2, s.arg3);\n    { step = 2; continue; }\n  case 1:\n    s.tmp_0 = control_EventContext_registerHandler__P15068_mk(s);\n    s.tmp_0.arg0 = s.ctx___23285;\n    s.tmp_0.arg1 = s.arg0;\n    s.tmp_0.arg2 = s.arg1;\n    s.tmp_0.arg3 = s.arg2;\n    s.tmp_0.arg4 = s.arg3;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_onEvent__P15054.info = {\"start\":336,\"length\":325,\"line\":9,\"column\":4,\"endLine\":15,\"endColumn\":5,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"onEvent\",\"argumentNames\":[\"src\",\"value\",\"handler\",\"flags\"]}\n\nfunction control_onEvent__P15054_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_onEvent__P15054, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  ctx___23285: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction control_EventContext_registerHandler__P15068(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.h___23306 = undefined;\n    s.unnamed122___U1 = undefined;\n    s.unnamed123___U2 = undefined;\n    s.hn___23322 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventContext__C15061_VT)) failedCast(r0);\n    s.h___23306 = (undefined);\n    s.h___23306 = (undefined);\n    r0 = s.arg0.fields[\"handlers\"];\n    s.unnamed122___U1 = (r0);\n    s.unnamed123___U2 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed123___U2;\n    r0 = pxsim_Array__length(s.unnamed122___U1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 6; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed122___U1, s.unnamed123___U2);\n    s.h___23306 = (r0);\n    r0 = s.h___23306.fields[\"src\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 == s.arg1);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_2);\n    if (r0) { step = 2; continue; }\n    r0 = s.tmp_2;\n    { step = 3; continue; }\n  case 2:\n    r0 = s.h___23306.fields[\"value\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 == s.arg2);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 4; continue; }\n    r0 = (s.h___23306).fields[\"flags\"] = (s.arg4);\n    r0 = (s.h___23306).fields[\"handler\"] = (s.arg3);\n    { step = 7; continue; }\n  case 4:\n  case 5:\n    r0 = (s.unnamed123___U2 + 1);\n    s.unnamed123___U2 = (r0);\n    { step = 1; continue; }\n  case 6:\n    s.unnamed122___U1 = (undefined);\n    r0 = pxsim_pxtcore_mkClassInstance(control_EventHandler__C15056_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = control_EventHandler_constructor__P15059_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg1;\n    s.tmp_1.arg2 = s.arg2;\n    s.tmp_1.arg3 = s.arg3;\n    s.tmp_1.arg4 = s.arg4;\n    s.pc = 8; return s.tmp_1;\n  case 8:\n    r0 = s.retval;\n    s.hn___23322 = (s.tmp_0);\n    r0 = s.arg0.fields[\"handlers\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.hn___23322);\n    s.tmp_0 = control_EventHandler_register__P15057_mk(s);\n    s.tmp_0.arg0 = s.hn___23322;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventContext_registerHandler__P15068.info = {\"start\":4832,\"length\":525,\"line\":150,\"column\":8,\"endLine\":163,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"registerHandler\",\"argumentNames\":[\"this\",\"src\",\"value\",\"handler\",\"flags\"]}\n\nfunction control_EventContext_registerHandler__P15068_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventContext_registerHandler__P15068, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  h___23306: undefined,\n  unnamed122___U1: undefined,\n  unnamed123___U2: undefined,\n  hn___23322: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction control_EventHandler_constructor__P15059(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, control_EventHandler__C15056_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"src\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"value\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"handler\"] = (s.arg3);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_EventHandler_constructor__P15059.info = {\"start\":876,\"length\":183,\"line\":28,\"column\":8,\"endLine\":32,\"endColumn\":9,\"fileName\":\"pxt_modules/base/eventcontext.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"src\",\"value\",\"handler\",\"flags\"]}\n\nfunction control_EventHandler_constructor__P15059_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_EventHandler_constructor__P15059, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction game_eventContext__P15858(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = game_init__P15859_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = globals._scene___15849.fields[\"eventContext\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_eventContext__P15858.info = {\"start\":1084,\"length\":112,\"line\":40,\"column\":4,\"endLine\":43,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"eventContext\",\"argumentNames\":[]}\n\nfunction game_eventContext__P15858_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_eventContext__P15858, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction controller_pauseUntilAnyButtonIsPressed__P15426(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    setupResume(s, 1);\n    pxsim.control.waitForEvent(2049, 0);\n    checkResumeConsumed();\n    return;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_pauseUntilAnyButtonIsPressed__P15426.info = {\"start\":17360,\"length\":96,\"line\":537,\"column\":4,\"endLine\":539,\"endColumn\":5,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"pauseUntilAnyButtonIsPressed\",\"argumentNames\":[]}\n\nfunction controller_pauseUntilAnyButtonIsPressed__P15426_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_pauseUntilAnyButtonIsPressed__P15426, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n} }\n\n\n\n\n\nfunction game_setWaitAnyButton__P15856(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    globals.__waitAnyButton___15853 = (s.arg0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_setWaitAnyButton__P15856.info = {\"start\":878,\"length\":83,\"line\":31,\"column\":4,\"endLine\":33,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"setWaitAnyButton\",\"argumentNames\":[\"f\"]}\n\nfunction game_setWaitAnyButton__P15856_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_setWaitAnyButton__P15856, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Math_abs__P14900(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = (0 - s.arg0);\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.tmp_1;\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_abs__P14900.info = {\"start\":10354,\"length\":77,\"line\":348,\"column\":4,\"endLine\":350,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"abs\",\"argumentNames\":[\"x\"]}\n\nfunction Math_abs__P14900_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_abs__P14900, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Math_sign__P14901(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 == 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = 0;\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    r0 = (s.arg0 > 0);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    r0 = 1;\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    r0 = -1;\n  case 5:\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_sign__P14901.info = {\"start\":10589,\"length\":125,\"line\":356,\"column\":4,\"endLine\":360,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"sign\",\"argumentNames\":[\"x\"]}\n\nfunction Math_sign__P14901_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_sign__P14901, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction texteffects_TextEffect_constructor__P16290(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, texteffects_TextEffect__C16289_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"getState\"] = (s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ntexteffects_TextEffect_constructor__P16290.info = {\"start\":657,\"length\":133,\"line\":25,\"column\":8,\"endLine\":27,\"endColumn\":9,\"fileName\":\"pxt_modules/game/texteffects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"getState\"]}\n\nfunction texteffects_TextEffect_constructor__P16290_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: texteffects_TextEffect_constructor__P16290, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Math_FastRandom_constructor__P16004(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Math_FastRandom__C15997_VT)) failedCast(r0);\n    r0 = (s.arg1 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim.Math_.randomRange(1, 65535);\n    s.arg1 = (r0);\n  case 1:\n  case 2:\n    r0 = (s.arg0).fields[\"seed\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"lfsr\"] = (s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_FastRandom_constructor__P16004.info = {\"start\":1392,\"length\":175,\"line\":43,\"column\":8,\"endLine\":47,\"endColumn\":9,\"fileName\":\"pxt_modules/game/mathUtil.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"seed\"]}\n\nfunction Math_FastRandom_constructor__P16004_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_FastRandom_constructor__P16004, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction control_ramSize__P15020(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_pxtcore.getConfig(205, 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = (32 * 1024);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * 1024);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = s.tmp_2;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol_ramSize__P15020.info = {\"start\":7962,\"length\":100,\"line\":265,\"column\":4,\"endLine\":267,\"endColumn\":5,\"fileName\":\"pxt_modules/base/control.ts\",\"functionName\":\"ramSize\",\"argumentNames\":[]}\n\nfunction control_ramSize__P15020_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control_ramSize__P15020, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction control__ramSize__P15019(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = (32 * 1024);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 * 1024);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol__ramSize__P15019.info = {\"start\":7842,\"length\":60,\"line\":260,\"column\":4,\"endLine\":262,\"endColumn\":5,\"fileName\":\"pxt_modules/base/control.ts\",\"functionName\":\"_ramSize\",\"argumentNames\":[]}\n\nfunction control__ramSize__P15019_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control__ramSize__P15019, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction game_consoleOverlay_listener__P16108(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___16080);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    { step = 7; continue; }\n  case 3:\n  case 4:\n    s.tmp_4 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_5 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_6 = helpers_stringSplit__P14896_mk(s);\n    s.tmp_6.arg0 = s.arg1;\n    s.tmp_6.arg1 = \"\\\\n\";\n    s.tmp_6.arg2 = undefined;\n    s.pc = 10; return s.tmp_6;\n  case 10:\n    r0 = s.retval;\n    s.tmp_5.arg0 = r0;\n    s.tmp_5.arg1 = inline__P23402;\n    s.pc = 9; return s.tmp_5;\n  case 9:\n    r0 = s.retval;\n    s.tmp_4.arg0 = r0;\n    s.tmp_4.arg1 = inline__P23406;\n    s.pc = 8; return s.tmp_4;\n  case 8:\n    r0 = s.retval;\n    r0 = pxsim_Array__length(globals.consoleStrings___16080);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > globals.consoleLines___16086);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    s.tmp_2 = helpers_arraySplice__P14877_mk(s);\n    s.tmp_2.arg0 = globals.consoleStrings___16080;\n    s.tmp_2.arg1 = 0;\n    r0 = pxsim_Array__length(globals.consoleStrings___16080);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 - globals.consoleLines___16086);\n    s.tmp_2.arg2 = r0;\n    s.pc = 11; return s.tmp_2;\n  case 11:\n    r0 = s.retval;\n  case 5:\n  case 6:\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_consoleOverlay_listener__P16108.info = {\"start\":787,\"length\":571,\"line\":26,\"column\":4,\"endLine\":42,\"endColumn\":5,\"fileName\":\"pxt_modules/game/console.ts\",\"functionName\":\"listener\",\"argumentNames\":[\"priority\",\"text\"]}\n\nfunction game_consoleOverlay_listener__P16108_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_consoleOverlay_listener__P16108, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P23402(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23402.info = {\"start\":985,\"length\":14,\"line\":32,\"column\":20,\"endLine\":32,\"endColumn\":34,\"fileName\":\"pxt_modules/game/console.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"line\"]}\n\nfunction inline__P23402_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23402, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23406(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.j___23408 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.j___23408 = (0);\n  case 1:\n    s.tmp_1 = r0 = s.j___23408;\n    r0 = pxsim_String_.length(s.arg0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_3 = r0 = globals.consoleStrings___16080;\n    s.tmp_5 = helpers_stringSlice__P14894_mk(s);\n    s.tmp_5.arg0 = s.arg0;\n    s.tmp_5.arg1 = s.j___23408;\n    r0 = (s.j___23408 + globals.consoleColumns___16096);\n    s.tmp_5.arg2 = r0;\n    s.pc = 3; return s.tmp_5;\n  case 3:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__push(s.tmp_3, s.tmp_4);\n    r0 = (s.j___23408 + globals.consoleColumns___16096);\n    s.j___23408 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23406.info = {\"start\":1022,\"length\":189,\"line\":33,\"column\":21,\"endLine\":37,\"endColumn\":13,\"fileName\":\"pxt_modules/game/console.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"line\"]}\n\nfunction inline__P23406_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23406, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  j___23408: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction console_addListener__P15035(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_Array_.indexOf(globals.listeners___15027, s.arg0, undefined);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 > -1);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    r0 = pxsim_Array__push(globals.listeners___15027, s.arg0);\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nconsole_addListener__P15035.info = {\"start\":3460,\"length\":197,\"line\":118,\"column\":4,\"endLine\":121,\"endColumn\":5,\"fileName\":\"pxt_modules/base/console.ts\",\"functionName\":\"addListener\",\"argumentNames\":[\"listener\"]}\n\nfunction console_addListener__P15035_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: console_addListener__P15035, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23447(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim.control.__log(s.arg0, s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23447.info = {\"start\":534,\"length\":85,\"line\":25,\"column\":8,\"endLine\":25,\"endColumn\":93,\"fileName\":\"pxt_modules/base/console.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"priority\",\"text\"]}\n\nfunction inline__P23447_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23447, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_register__P16037(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.instance___16005);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    s.tmp_0 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_0.arg0 = globals.menu___15372;\n    s.tmp_0.arg1 = 2049;\n    s.tmp_0.arg2 = scene_systemMenu_showSystemMenu__P16038;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_register__P16037.info = {\"start\":12112,\"length\":193,\"line\":365,\"column\":4,\"endLine\":369,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"register\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_register__P16037_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_register__P16037, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_showSystemMenu__P16038(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.instance___16005);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    s.tmp_0 = game_pushScene__P15860_mk(s);\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_PauseMenu__C16017_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_PauseMenu_constructor__P16024_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = scene_systemMenu_buildOptionList__P16034;\n    s.tmp_1.arg2 = undefined;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    globals.instance___16005 = (s.tmp_0);\n    s.tmp_0 = scene_systemMenu_PauseMenu_show__P16018_mk(s);\n    s.tmp_0.arg0 = globals.instance___16005;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_showSystemMenu__P16038.info = {\"start\":12311,\"length\":172,\"line\":371,\"column\":4,\"endLine\":376,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"showSystemMenu\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_showSystemMenu__P16038_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_showSystemMenu__P16038, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_buildOptionList__P16034(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.options___24275 = undefined;\n    r0 = pxsim_Array__mk();\n    s.options___24275 = (r0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C16008_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P16016_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = globals.VOLUME_DOWN_ICON___16064;\n    s.tmp_1.arg2 = inline__P24283;\n    s.tmp_1.arg3 = scene_systemMenu_volumeDown__P16027;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.options___24275, s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C16008_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P16016_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = globals.VOLUME_UP_ICON___16055;\n    s.tmp_1.arg2 = inline__P24297;\n    s.tmp_1.arg3 = scene_systemMenu_volumeUp__P16026;\n    s.pc = 4; return s.tmp_1;\n  case 4:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.options___24275, s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C16008_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P16016_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = globals.BRIGHTNESS_DOWN_ICON___16058;\n    s.tmp_1.arg2 = inline__P24311;\n    s.tmp_1.arg3 = scene_systemMenu_brightnessDown__P16029;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.options___24275, s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C16008_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P16016_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = globals.BRIGHTNESS_UP_ICON___16073;\n    s.tmp_1.arg2 = inline__P24327;\n    s.tmp_1.arg3 = scene_systemMenu_brightnessUp__P16028;\n    s.pc = 6; return s.tmp_1;\n  case 6:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.options___24275, s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C16008_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P16016_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = globals.STATS_ICON___16076;\n    s.tmp_1.arg2 = inline__P24342;\n    s.tmp_1.arg3 = scene_systemMenu_toggleStats__P16030;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.options___24275, s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C16008_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P16016_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = globals.CONSOLE_ICON___16070;\n    s.tmp_1.arg2 = inline__P24351;\n    s.tmp_1.arg3 = scene_systemMenu_toggleConsole__P16031;\n    s.pc = 8; return s.tmp_1;\n  case 8:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.options___24275, s.tmp_0);\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C16008_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P16016_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = globals.SLEEP_ICON___16067;\n    s.tmp_1.arg2 = inline__P24360;\n    s.tmp_1.arg3 = scene_systemMenu_sleep__P16032;\n    s.pc = 9; return s.tmp_1;\n  case 9:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.options___24275, s.tmp_0);\n    r0 = pxsim_numops_toBoolDecr(globals.customMenuOptions___16006);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = helpers_arrayConcat__P14892_mk(s);\n    s.tmp_0.arg0 = s.options___24275;\n    s.tmp_0.arg1 = globals.customMenuOptions___16006;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    s.options___24275 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C16008_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P16016_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = globals.CLOSE_MENU_ICON___16061;\n    s.tmp_1.arg2 = inline__P24374;\n    s.tmp_1.arg3 = scene_systemMenu_closeMenu__P16033;\n    s.pc = 11; return s.tmp_1;\n  case 11:\n    r0 = s.retval;\n    r0 = pxsim_Array__push(s.options___24275, s.tmp_0);\n    r0 = s.options___24275;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_buildOptionList__P16034.info = {\"start\":9882,\"length\":1085,\"line\":319,\"column\":4,\"endLine\":337,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"buildOptionList\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_buildOptionList__P16034_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_buildOptionList__P16034, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  options___24275: undefined,\n} }\n\n\n\n\n\nfunction inline__P24283(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_3 = music_volume__P15183_mk(s);\n    s.pc = 1; return s.tmp_3;\n  case 1:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 2);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 2:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(\"VOLUME DOWN (\", s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, \")\");\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24283.info = {\"start\":10027,\"length\":39,\"line\":322,\"column\":54,\"endLine\":322,\"endColumn\":93,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24283_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24283, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction inline__P24297(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_3 = music_volume__P15183_mk(s);\n    s.pc = 1; return s.tmp_3;\n  case 1:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 2);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 2:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(\"VOLUME UP (\", s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, \")\");\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24297.info = {\"start\":10134,\"length\":37,\"line\":323,\"column\":52,\"endLine\":323,\"endColumn\":89,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24297_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24297, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction inline__P24311(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = globals.brightness___15242;\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 1);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 1:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(\"BRIGHTNESS DOWN (\", s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, \")\");\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24311.info = {\"start\":10243,\"length\":48,\"line\":324,\"column\":58,\"endLine\":324,\"endColumn\":106,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24311_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24311, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction inline__P24327(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = globals.brightness___15242;\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 1);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 1:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(\"BRIGHTNESS UP (\", s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, \")\");\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24327.info = {\"start\":10367,\"length\":46,\"line\":325,\"column\":56,\"endLine\":325,\"endColumn\":102,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24327_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24327, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction inline__P24342(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.stats___15840);\n    if (!r0) { step = 1; continue; }\n    r0 = \"HIDE STATS\";\n    { step = 2; continue; }\n  case 1:\n    r0 = \"SHOW STATS\";\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24342.info = {\"start\":10479,\"length\":46,\"line\":326,\"column\":48,\"endLine\":326,\"endColumn\":94,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24342_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24342, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction inline__P24351(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___16080);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = \"HIDE CONSOLE\";\n    { step = 2; continue; }\n  case 1:\n    r0 = \"SHOW CONSOLE\";\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = s.tmp_4;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24351.info = {\"start\":10592,\"length\":71,\"line\":327,\"column\":50,\"endLine\":327,\"endColumn\":121,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24351_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24351, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n} }\n\n\n\n\n\nfunction inline__P24360(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = \"SLEEP\";\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24360.info = {\"start\":10730,\"length\":13,\"line\":328,\"column\":48,\"endLine\":328,\"endColumn\":61,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24360_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24360, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n} }\n\n\n\n\n\nfunction inline__P24374(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = \"CLOSE\";\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24374.info = {\"start\":10909,\"length\":13,\"line\":334,\"column\":53,\"endLine\":334,\"endColumn\":66,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24374_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24374, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n} }\n\n\n\n\n\nfunction game_consoleOverlay_isVisible__P16109(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___16080);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_consoleOverlay_isVisible__P16109.info = {\"start\":422,\"length\":68,\"line\":11,\"column\":4,\"endLine\":13,\"endColumn\":5,\"fileName\":\"pxt_modules/game/console.ts\",\"functionName\":\"isVisible\",\"argumentNames\":[]}\n\nfunction game_consoleOverlay_isVisible__P16109_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_consoleOverlay_isVisible__P16109, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_closeMenu__P16033(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.instance___16005);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = scene_systemMenu_PauseMenu_dispose__P16022_mk(s);\n    s.tmp_0.arg0 = globals.instance___16005;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    globals.instance___16005 = (undefined);\n    s.tmp_0 = controller__setUserEventsEnabled__P15427_mk(s);\n    s.tmp_0.arg0 = true;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = game_popScene__P15861_mk(s);\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_closeMenu__P16033.info = {\"start\":9667,\"length\":209,\"line\":310,\"column\":4,\"endLine\":317,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"closeMenu\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_closeMenu__P16033_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_closeMenu__P16033, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_PauseMenu_dispose__P16022(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C16017_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = helpers_arrayForEach__P14888_mk(s);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = inline__P23883;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"options\"] = (undefined);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_PauseMenu_dispose__P16022.info = {\"start\":7732,\"length\":165,\"line\":243,\"column\":8,\"endLine\":248,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"dispose\",\"argumentNames\":[\"this\"]}\n\nfunction scene_systemMenu_PauseMenu_dispose__P16022_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_PauseMenu_dispose__P16022, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23883(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = scene_systemMenu_MenuOption_dispose__P16014_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23883.info = {\"start\":7813,\"length\":16,\"line\":245,\"column\":37,\"endLine\":245,\"endColumn\":53,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"o\"]}\n\nfunction inline__P23883_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23883, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_MenuOption_dispose__P16014(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C16008_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = Sprite_destroy__P15494_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = undefined;\n    s.tmp_1.arg2 = undefined;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_destroy__P15494_mk(s);\n    r0 = s.arg0.fields[\"icon\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = undefined;\n    s.tmp_0.arg2 = undefined;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"card\"] = (undefined);\n    r0 = (s.arg0).fields[\"icon\"] = (undefined);\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_MenuOption_dispose__P16014.info = {\"start\":1812,\"length\":216,\"line\":77,\"column\":8,\"endLine\":84,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"dispose\",\"argumentNames\":[\"this\"]}\n\nfunction scene_systemMenu_MenuOption_dispose__P16014_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_MenuOption_dispose__P16014, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_destroy__P15494(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    s.tmp_2 = r0 = s.arg0;\n    r0 = s.tmp_2.fields[\"flags\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 | 2);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2).fields[\"flags\"] = (s.tmp_3);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 3; continue; }\n    s.tmp_0 = effects_ParticleEffect_destroy__P16247_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.arg1 = s.arg0;\n    s.tmp_0.arg2 = s.arg2;\n    s.tmp_0.arg3 = undefined;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_0 = Sprite__destroyCore__P15495_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n  case 4:\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_destroy__P15494.info = {\"start\":24607,\"length\":293,\"line\":752,\"column\":4,\"endLine\":761,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"destroy\",\"argumentNames\":[\"this\",\"effect\",\"duration\"]}\n\nfunction Sprite_destroy__P15494_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_destroy__P15494, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction effects_ParticleEffect_destroy__P16247(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ParticleEffect__C16245_VT)) failedCast(r0);\n    s.tmp_0 = Sprite_setFlag__P15487_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.arg1 = 1;\n    s.tmp_0.arg2 = true;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = effects_ParticleEffect_start__P16246_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg3;\n    s.tmp_0.arg3 = undefined;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.arg2);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg2;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"defaultLifespan\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 2);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.arg1).fields[\"lifespan\"] = (s.tmp_1);\n    s.tmp_0 = effects_ImageEffect_applyTo__P16280_mk(s);\n    s.tmp_0.arg0 = globals.dissolve___16284;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ParticleEffect_destroy__P16247.info = {\"start\":1652,\"length\":312,\"line\":40,\"column\":8,\"endLine\":45,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"destroy\",\"argumentNames\":[\"this\",\"anchor\",\"duration\",\"particlesPerSecond\"]}\n\nfunction effects_ParticleEffect_destroy__P16247_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ParticleEffect_destroy__P16247, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction inline__P24002(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.i___24005 = undefined;\n    s.x___24012 = undefined;\n    s.y___24017 = undefined;\n    s.w___24022 = undefined;\n    s.h___24025 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_ImageMethods.width(s.arg0);\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.height(s.arg0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 * s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 5);\n    s.i___24005 = (r0);\n  case 1:\n    r0 = (s.i___24005 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = Math_FastRandom_randomRange__P15999_mk(s);\n    s.tmp_1.arg0 = s.arg1;\n    s.tmp_1.arg1 = 0;\n    r0 = pxsim_ImageMethods.width(s.arg0);\n    s.tmp_1.arg2 = r0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.x___24012 = (r0);\n    s.tmp_0 = Math_FastRandom_randomRange__P15999_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.arg1 = 0;\n    r0 = pxsim_ImageMethods.height(s.arg0);\n    s.tmp_0.arg2 = r0;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.y___24017 = (r0);\n    s.tmp_0 = Math_FastRandom_randomRange__P15999_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.arg1 = 1;\n    s.tmp_0.arg2 = 3;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.w___24022 = (r0);\n    s.tmp_0 = Math_FastRandom_randomRange__P15999_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.arg1 = 1;\n    s.tmp_0.arg2 = 3;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.h___24025 = (r0);\n    s.tmp_0 = helpers_imageDrawRect__P15255_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.x___24012;\n    s.tmp_0.arg2 = s.y___24017;\n    s.tmp_0.arg3 = s.w___24022;\n    s.tmp_0.arg4 = s.h___24025;\n    s.tmp_0.arg5 = 0;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    r0 = (s.i___24005 - 1);\n    s.i___24005 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24002.info = {\"start\":2199,\"length\":360,\"line\":60,\"column\":49,\"endLine\":69,\"endColumn\":5,\"fileName\":\"pxt_modules/game/effects.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"input\",\"r\"]}\n\nfunction inline__P24002_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24002, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  i___24005: undefined,\n  x___24012: undefined,\n  y___24017: undefined,\n  w___24022: undefined,\n  h___24025: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_imageDrawRect__P15255(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg3 == 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = (s.arg4 == 0);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    r0 = (s.arg3 - 1);\n    s.arg3 = (r0);\n    r0 = (s.arg4 - 1);\n    s.arg4 = (r0);\n    s.tmp_0 = helpers_imageDrawLine__P15254_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg2;\n    r0 = (s.arg1 + s.arg3);\n    s.tmp_0.arg3 = r0;\n    s.tmp_0.arg4 = s.arg2;\n    s.tmp_0.arg5 = s.arg5;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageDrawLine__P15254_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg2;\n    s.tmp_0.arg3 = s.arg1;\n    r0 = (s.arg2 + s.arg4);\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.arg5;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageDrawLine__P15254_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    r0 = (s.arg1 + s.arg3);\n    s.tmp_0.arg1 = r0;\n    r0 = (s.arg2 + s.arg4);\n    s.tmp_0.arg2 = r0;\n    r0 = (s.arg1 + s.arg3);\n    s.tmp_0.arg3 = r0;\n    s.tmp_0.arg4 = s.arg2;\n    s.tmp_0.arg5 = s.arg5;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageDrawLine__P15254_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    r0 = (s.arg1 + s.arg3);\n    s.tmp_0.arg1 = r0;\n    r0 = (s.arg2 + s.arg4);\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = s.arg1;\n    r0 = (s.arg2 + s.arg4);\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = s.arg5;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_imageDrawRect__P15255.info = {\"start\":4139,\"length\":370,\"line\":140,\"column\":4,\"endLine\":148,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/image.ts\",\"functionName\":\"imageDrawRect\",\"argumentNames\":[\"img\",\"x\",\"y\",\"w\",\"h\",\"c\"]}\n\nfunction helpers_imageDrawRect__P15255_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_imageDrawRect__P15255, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n} }\n\n\n\n\n\nfunction helpers_imageDrawLine__P15254(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = helpers_pack__P15249_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.tmp_2.arg1 = s.arg2;\n    s.pc = 1; return s.tmp_2;\n  case 1:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_4 = helpers_pack__P15249_mk(s);\n    s.tmp_4.arg0 = s.arg3;\n    s.tmp_4.arg1 = s.arg4;\n    s.pc = 2; return s.tmp_4;\n  case 2:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods._drawLine(s.tmp_0, s.tmp_1, s.tmp_3, s.arg5);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_imageDrawLine__P15254.info = {\"start\":3975,\"length\":159,\"line\":137,\"column\":4,\"endLine\":139,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/image.ts\",\"functionName\":\"imageDrawLine\",\"argumentNames\":[\"img\",\"x\",\"y\",\"w\",\"h\",\"c\"]}\n\nfunction helpers_imageDrawLine__P15254_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_imageDrawLine__P15254, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n} }\n\n\n\n\n\nfunction effects_ImageEffect_applyTo__P16280(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.clonedImage___24108 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ImageEffect__C16279_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg1.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 3; continue; }\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    r0 = s.arg1.fields[\"_image\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.clone(s.tmp_5);\n    s.clonedImage___24108 = (r0);\n    s.tmp_0 = effects_ImageEffect_change__P16281_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.clonedImage___24108;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_setImage__P15466_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.tmp_0.arg1 = s.clonedImage___24108;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ImageEffect_applyTo__P16280.info = {\"start\":823,\"length\":218,\"line\":21,\"column\":8,\"endLine\":26,\"endColumn\":9,\"fileName\":\"pxt_modules/game/effects.ts\",\"functionName\":\"applyTo\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction effects_ImageEffect_applyTo__P16280_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ImageEffect_applyTo__P16280, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  clonedImage___24108: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction effects_ImageEffect_change__P16281(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ImageEffect__C16279_VT)) failedCast(r0);\n    s.tmp_0 = lambda_3_mk(s);\n    r0 = s.arg0.fields[\"effect\"];\n    s.tmp_0.argL = r0;\n    s.tmp_0.arg0 = s.arg1;\n    r0 = s.arg0.fields[\"fastRandom\"];\n    s.tmp_0.arg1 = r0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ImageEffect_change__P16281.info = {\"start\":1151,\"length\":81,\"line\":32,\"column\":8,\"endLine\":34,\"endColumn\":9,\"fileName\":\"pxt_modules/game/effects.ts\",\"functionName\":\"change\",\"argumentNames\":[\"this\",\"input\"]}\n\nfunction effects_ImageEffect_change__P16281_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ImageEffect_change__P16281, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction effects_ParticleEffect_start__P16246(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.src___24131 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ParticleEffect__C16245_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"sourceFactory\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 9; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_numops_toBoolDecr(s.arg3);\n    if (!r0) { step = 3; continue; }\n    r0 = s.arg3;\n    { step = 4; continue; }\n  case 3:\n    r0 = s.arg0.fields[\"defaultRate\"];\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    s.tmp_4 = lambda_3_mk(s);\n    r0 = s.arg0.fields[\"sourceFactory\"];\n    s.tmp_4.argL = r0;\n    s.tmp_4.arg0 = s.arg1;\n    s.tmp_4.arg1 = s.tmp_3;\n    setupLambda(s.tmp_4, s.tmp_4.argL);\n    s.pc = 10; return s.tmp_4;\n  case 10:\n    r0 = s.retval;\n    s.src___24131 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg2);\n    if (!r0) { step = 7; continue; }\n    r0 = (s.arg2 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = s.arg2;\n    { step = 6; continue; }\n  case 5:\n    r0 = s.arg0.fields[\"defaultLifespan\"];\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = (s.src___24131).fields[\"lifespan\"] = (s.tmp_1);\n  case 7:\n  case 8:\n  case 9:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ParticleEffect_start__P16246.info = {\"start\":968,\"length\":367,\"line\":26,\"column\":8,\"endLine\":31,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"start\",\"argumentNames\":[\"this\",\"anchor\",\"duration\",\"particlesPerSecond\"]}\n\nfunction effects_ParticleEffect_start__P16246_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ParticleEffect_start__P16246, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  src___24131: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction Sprite_setFlag__P15487(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg2);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"flags\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | s.arg1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"flags\"] = (s.tmp_1);\n    { step = 2; continue; }\n  case 1:\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_4 = r0;\n    r0 = (~ s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 | s.arg1);\n    s.tmp_2 = r0;\n    r0 = (~ s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"flags\"] = (s.tmp_1);\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_setFlag__P15487.info = {\"start\":21999,\"length\":130,\"line\":673,\"column\":4,\"endLine\":676,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"setFlag\",\"argumentNames\":[\"this\",\"flag\",\"on\"]}\n\nfunction Sprite_setFlag__P15487_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_setFlag__P15487, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Sprite__destroyCore__P15495(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___23930 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"flags\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"flags\"] = (s.tmp_1);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.scene___23930 = (r0);\n    r0 = s.arg0.fields[\"sayBubbleSprite\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = Sprite_destroy__P15494_mk(s);\n    r0 = s.arg0.fields[\"sayBubbleSprite\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = undefined;\n    s.tmp_1.arg2 = undefined;\n    s.pc = 10; return s.tmp_1;\n  case 10:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = s.scene___23930.fields[\"allSprites\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg0);\n    r0 = s.arg0.fields[\"_kind\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 >= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = s.scene___23930.fields[\"spritesByKind\"];\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"_kind\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_2, s.tmp_3);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 5; continue; }\n    s.tmp_5 = SpriteSet_remove__P15523_mk(s);\n    r0 = s.scene___23930.fields[\"spritesByKind\"];\n    s.tmp_6 = r0;\n    r0 = s.arg0.fields[\"_kind\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_6, s.tmp_7);\n    s.tmp_5.arg0 = r0;\n    s.tmp_5.arg1 = s.arg0;\n    s.pc = 11; return s.tmp_5;\n  case 11:\n    r0 = s.retval;\n  case 5:\n  case 6:\n    s.tmp_0 = PhysicsEngine__C15549_v1_2_mk(s);\n    r0 = s.scene___23930.fields[\"physicsEngine\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.arg0;\n    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C15549_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.removeSprite;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"destroyHandler\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    s.tmp_1 = lambda_1_mk(s);\n    r0 = s.arg0.fields[\"destroyHandler\"];\n    s.tmp_1.argL = r0;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 13; return s.tmp_1;\n  case 13:\n    r0 = s.retval;\n  case 7:\n  case 8:\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23965);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23970);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);\n    s.tmp_2 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_3 = helpers_arrayFilter__P14889_mk(s);\n    r0 = s.scene___23930.fields[\"destroyedHandlers\"];\n    s.tmp_3.arg0 = r0;\n    s.tmp_3.arg1 = s.tmp_0;\n    s.pc = 15; return s.tmp_3;\n  case 15:\n    r0 = s.retval;\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = s.tmp_1;\n    s.pc = 14; return s.tmp_2;\n  case 14:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite__destroyCore__P15495.info = {\"start\":24906,\"length\":693,\"line\":763,\"column\":4,\"endLine\":779,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"_destroyCore\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite__destroyCore__P15495_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite__destroyCore__P15495, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  scene___23930: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23965(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"kind\"];\n    s.tmp_0 = r0;\n    r0 = s.caps[0].fields[\"_kind\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 == s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23965.info = {\"start\":25522,\"length\":26,\"line\":777,\"column\":20,\"endLine\":777,\"endColumn\":46,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P23965_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23965, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23970(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = lambda_2_mk(s);\n    r0 = s.arg0.fields[\"handler\"];\n    s.tmp_0.argL = r0;\n    s.tmp_0.arg0 = s.caps[0];\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23970.info = {\"start\":25571,\"length\":20,\"line\":778,\"column\":21,\"endLine\":778,\"endColumn\":41,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P23970_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23970, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction PhysicsEngine_removeSprite__P15551(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, PhysicsEngine__C15549_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nPhysicsEngine_removeSprite__P15551.info = {\"start\":159,\"length\":32,\"line\":10,\"column\":4,\"endLine\":10,\"endColumn\":36,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"removeSprite\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction PhysicsEngine_removeSprite__P15551_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: PhysicsEngine_removeSprite__P15551, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_kind__P15478(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_kind\"];\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_kind__P15478.info = {\"start\":9398,\"length\":41,\"line\":338,\"column\":4,\"endLine\":340,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"kind\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_kind__P15478_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_kind__P15478, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller__setUserEventsEnabled__P15427(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    globals._userEventsEnabled___15376 = (s.arg0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller__setUserEventsEnabled__P15427.info = {\"start\":17462,\"length\":101,\"line\":541,\"column\":4,\"endLine\":543,\"endColumn\":5,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"_setUserEventsEnabled\",\"argumentNames\":[\"enabled\"]}\n\nfunction controller__setUserEventsEnabled__P15427_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller__setUserEventsEnabled__P15427, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_sleep__P16032(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_pxtcore.deepSleep();\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_sleep__P16032.info = {\"start\":9610,\"length\":51,\"line\":306,\"column\":4,\"endLine\":308,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"sleep\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_sleep__P16032_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_sleep__P16032, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n} }\n\n\n\n\n\nfunction scene_systemMenu_toggleConsole__P16031(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___16080);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_4 = game_consoleOverlay_setVisible__P16111_mk(s);\n    s.tmp_4.arg0 = false;\n    s.tmp_4.arg1 = undefined;\n    s.pc = 3; return s.tmp_4;\n  case 3:\n    r0 = s.retval;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_0 = game_consoleOverlay_setVisible__P16111_mk(s);\n    s.tmp_0.arg0 = true;\n    s.tmp_0.arg1 = undefined;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = console_log__P15032_mk(s);\n    s.tmp_0.arg0 = \"console\";\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_toggleConsole__P16031.info = {\"start\":9365,\"length\":239,\"line\":297,\"column\":4,\"endLine\":304,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"toggleConsole\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_toggleConsole__P16031_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_toggleConsole__P16031, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n} }\n\n\n\n\n\nfunction game_consoleOverlay_setVisible__P16111(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_1 = r0 = s.arg0;\n    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___16080);\n    s.tmp_5 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 != s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    { step = 2; continue; }\n  case 1:\n    r0 = undefined;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    globals.consoleStrings___16080 = (s.tmp_6);\n  case 3:\n  case 4:\n    r0 = (s.arg1 !== undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    globals.consoleColor___16079 = (s.arg1);\n  case 5:\n  case 6:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_consoleOverlay_setVisible__P16111.info = {\"start\":562,\"length\":219,\"line\":19,\"column\":4,\"endLine\":24,\"endColumn\":5,\"fileName\":\"pxt_modules/game/console.ts\",\"functionName\":\"setVisible\",\"argumentNames\":[\"value\",\"col\"]}\n\nfunction game_consoleOverlay_setVisible__P16111_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_consoleOverlay_setVisible__P16111, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction console_log__P15032(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = console_add__P15028_mk(s);\n    s.tmp_0.arg0 = 1;\n    s.tmp_1 = console_inspect__P15034_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = 20;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nconsole_log__P15032.info = {\"start\":1422,\"length\":95,\"line\":57,\"column\":4,\"endLine\":59,\"endColumn\":5,\"fileName\":\"pxt_modules/base/console.ts\",\"functionName\":\"log\",\"argumentNames\":[\"value\"]}\n\nfunction console_log__P15032_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: console_log__P15032, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction console_inspect__P15034(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.asArr___24422 = undefined;\n    s.asString___24439 = undefined;\n    s.keys___24449 = undefined;\n    s.snipped___24453 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_pxtcore.typeOf(s.arg0);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == \"string\");\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0;\n    { step = 17; continue; }\n    { step = 16; continue; }\n  case 1:\n    r0 = pxsim_pxtcore.typeOf(s.arg0);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 == \"number\");\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 2; continue; }\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_4 = r0;\n    if ((s.arg0) && (s.arg0).vtable) {\n    setupResume(s, 18);\n    pxsim_String__stringConv(s.arg0);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg0) + \"\"; }\n  case 18:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);\n    { step = 17; continue; }\n    { step = 15; continue; }\n  case 2:\n    r0 = pxsim_Array_.isArray(s.arg0);\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 5; continue; }\n    s.asArr___24422 = (s.arg0);\n    r0 = pxsim_Array__length(s.asArr___24422);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_2 = helpers_arrayJoin__P14880_mk(s);\n    s.tmp_2.arg0 = s.asArr___24422;\n    s.tmp_2.arg1 = \",\";\n    s.pc = 19; return s.tmp_2;\n  case 19:\n    r0 = s.retval;\n    { step = 17; continue; }\n    { step = 4; continue; }\n  case 3:\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_4 = r0;\n    s.tmp_7 = helpers_arrayJoin__P14880_mk(s);\n    s.tmp_8 = helpers_arraySlice__P14893_mk(s);\n    s.tmp_8.arg0 = s.asArr___24422;\n    s.tmp_8.arg1 = 0;\n    s.tmp_8.arg2 = s.arg1;\n    s.pc = 21; return s.tmp_8;\n  case 21:\n    r0 = s.retval;\n    s.tmp_7.arg0 = r0;\n    s.tmp_7.arg1 = \",\";\n    s.pc = 20; return s.tmp_7;\n  case 20:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    if ((s.tmp_6) && (s.tmp_6).vtable) {\n    setupResume(s, 22);\n    pxsim_String__stringConv(s.tmp_6);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_6) + \"\"; }\n  case 22:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, \"...\");\n    { step = 17; continue; }\n  case 4:\n    { step = 14; continue; }\n  case 5:\n    if ((s.arg0) && (s.arg0).vtable) {\n    setupResume(s, 23);\n    pxsim_String__stringConv(s.arg0);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg0) + \"\"; }\n  case 23:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_10 = r0;\n    r0 = pxsim_String__concat(s.tmp_9, s.tmp_10);\n    s.asString___24439 = (r0);\n    r0 = (s.asString___24439 != \"[object Object]\");\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 6; continue; }\n    r0 = s.tmp_0;\n    { step = 7; continue; }\n  case 6:\n    r0 = (s.asString___24439 != \"[Object]\");\n  case 7:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 8; continue; }\n    r0 = s.asString___24439;\n    { step = 17; continue; }\n  case 8:\n  case 9:\n    r0 = pxsim_pxtrt.keysOf(s.arg0);\n    s.keys___24449 = (r0);\n    r0 = pxsim_Array__length(s.keys___24449);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 > s.arg1);\n    s.snipped___24453 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.snipped___24453);\n    if (!r0) { step = 10; continue; }\n    s.tmp_0 = helpers_arraySlice__P14893_mk(s);\n    s.tmp_0.arg0 = s.keys___24449;\n    s.tmp_0.arg1 = 0;\n    s.tmp_0.arg2 = s.arg1;\n    s.pc = 24; return s.tmp_0;\n  case 24:\n    r0 = s.retval;\n    s.keys___24449 = (r0);\n  case 10:\n  case 11:\n    r0 = pxsim_pxtcore_mkAction(1, inline__P24470);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim_numops_toBoolDecr(s.snipped___24453);\n    if (!r0) { step = 12; continue; }\n    r0 = \"\\\\n    ...\";\n    { step = 13; continue; }\n  case 12:\n    r0 = pxsim_String_.mkEmpty();\n  case 13:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.tmp_7 = helpers_arrayReduce__P14891_mk(s);\n    s.tmp_7.arg0 = s.keys___24449;\n    s.tmp_7.arg1 = s.tmp_0;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_7.arg2 = r0;\n    s.pc = 25; return s.tmp_7;\n  case 25:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    if ((s.tmp_6) && (s.tmp_6).vtable) {\n    setupResume(s, 26);\n    pxsim_String__stringConv(s.tmp_6);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_6) + \"\"; }\n  case 26:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    if ((s.tmp_1) && (s.tmp_1).vtable) {\n    setupResume(s, 27);\n    pxsim_String__stringConv(s.tmp_1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_1) + \"\"; }\n  case 27:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);\n    s.tmp_4 = r0;\n    if ((s.tmp_4) && (s.tmp_4).vtable) {\n    setupResume(s, 28);\n    pxsim_String__stringConv(s.tmp_4);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_4) + \"\"; }\n  case 28:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_String__concat(\"{\", s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, \"\\\\n}\");\n    { step = 17; continue; }\n  case 14:\n  case 15:\n  case 16:\n    r0 = undefined;\n  case 17:\n    return leave(s, r0)\n  default: oops()\n} } }\nconsole_inspect__P15034.info = {\"start\":2173,\"length\":1190,\"line\":78,\"column\":4,\"endLine\":111,\"endColumn\":5,\"fileName\":\"pxt_modules/base/console.ts\",\"functionName\":\"inspect\",\"argumentNames\":[\"obj\",\"maxElements\"]}\n\nfunction console_inspect__P15034_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: console_inspect__P15034, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  asArr___24422: undefined,\n  asString___24439: undefined,\n  keys___24449: undefined,\n  snipped___24453: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P24470(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    if ((s.arg0) && (s.arg0).vtable) {\n    setupResume(s, 1);\n    pxsim_String__stringConv(s.arg0);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg0) + \"\"; }\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    if ((s.arg1) && (s.arg1).vtable) {\n    setupResume(s, 2);\n    pxsim_String__stringConv(s.arg1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg1) + \"\"; }\n  case 2:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = pxsim_String__concat(\"\\\\n    \", s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_4, \": \");\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtrt.mapGetGeneric(s.caps[0], s.arg1);\n    s.tmp_7 = r0;\n    if ((s.tmp_7) && (s.tmp_7).vtable) {\n    setupResume(s, 3);\n    pxsim_String__stringConv(s.tmp_7);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_7) + \"\"; }\n  case 3:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, s.tmp_6);\n    s.tmp_2 = r0;\n    if ((s.tmp_2) && (s.tmp_2).vtable) {\n    setupResume(s, 4);\n    pxsim_String__stringConv(s.tmp_2);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_2) + \"\"; }\n  case 4:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24470.info = {\"start\":3195,\"length\":61,\"line\":105,\"column\":20,\"endLine\":105,\"endColumn\":81,\"fileName\":\"pxt_modules/base/console.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"prev\",\"currKey\"]}\n\nfunction inline__P24470_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24470, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_arrayReduce__P14891(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.len___24497 = undefined;\n    s.i___24500 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__length(s.arg0);\n    s.len___24497 = (r0);\n    s.i___24500 = (0);\n  case 1:\n    r0 = (s.i___24500 < s.len___24497);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = lambda_4_mk(s);\n    s.tmp_1.argL = s.arg1;\n    s.tmp_1.arg0 = s.arg2;\n    r0 = pxsim_Array__getAt(s.arg0, s.i___24500);\n    s.tmp_1.arg1 = r0;\n    s.tmp_1.arg2 = s.i___24500;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.arg2 = (r0);\n    r0 = (s.i___24500 + 1);\n    s.i___24500 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = s.arg2;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arrayReduce__P14891.info = {\"start\":6033,\"length\":317,\"line\":196,\"column\":4,\"endLine\":202,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arrayReduce\",\"argumentNames\":[\"arr\",\"callbackfn\",\"initialValue\"]}\n\nfunction helpers_arrayReduce__P14891_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arrayReduce__P14891, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  len___24497: undefined,\n  i___24500: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction helpers_arrayJoin__P14880(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.r___24521 = undefined;\n    s.len___24522 = undefined;\n    s.i___24525 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg1 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = (s.arg1 === null);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    s.arg1 = (\",\");\n  case 3:\n  case 4:\n    r0 = pxsim_String_.mkEmpty();\n    s.r___24521 = (r0);\n    r0 = pxsim_Array__length(s.arg0);\n    s.len___24522 = (r0);\n    s.i___24525 = (0);\n  case 5:\n    r0 = (s.i___24525 < s.len___24522);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 14; continue; }\n    r0 = (s.i___24525 > 0);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_1);\n    if (r0) { step = 6; continue; }\n    r0 = s.tmp_1;\n    { step = 7; continue; }\n  case 6:\n    r0 = s.arg1;\n  case 7:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 8; continue; }\n    if ((s.r___24521) && (s.r___24521).vtable) {\n    setupResume(s, 15);\n    pxsim_String__stringConv(s.r___24521);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.r___24521) + \"\"; }\n  case 15:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    if ((s.arg1) && (s.arg1).vtable) {\n    setupResume(s, 16);\n    pxsim_String__stringConv(s.arg1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg1) + \"\"; }\n  case 16:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);\n    s.r___24521 = (r0);\n  case 8:\n  case 9:\n    r0 = pxsim_Array__getAt(s.arg0, s.i___24525);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 10; continue; }\n    r0 = s.tmp_0;\n    { step = 11; continue; }\n  case 10:\n    r0 = pxsim_Array__getAt(s.arg0, s.i___24525);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 === null);\n  case 11:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 12; continue; }\n    r0 = pxsim_String_.mkEmpty();\n    { step = 13; continue; }\n  case 12:\n    r0 = pxsim_Array__getAt(s.arg0, s.i___24525);\n  case 13:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    if ((s.r___24521) && (s.r___24521).vtable) {\n    setupResume(s, 17);\n    pxsim_String__stringConv(s.r___24521);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.r___24521) + \"\"; }\n  case 17:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    if ((s.tmp_4) && (s.tmp_4).vtable) {\n    setupResume(s, 18);\n    pxsim_String__stringConv(s.tmp_4);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_4) + \"\"; }\n  case 18:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);\n    s.r___24521 = (r0);\n    r0 = (s.i___24525 + 1);\n    s.i___24525 = (r0);\n    { step = 5; continue; }\n  case 14:\n    r0 = s.r___24521;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arrayJoin__P14880.info = {\"start\":1850,\"length\":432,\"line\":73,\"column\":4,\"endLine\":86,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arrayJoin\",\"argumentNames\":[\"arr\",\"sep\"]}\n\nfunction helpers_arrayJoin__P14880_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arrayJoin__P14880, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  r___24521: undefined,\n  len___24522: undefined,\n  i___24525: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction console_add__P15028(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.i___24566 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 < globals.minPriority___15026);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    if ((s.arg1) && (s.arg1).vtable) {\n    setupResume(s, 6);\n    pxsim_String__stringConv(s.arg1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.arg1) + \"\"; }\n  case 6:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, \"\\\\n\");\n    s.arg1 = (r0);\n    s.i___24566 = (0);\n  case 3:\n    s.tmp_1 = r0 = s.i___24566;\n    r0 = pxsim_Array__length(globals.listeners___15027);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_3 = lambda_3_mk(s);\n    r0 = pxsim_Array__getAt(globals.listeners___15027, s.i___24566);\n    s.tmp_3.argL = r0;\n    s.tmp_3.arg0 = s.arg0;\n    s.tmp_3.arg1 = s.arg1;\n    setupLambda(s.tmp_3, s.tmp_3.argL);\n    s.pc = 7; return s.tmp_3;\n  case 7:\n    r0 = s.retval;\n    r0 = (s.i___24566 + 1);\n    s.i___24566 = (r0);\n    { step = 3; continue; }\n  case 4:\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nconsole_add__P15028.info = {\"start\":632,\"length\":280,\"line\":28,\"column\":4,\"endLine\":35,\"endColumn\":5,\"fileName\":\"pxt_modules/base/console.ts\",\"functionName\":\"add\",\"argumentNames\":[\"priority\",\"text\"]}\n\nfunction console_add__P15028_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: console_add__P15028, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  i___24566: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_toggleStats__P16030(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.stats___15840);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    globals.stats___15840 = (r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_toggleStats__P16030.info = {\"start\":9295,\"length\":64,\"line\":293,\"column\":4,\"endLine\":295,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"toggleStats\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_toggleStats__P16030_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_toggleStats__P16030, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_brightnessDown__P16029(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = helpers_setScreenBrightness__P15260_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = globals.brightness___15242;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 10);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_brightnessDown__P16029.info = {\"start\":9200,\"length\":89,\"line\":289,\"column\":4,\"endLine\":291,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"brightnessDown\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_brightnessDown__P16029_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_brightnessDown__P16029, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\n\n\n\n\nfunction helpers_setScreenBrightness__P15260(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = Math_clamp__P14899_mk(s);\n    s.tmp_0.arg0 = 10;\n    s.tmp_0.arg1 = 100;\n    r0 = (s.arg1 | 0);\n    s.tmp_0.arg2 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.arg1 = (r0);\n    globals.brightness___15242 = (s.arg1);\n    r0 = pxsim_pxtcore.setScreenBrightness(globals.brightness___15242);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_setScreenBrightness__P15260.info = {\"start\":7332,\"length\":210,\"line\":237,\"column\":4,\"endLine\":241,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/image.ts\",\"functionName\":\"setScreenBrightness\",\"argumentNames\":[\"img\",\"b\"]}\n\nfunction helpers_setScreenBrightness__P15260_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_setScreenBrightness__P15260, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_brightnessUp__P16028(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = helpers_setScreenBrightness__P15260_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = globals.brightness___15242;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + 10);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_brightnessUp__P16028.info = {\"start\":9107,\"length\":87,\"line\":285,\"column\":4,\"endLine\":287,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"brightnessUp\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_brightnessUp__P16028_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_brightnessUp__P16028, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_volumeDown__P16027(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.v___24701 = undefined;\n    s.remainder___24703 = undefined;\n    s.newVolume___24705 = undefined;\n    s.tmp_0 = music_volume__P15183_mk(s);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.v___24701 = (r0);\n    r0 = (s.v___24701 % 32);\n    s.remainder___24703 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.remainder___24703);\n    if (!r0) { step = 1; continue; }\n    r0 = s.remainder___24703;\n    { step = 2; continue; }\n  case 1:\n    r0 = 32;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    r0 = (s.v___24701 - s.tmp_0);\n    s.newVolume___24705 = (r0);\n    s.tmp_0 = scene_systemMenu_setVolume__P16025_mk(s);\n    s.tmp_0.arg0 = s.newVolume___24705;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_volumeDown__P16027.info = {\"start\":8914,\"length\":187,\"line\":278,\"column\":4,\"endLine\":283,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"volumeDown\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_volumeDown__P16027_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_volumeDown__P16027, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  v___24701: undefined,\n  remainder___24703: undefined,\n  newVolume___24705: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_setVolume__P16025(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = music_setVolume__P15182_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = music_playTone__P15185_mk(s);\n    s.tmp_0.arg0 = 440;\n    s.tmp_0.arg1 = 500;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0 = settings_writeNumber__P15337_mk(s);\n    s.tmp_0.arg0 = \"#volume\";\n    s.tmp_0.arg1 = s.arg0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_setVolume__P16025.info = {\"start\":8565,\"length\":166,\"line\":265,\"column\":4,\"endLine\":269,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"setVolume\",\"argumentNames\":[\"newVolume\"]}\n\nfunction scene_systemMenu_setVolume__P16025_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_setVolume__P16025, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction music_playTone__P15185(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.id___24644 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_pxtrt.mklocRef();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.arg1);\n    s.arg1 = (s.tmp_0);\n    r0 = pxsim_pxtrt_ldlocRef(s.arg1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 == 0);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_pxtrt_stlocRef(s.arg1, 86400000);\n  case 1:\n  case 2:\n    r0 = pxsim_pxtrt_ldlocRef(s.arg1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= 2000);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_2 = music_playNoteCore__P15184_mk(s);\n    s.tmp_2.arg0 = 0;\n    s.tmp_2.arg1 = s.arg0;\n    r0 = pxsim_pxtrt_ldlocRef(s.arg1);\n    s.tmp_2.arg2 = r0;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = pause__P15082_mk(s);\n    r0 = pxsim_pxtrt_ldlocRef(s.arg1);\n    s.tmp_0.arg0 = r0;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    { step = 4; continue; }\n  case 3:\n    r0 = (globals.playToneID___15186 + 1);\n    s.tmp_0 = r0;\n    globals.playToneID___15186 = (r0);\n    s.id___24644 = (s.tmp_0);\n    r0 = pxsim_pxtcore_mkAction(3, inline__P24649);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.id___24644);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg1);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg0);\n    r0 = pxsim.control.runInParallel(s.tmp_0);\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_playTone__P15185.info = {\"start\":2591,\"length\":831,\"line\":83,\"column\":4,\"endLine\":108,\"endColumn\":5,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"playTone\",\"argumentNames\":[\"frequency\",\"ms\"]}\n\nfunction music_playTone__P15185_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_playTone__P15185, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  id___24644: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P24649(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.pos___24650 = undefined;\n    s.now___24658 = undefined;\n    s.d___24661 = undefined;\n    s.t___24664 = undefined;\n    r0 = pxsim.control.millis();\n    s.pos___24650 = (r0);\n  case 1:\n    r0 = (s.caps[0] == globals.playToneID___15186);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 2; continue; }\n    r0 = s.tmp_0;\n    { step = 3; continue; }\n  case 2:\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 0);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 6; continue; }\n    r0 = pxsim.control.millis();\n    s.now___24658 = (r0);\n    r0 = (s.pos___24650 - s.now___24658);\n    s.d___24661 = (r0);\n    s.tmp_0 = Math_min__P14903_mk(s);\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = 500;\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    s.t___24664 = (r0);\n    s.tmp_0 = r0 = s.caps[1];\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.t___24664);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);\n    r0 = (s.pos___24650 + s.t___24664);\n    s.pos___24650 = (r0);\n    s.tmp_0 = music_playNoteCore__P15184_mk(s);\n    r0 = (s.d___24661 - 1);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.caps[2];\n    s.tmp_0.arg2 = s.t___24664;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 == 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_2 = pause__P15082_mk(s);\n    r0 = (s.d___24661 + s.t___24664);\n    s.tmp_2.arg0 = r0;\n    s.pc = 9; return s.tmp_2;\n  case 9:\n    r0 = s.retval;\n    { step = 5; continue; }\n  case 4:\n    s.tmp_0 = pause__P15082_mk(s);\n    r0 = (s.d___24661 + s.t___24664);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 100);\n    s.tmp_0.arg0 = r0;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n  case 5:\n    { step = 1; continue; }\n  case 6:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24649.info = {\"start\":2890,\"length\":515,\"line\":92,\"column\":34,\"endLine\":106,\"endColumn\":13,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24649_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24649, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  pos___24650: undefined,\n  now___24658: undefined,\n  d___24661: undefined,\n  t___24664: undefined,\n} }\n\n\n\n\n\nfunction music_playNoteCore__P15184(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.buf___24687 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim.control.createBuffer(12);\n    s.buf___24687 = (r0);\n    s.tmp_0 = music_addNote__P15203_mk(s);\n    s.tmp_0.arg0 = s.buf___24687;\n    s.tmp_0.arg1 = 0;\n    s.tmp_0.arg2 = s.arg2;\n    s.tmp_0.arg3 = 255;\n    s.tmp_0.arg4 = 255;\n    s.tmp_0.arg5 = 3;\n    s.tmp_0.arg6 = s.arg1;\n    s.tmp_1 = music_volume__P15183_mk(s);\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg7 = r0;\n    s.tmp_0.arg8 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = pxsim.music.queuePlayInstructions(s.arg0, s.buf___24687);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_playNoteCore__P15184.info = {\"start\":1877,\"length\":240,\"line\":66,\"column\":4,\"endLine\":70,\"endColumn\":5,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"playNoteCore\",\"argumentNames\":[\"when\",\"frequency\",\"ms\"]}\n\nfunction music_playNoteCore__P15184_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_playNoteCore__P15184, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  buf___24687: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_volumeUp__P16026(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.v___24618 = undefined;\n    s.remainder___24620 = undefined;\n    s.newVolume___24622 = undefined;\n    s.tmp_0 = music_volume__P15183_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.v___24618 = (r0);\n    r0 = (s.v___24618 % 32);\n    s.remainder___24620 = (r0);\n    r0 = (s.v___24618 + 32);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - s.remainder___24620);\n    s.newVolume___24622 = (r0);\n    s.tmp_0 = scene_systemMenu_setVolume__P16025_mk(s);\n    s.tmp_0.arg0 = s.newVolume___24622;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_volumeUp__P16026.info = {\"start\":8737,\"length\":171,\"line\":271,\"column\":4,\"endLine\":276,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"volumeUp\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_volumeUp__P16026_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_volumeUp__P16026, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  v___24618: undefined,\n  remainder___24620: undefined,\n  newVolume___24622: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_MenuOption_constructor__P16016(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C16008_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"iconImage\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"getText\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"action\"] = (s.arg3);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_MenuOption_constructor__P16016.info = {\"start\":786,\"length\":108,\"line\":38,\"column\":8,\"endLine\":39,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"iconImage\",\"getText\",\"action\"]}\n\nfunction scene_systemMenu_MenuOption_constructor__P16016_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_MenuOption_constructor__P16016, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction helpers_screenBrightness__P15261(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = globals.brightness___15242;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_screenBrightness__P15261.info = {\"start\":7548,\"length\":98,\"line\":243,\"column\":4,\"endLine\":245,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/image.ts\",\"functionName\":\"screenBrightness\",\"argumentNames\":[\"img\"]}\n\nfunction helpers_screenBrightness__P15261_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_screenBrightness__P15261, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction helpers_arrayConcat__P14892(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.out___24379 = undefined;\n    s.value___24382 = undefined;\n    s.unnamed108___U2 = undefined;\n    s.unnamed109___U3 = undefined;\n    s.value___24389 = undefined;\n    s.unnamed110___U5 = undefined;\n    s.unnamed111___U6 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.out___24379 = (r0);\n    s.value___24382 = (undefined);\n    s.value___24382 = (undefined);\n    s.unnamed108___U2 = (s.arg0);\n    s.unnamed109___U3 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed109___U3;\n    r0 = pxsim_Array__length(s.unnamed108___U2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 2; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed108___U2, s.unnamed109___U3);\n    s.value___24382 = (r0);\n    r0 = pxsim_Array__push(s.out___24379, s.value___24382);\n    r0 = (s.unnamed109___U3 + 1);\n    s.unnamed109___U3 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.unnamed108___U2 = (undefined);\n    s.value___24389 = (undefined);\n    s.value___24389 = (undefined);\n    s.unnamed110___U5 = (s.arg1);\n    s.unnamed111___U6 = (0);\n  case 3:\n    s.tmp_0 = r0 = s.unnamed111___U6;\n    r0 = pxsim_Array__length(s.unnamed110___U5);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed110___U5, s.unnamed111___U6);\n    s.value___24389 = (r0);\n    r0 = pxsim_Array__push(s.out___24379, s.value___24389);\n    r0 = (s.unnamed111___U6 + 1);\n    s.unnamed111___U6 = (r0);\n    { step = 3; continue; }\n  case 4:\n    s.unnamed110___U5 = (undefined);\n    r0 = s.out___24379;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arrayConcat__P14892.info = {\"start\":6356,\"length\":264,\"line\":204,\"column\":4,\"endLine\":213,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arrayConcat\",\"argumentNames\":[\"arr\",\"otherArr\"]}\n\nfunction helpers_arrayConcat__P14892_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arrayConcat__P14892, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  out___24379: undefined,\n  value___24382: undefined,\n  unnamed108___U2: undefined,\n  unnamed109___U3: undefined,\n  value___24389: undefined,\n  unnamed110___U5: undefined,\n  unnamed111___U6: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_PauseMenu_constructor__P16024(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C16017_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"generator\"] = (s.arg1);\n    s.tmp_0 = r0 = s.arg2;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_1 = scene_systemMenu_buildMenuTheme__P16035_mk(s);\n    r0 = pxsim_ImageMethods.width(globals.CARD_NORMAL___16046);\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = 3;\n    s.tmp_1.arg2 = undefined;\n    s.tmp_1.arg3 = undefined;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = (s.arg0).fields[\"theme\"] = (s.tmp_2);\n    r0 = (s.arg0).fields[\"scrollRow\"] = (0);\n    r0 = (s.arg0).fields[\"scrollOffset\"] = (0);\n    r0 = (s.arg0).fields[\"scrollTarget\"] = (0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_PauseMenu_constructor__P16024.info = {\"start\":3029,\"length\":257,\"line\":116,\"column\":8,\"endLine\":121,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"generator\",\"theme\"]}\n\nfunction scene_systemMenu_PauseMenu_constructor__P16024_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_PauseMenu_constructor__P16024, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_buildMenuTheme__P16035(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.cardsPerRow___24732 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_0 = r0;\n    r0 = (s.arg0 + s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, s.tmp_1);\n    s.cardsPerRow___24732 = (r0);\n    s.tmp_0 = r0 = s.arg2;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = globals.font8___15264;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.arg2 = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg3;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_1 = image_doubledFont__P15267_mk(s);\n    s.tmp_1.arg0 = s.arg2;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.arg3 = (s.tmp_2);\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"cardSpacing\", s.arg1);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"cardWidth\", s.arg0);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"cardsPerRow\", s.cardsPerRow___24732);\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_3 = r0;\n    r0 = (s.cardsPerRow___24732 * s.arg0);\n    s.tmp_5 = r0;\n    r0 = (s.cardsPerRow___24732 - 1);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 * s.arg1);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 + s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 - s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"padding\", s.tmp_1);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"infoFont\", s.arg2);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"headerFont\", s.arg3);\n    s.tmp_11 = if_charHeight_1_mk(s);\n    s.tmp_11.arg0 = s.arg3;\n    if (!s.tmp_11.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_11.arg0, \"charHeight\");\n    } else {\n    s.tmp_11.fn = s.tmp_11.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_11.fn == null) { s.retval = s.tmp_11.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 6; return s.tmp_11; }\n    }\n  case 6:\n    r0 = s.retval;\n    s.tmp_10 = r0;\n    r0 = (s.tmp_10 + 2);\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 + s.arg1);\n    s.tmp_8 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"cardsTop\", s.tmp_8);\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_14 = r0;\n    s.tmp_16 = if_charHeight_1_mk(s);\n    s.tmp_16.arg0 = s.arg2;\n    if (!s.tmp_16.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_16.arg0, \"charHeight\");\n    } else {\n    s.tmp_16.fn = s.tmp_16.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_16.fn == null) { s.retval = s.tmp_16.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 7; return s.tmp_16; }\n    }\n  case 7:\n    r0 = s.retval;\n    s.tmp_15 = r0;\n    r0 = (s.tmp_14 - s.tmp_15);\n    s.tmp_13 = r0;\n    r0 = (s.tmp_13 - 2);\n    s.tmp_12 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"infoTop\", s.tmp_12);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"headerText\", \"PAUSED\");\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"selectedCard\", globals.CARD_SELECTED___16049);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"activeCard\", globals.CARD_ACTIVE___16052);\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, \"basicCard\", globals.CARD_NORMAL___16046);\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_buildMenuTheme__P16035.info = {\"start\":10973,\"length\":906,\"line\":339,\"column\":4,\"endLine\":358,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"buildMenuTheme\",\"argumentNames\":[\"cardWidth\",\"cardSpacing\",\"infoFont\",\"headerFont\"]}\n\nfunction scene_systemMenu_buildMenuTheme__P16035_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_buildMenuTheme__P16035, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  tmp_16: undefined,\n  cardsPerRow___24732: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction image_doubledFont__P15267(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = image_scaledFont__P15268_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 2;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\nimage_doubledFont__P15267.info = {\"start\":12008,\"length\":82,\"line\":146,\"column\":4,\"endLine\":148,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/text.ts\",\"functionName\":\"doubledFont\",\"argumentNames\":[\"f\"]}\n\nfunction image_doubledFont__P15267_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: image_doubledFont__P15267, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction image_scaledFont__P15268(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg1 | 0);\n    s.arg1 = (r0);\n    r0 = (s.arg1 < 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0;\n    { step = 5; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_1 = r0;\n    s.tmp_4 = if_charWidth_1_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    if (!s.tmp_4.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, \"charWidth\");\n    } else {\n    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 6; return s.tmp_4; }\n    }\n  case 6:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 * s.arg1);\n    s.tmp_2 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, \"charWidth\", s.tmp_2);\n    s.tmp_7 = if_charHeight_1_mk(s);\n    s.tmp_7.arg0 = s.arg0;\n    if (!s.tmp_7.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, \"charHeight\");\n    } else {\n    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 7; return s.tmp_7; }\n    }\n  case 7:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 * s.arg1);\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, \"charHeight\", s.tmp_5);\n    s.tmp_9 = if_data_1_mk(s);\n    s.tmp_9.arg0 = s.arg0;\n    if (!s.tmp_9.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_9.arg0, \"data\");\n    } else {\n    s.tmp_9.fn = s.tmp_9.arg0.vtable.iface[\"data\"];\n    if (s.tmp_9.fn == null) { s.retval = s.tmp_9.arg0.fields[\"data\"]; }\n    else { s.pc = 8; return s.tmp_9; }\n    }\n  case 8:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, \"data\", s.tmp_8);\n    s.tmp_11 = if_multiplier_1_mk(s);\n    s.tmp_11.arg0 = s.arg0;\n    if (!s.tmp_11.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_11.arg0, \"multiplier\");\n    } else {\n    s.tmp_11.fn = s.tmp_11.arg0.vtable.iface[\"multiplier\"];\n    if (s.tmp_11.fn == null) { s.retval = s.tmp_11.arg0.fields[\"multiplier\"]; }\n    else { s.pc = 9; return s.tmp_11; }\n    }\n  case 9:\n    r0 = s.retval;\n    s.tmp_10 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_10);\n    if (!r0) { step = 3; continue; }\n    s.tmp_12 = r0 = s.arg1;\n    s.tmp_14 = if_multiplier_1_mk(s);\n    s.tmp_14.arg0 = s.arg0;\n    if (!s.tmp_14.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_14.arg0, \"multiplier\");\n    } else {\n    s.tmp_14.fn = s.tmp_14.arg0.vtable.iface[\"multiplier\"];\n    if (s.tmp_14.fn == null) { s.retval = s.tmp_14.arg0.fields[\"multiplier\"]; }\n    else { s.pc = 10; return s.tmp_14; }\n    }\n  case 10:\n    r0 = s.retval;\n    s.tmp_13 = r0;\n    r0 = (s.tmp_12 * s.tmp_13);\n    { step = 4; continue; }\n  case 3:\n    r0 = s.arg1;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_15 = r0;\n    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, \"multiplier\", s.tmp_15);\n    r0 = s.tmp_1;\n  case 5:\n    return leave(s, r0)\n  default: oops()\n} } }\nimage_scaledFont__P15268.info = {\"start\":12096,\"length\":331,\"line\":150,\"column\":4,\"endLine\":160,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/text.ts\",\"functionName\":\"scaledFont\",\"argumentNames\":[\"f\",\"size\"]}\n\nfunction image_scaledFont__P15268_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: image_scaledFont__P15268, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_PauseMenu_show__P16018(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.current___23480 = undefined;\n    s.i___23481 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C16017_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = lambda_1_mk(s);\n    r0 = s.arg0.fields[\"generator\"];\n    s.tmp_2.argL = r0;\n    setupLambda(s.tmp_2, s.tmp_2.argL);\n    s.pc = 3; return s.tmp_2;\n  case 3:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"options\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"selection\"] = (0);\n    s.i___23481 = (0);\n  case 1:\n    s.tmp_1 = r0 = s.i___23481;\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__length(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_4, s.i___23481);\n    s.current___23480 = (r0);\n    s.tmp_0 = scene_systemMenu_MenuOption_show__P16009_mk(s);\n    s.tmp_0.arg0 = s.current___23480;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = scene_systemMenu_MenuOption_setTheme__P16012_mk(s);\n    s.tmp_0.arg0 = s.current___23480;\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_0.arg1 = r0;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = scene_systemMenu_MenuOption_position__P16010_mk(s);\n    s.tmp_0.arg0 = s.current___23480;\n    s.tmp_2 = if_padding_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_2.arg0 = r0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"padding\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"padding\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"padding\"]; }\n    else { s.pc = 7; return s.tmp_2; }\n    }\n  case 7:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_5 = r0 = s.i___23481;\n    s.tmp_7 = if_cardsPerRow_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_7.arg0 = r0;\n    if (!s.tmp_7.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, \"cardsPerRow\");\n    } else {\n    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface[\"cardsPerRow\"];\n    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields[\"cardsPerRow\"]; }\n    else { s.pc = 8; return s.tmp_7; }\n    }\n  case 8:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 % s.tmp_6);\n    s.tmp_4 = r0;\n    s.tmp_10 = if_cardWidth_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_10.arg0 = r0;\n    if (!s.tmp_10.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_10.arg0, \"cardWidth\");\n    } else {\n    s.tmp_10.fn = s.tmp_10.arg0.vtable.iface[\"cardWidth\"];\n    if (s.tmp_10.fn == null) { s.retval = s.tmp_10.arg0.fields[\"cardWidth\"]; }\n    else { s.pc = 9; return s.tmp_10; }\n    }\n  case 9:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    s.tmp_12 = if_cardSpacing_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_12.arg0 = r0;\n    if (!s.tmp_12.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_12.arg0, \"cardSpacing\");\n    } else {\n    s.tmp_12.fn = s.tmp_12.arg0.vtable.iface[\"cardSpacing\"];\n    if (s.tmp_12.fn == null) { s.retval = s.tmp_12.arg0.fields[\"cardSpacing\"]; }\n    else { s.pc = 10; return s.tmp_12; }\n    }\n  case 10:\n    r0 = s.retval;\n    s.tmp_11 = r0;\n    r0 = (s.tmp_9 + s.tmp_11);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_4 * s.tmp_8);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 + s.tmp_3);\n    s.tmp_0.arg1 = r0;\n    s.tmp_14 = if_cardsTop_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_14.arg0 = r0;\n    if (!s.tmp_14.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_14.arg0, \"cardsTop\");\n    } else {\n    s.tmp_14.fn = s.tmp_14.arg0.vtable.iface[\"cardsTop\"];\n    if (s.tmp_14.fn == null) { s.retval = s.tmp_14.arg0.fields[\"cardsTop\"]; }\n    else { s.pc = 11; return s.tmp_14; }\n    }\n  case 11:\n    r0 = s.retval;\n    s.tmp_13 = r0;\n    s.tmp_17 = r0 = s.i___23481;\n    s.tmp_19 = if_cardsPerRow_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_19.arg0 = r0;\n    if (!s.tmp_19.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_19.arg0, \"cardsPerRow\");\n    } else {\n    s.tmp_19.fn = s.tmp_19.arg0.vtable.iface[\"cardsPerRow\"];\n    if (s.tmp_19.fn == null) { s.retval = s.tmp_19.arg0.fields[\"cardsPerRow\"]; }\n    else { s.pc = 12; return s.tmp_19; }\n    }\n  case 12:\n    r0 = s.retval;\n    s.tmp_18 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_17, s.tmp_18);\n    s.tmp_16 = r0;\n    s.tmp_22 = if_cardWidth_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_22.arg0 = r0;\n    if (!s.tmp_22.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_22.arg0, \"cardWidth\");\n    } else {\n    s.tmp_22.fn = s.tmp_22.arg0.vtable.iface[\"cardWidth\"];\n    if (s.tmp_22.fn == null) { s.retval = s.tmp_22.arg0.fields[\"cardWidth\"]; }\n    else { s.pc = 13; return s.tmp_22; }\n    }\n  case 13:\n    r0 = s.retval;\n    s.tmp_21 = r0;\n    s.tmp_24 = if_cardSpacing_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_24.arg0 = r0;\n    if (!s.tmp_24.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_24.arg0, \"cardSpacing\");\n    } else {\n    s.tmp_24.fn = s.tmp_24.arg0.vtable.iface[\"cardSpacing\"];\n    if (s.tmp_24.fn == null) { s.retval = s.tmp_24.arg0.fields[\"cardSpacing\"]; }\n    else { s.pc = 14; return s.tmp_24; }\n    }\n  case 14:\n    r0 = s.retval;\n    s.tmp_23 = r0;\n    r0 = (s.tmp_21 + s.tmp_23);\n    s.tmp_20 = r0;\n    r0 = (s.tmp_16 * s.tmp_20);\n    s.tmp_15 = r0;\n    r0 = (s.tmp_13 + s.tmp_15);\n    s.tmp_0.arg2 = r0;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    r0 = (s.i___23481 + 1);\n    s.i___23481 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.tmp_0 = controller__setUserEventsEnabled__P15427_mk(s);\n    s.tmp_0.arg0 = false;\n    s.pc = 15; return s.tmp_0;\n  case 15:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23541);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_1.arg0 = globals.A___15366;\n    s.tmp_1.arg1 = 2053;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 16; return s.tmp_1;\n  case 16:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23560);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_1.arg0 = globals.A___15366;\n    s.tmp_1.arg1 = 2052;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 17; return s.tmp_1;\n  case 17:\n    r0 = s.retval;\n    s.tmp_0 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_0.arg0 = globals.B___15367;\n    s.tmp_0.arg1 = 2053;\n    s.tmp_0.arg2 = inline__P23588;\n    s.pc = 18; return s.tmp_0;\n  case 18:\n    r0 = s.retval;\n    s.tmp_0 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_0.arg0 = globals.menu___15372;\n    s.tmp_0.arg1 = 2053;\n    s.tmp_0.arg2 = inline__P23593;\n    s.pc = 19; return s.tmp_0;\n  case 19:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23598);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_1.arg0 = globals.up___15369;\n    s.tmp_1.arg1 = 2053;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 20; return s.tmp_1;\n  case 20:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23609);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_1.arg0 = globals.left___15368;\n    s.tmp_1.arg1 = 2053;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 21; return s.tmp_1;\n  case 21:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23617);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_1.arg0 = globals.down___15371;\n    s.tmp_1.arg1 = 2053;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 22; return s.tmp_1;\n  case 22:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23631);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = controller_Button_onEvent__P15384_mk(s);\n    s.tmp_1.arg0 = globals.right___15370;\n    s.tmp_1.arg1 = 2053;\n    s.tmp_1.arg2 = s.tmp_0;\n    s.pc = 23; return s.tmp_1;\n  case 23:\n    r0 = s.retval;\n    r0 = pxsim_pxtcore_mkAction(1, inline__P23641);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = game_onShade__P15873_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.pc = 24; return s.tmp_1;\n  case 24:\n    r0 = s.retval;\n    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P16020_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = 0;\n    s.pc = 25; return s.tmp_0;\n  case 25:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_PauseMenu_show__P16018.info = {\"start\":3296,\"length\":2241,\"line\":123,\"column\":8,\"endLine\":181,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"show\",\"argumentNames\":[\"this\"]}\n\nfunction scene_systemMenu_PauseMenu_show__P16018_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_PauseMenu_show__P16018, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  tmp_16: undefined,\n  tmp_17: undefined,\n  tmp_18: undefined,\n  tmp_19: undefined,\n  tmp_20: undefined,\n  tmp_21: undefined,\n  tmp_22: undefined,\n  tmp_23: undefined,\n  tmp_24: undefined,\n  current___23480: undefined,\n  i___23481: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23541(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_5 = r0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_5, s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_7);\n    if (!r0) { step = 3; continue; }\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    s.tmp_8 = scene_systemMenu_MenuOption_setState__P16013_mk(s);\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_9 = r0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_10 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_9, s.tmp_10);\n    s.tmp_8.arg0 = r0;\n    s.tmp_8.arg1 = 1;\n    s.pc = 6; return s.tmp_8;\n  case 6:\n    r0 = s.retval;\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23541.info = {\"start\":4025,\"length\":170,\"line\":140,\"column\":50,\"endLine\":143,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23541_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23541, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n} }\n\n\n\n\n\nfunction inline__P23560(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_5 = r0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_5, s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_7);\n    if (!r0) { step = 3; continue; }\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    s.tmp_8 = scene_systemMenu_MenuOption_setState__P16013_mk(s);\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_9 = r0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_10 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_9, s.tmp_10);\n    s.tmp_8.arg0 = r0;\n    s.tmp_8.arg1 = 0;\n    s.pc = 6; return s.tmp_8;\n  case 6:\n    r0 = s.retval;\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_1 = r0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_1, s.tmp_2);\n    r0 = r0.fields[\"action\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.runInParallel(s.tmp_0);\n  case 5:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23560.info = {\"start\":4247,\"length\":247,\"line\":145,\"column\":48,\"endLine\":149,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23560_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23560, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n} }\n\n\n\n\n\nfunction inline__P23588(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = scene_systemMenu_closeMenu__P16033_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23588.info = {\"start\":4548,\"length\":50,\"line\":151,\"column\":50,\"endLine\":153,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23588_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23588, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23593(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = scene_systemMenu_closeMenu__P16033_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23593.info = {\"start\":4655,\"length\":50,\"line\":155,\"column\":53,\"endLine\":157,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23593_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23593, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction inline__P23598(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P16020_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_1 = Math_max__P14902_mk(s);\n    s.tmp_1.arg0 = 0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_2 = r0;\n    s.tmp_4 = if_cardsPerRow_1_mk(s);\n    r0 = s.caps[0].fields[\"theme\"];\n    s.tmp_4.arg0 = r0;\n    if (!s.tmp_4.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, \"cardsPerRow\");\n    } else {\n    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface[\"cardsPerRow\"];\n    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields[\"cardsPerRow\"]; }\n    else { s.pc = 3; return s.tmp_4; }\n    }\n  case 3:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 - s.tmp_3);\n    s.tmp_1.arg1 = r0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23598.info = {\"start\":4760,\"length\":110,\"line\":159,\"column\":51,\"endLine\":161,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23598_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23598, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n} }\n\n\n\n\n\nfunction inline__P23609(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P16020_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_1 = Math_max__P14902_mk(s);\n    s.tmp_1.arg0 = 0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1.arg1 = r0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23609.info = {\"start\":4927,\"length\":89,\"line\":163,\"column\":53,\"endLine\":165,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23609_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23609, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction inline__P23617(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P16020_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_1 = Math_min__P14903_mk(s);\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__length(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1.arg0 = r0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_4 = r0;\n    s.tmp_6 = if_cardsPerRow_1_mk(s);\n    r0 = s.caps[0].fields[\"theme\"];\n    s.tmp_6.arg0 = r0;\n    if (!s.tmp_6.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, \"cardsPerRow\");\n    } else {\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface[\"cardsPerRow\"];\n    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields[\"cardsPerRow\"]; }\n    else { s.pc = 3; return s.tmp_6; }\n    }\n  case 3:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 + s.tmp_5);\n    s.tmp_1.arg1 = r0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23617.info = {\"start\":5073,\"length\":132,\"line\":167,\"column\":53,\"endLine\":169,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23617_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23617, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n} }\n\n\n\n\n\nfunction inline__P23631(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P16020_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_1 = Math_min__P14903_mk(s);\n    r0 = s.caps[0].fields[\"options\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__length(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1.arg0 = r0;\n    r0 = s.caps[0].fields[\"selection\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 + 1);\n    s.tmp_1.arg1 = r0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23631.info = {\"start\":5263,\"length\":111,\"line\":171,\"column\":54,\"endLine\":173,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23631_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23631, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n} }\n\n\n\n\n\nfunction inline__P23641(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = scene_systemMenu_PauseMenu_onUpdate__P16019_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = scene_systemMenu_PauseMenu_drawText__P16021_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P23641.info = {\"start\":5403,\"length\":87,\"line\":175,\"column\":25,\"endLine\":178,\"endColumn\":13,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P23641_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P23641, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_PauseMenu_drawText__P16021(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C16017_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    s.tmp_3 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_3.arg0 = globals.screen___15305;\n    s.tmp_3.arg1 = 0;\n    s.tmp_3.arg2 = 0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_3.arg3 = r0;\n    s.tmp_5 = if_cardsTop_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_5.arg0 = r0;\n    if (!s.tmp_5.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, \"cardsTop\");\n    } else {\n    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface[\"cardsTop\"];\n    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields[\"cardsTop\"]; }\n    else { s.pc = 5; return s.tmp_5; }\n    }\n  case 5:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - 2);\n    s.tmp_3.arg4 = r0;\n    s.tmp_3.arg5 = 15;\n    s.pc = 4; return s.tmp_3;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imagePrintCenter__P15272_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_1 = if_headerText_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_1.arg0 = r0;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"headerText\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"headerText\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"headerText\"]; }\n    else { s.pc = 7; return s.tmp_1; }\n    }\n  case 7:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = 2;\n    s.tmp_0.arg3 = 1;\n    s.tmp_2 = if_headerFont_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_2.arg0 = r0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"headerFont\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"headerFont\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"headerFont\"]; }\n    else { s.pc = 8; return s.tmp_2; }\n    }\n  case 8:\n    r0 = s.retval;\n    s.tmp_0.arg4 = r0;\n    s.pc = 6; return s.tmp_0;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = 0;\n    s.tmp_2 = if_infoTop_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_2.arg0 = r0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"infoTop\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"infoTop\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"infoTop\"]; }\n    else { s.pc = 10; return s.tmp_2; }\n    }\n  case 10:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 3);\n    s.tmp_0.arg2 = r0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_0.arg3 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_4 = r0;\n    s.tmp_6 = if_infoTop_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_6.arg0 = r0;\n    if (!s.tmp_6.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, \"infoTop\");\n    } else {\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface[\"infoTop\"];\n    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields[\"infoTop\"]; }\n    else { s.pc = 11; return s.tmp_6; }\n    }\n  case 11:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 - s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 6);\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = 15;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imageFillRect__P15252_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_1 = if_padding_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_1.arg0 = r0;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"padding\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"padding\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"padding\"]; }\n    else { s.pc = 13; return s.tmp_1; }\n    }\n  case 13:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_2 = if_infoTop_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_2.arg0 = r0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"infoTop\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"infoTop\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"infoTop\"]; }\n    else { s.pc = 14; return s.tmp_2; }\n    }\n  case 14:\n    r0 = s.retval;\n    s.tmp_0.arg2 = r0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_3 = r0;\n    s.tmp_6 = if_padding_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_6.arg0 = r0;\n    if (!s.tmp_6.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, \"padding\");\n    } else {\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface[\"padding\"];\n    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields[\"padding\"]; }\n    else { s.pc = 15; return s.tmp_6; }\n    }\n  case 15:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 << 1);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 - s.tmp_4);\n    s.tmp_0.arg3 = r0;\n    s.tmp_8 = if_charHeight_1_mk(s);\n    s.tmp_9 = if_infoFont_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_9.arg0 = r0;\n    if (!s.tmp_9.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_9.arg0, \"infoFont\");\n    } else {\n    s.tmp_9.fn = s.tmp_9.arg0.vtable.iface[\"infoFont\"];\n    if (s.tmp_9.fn == null) { s.retval = s.tmp_9.arg0.fields[\"infoFont\"]; }\n    else { s.pc = 17; return s.tmp_9; }\n    }\n  case 17:\n    r0 = s.retval;\n    s.tmp_8.arg0 = r0;\n    if (!s.tmp_8.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, \"charHeight\");\n    } else {\n    s.tmp_8.fn = s.tmp_8.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 16; return s.tmp_8; }\n    }\n  case 16:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 + 1);\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = 1;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    s.tmp_0 = helpers_imagePrintCenter__P15272_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_1 = lambda_1_mk(s);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"selection\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_2, s.tmp_3);\n    r0 = r0.fields[\"getText\"];\n    s.tmp_1.argL = r0;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 19; return s.tmp_1;\n  case 19:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_5 = if_infoTop_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_5.arg0 = r0;\n    if (!s.tmp_5.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, \"infoTop\");\n    } else {\n    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface[\"infoTop\"];\n    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields[\"infoTop\"]; }\n    else { s.pc = 20; return s.tmp_5; }\n    }\n  case 20:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 + 1);\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = 15;\n    s.tmp_6 = if_infoFont_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_6.arg0 = r0;\n    if (!s.tmp_6.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, \"infoFont\");\n    } else {\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface[\"infoFont\"];\n    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields[\"infoFont\"]; }\n    else { s.pc = 21; return s.tmp_6; }\n    }\n  case 21:\n    r0 = s.retval;\n    s.tmp_0.arg4 = r0;\n    s.pc = 18; return s.tmp_0;\n  case 18:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_PauseMenu_drawText__P16021.info = {\"start\":6927,\"length\":795,\"line\":224,\"column\":8,\"endLine\":241,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"drawText\",\"argumentNames\":[\"this\"]}\n\nfunction scene_systemMenu_PauseMenu_drawText__P16021_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_PauseMenu_drawText__P16021, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_PauseMenu_setSelection__P16020(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C16017_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 9; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_4 = r0;\n    r0 = s.arg0.fields[\"selection\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_4, s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    s.tmp_6 = scene_systemMenu_MenuOption_setState__P16013_mk(s);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_7 = r0;\n    r0 = s.arg0.fields[\"selection\"];\n    s.tmp_8 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_7, s.tmp_8);\n    s.tmp_6.arg0 = r0;\n    s.tmp_6.arg1 = 2;\n    s.pc = 10; return s.tmp_6;\n  case 10:\n    r0 = s.retval;\n  case 3:\n  case 4:\n    r0 = (s.arg0).fields[\"selection\"] = (s.arg1);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"selection\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_1, s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = globals.A___15366.fields[\"_pressed\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 5; continue; }\n    r0 = 1;\n    { step = 6; continue; }\n  case 5:\n    r0 = 0;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    s.tmp_5 = scene_systemMenu_MenuOption_setState__P16013_mk(s);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_6 = r0;\n    r0 = s.arg0.fields[\"selection\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_6, s.tmp_7);\n    s.tmp_5.arg0 = r0;\n    s.tmp_5.arg1 = s.tmp_4;\n    s.pc = 11; return s.tmp_5;\n  case 11:\n    r0 = s.retval;\n  case 7:\n  case 8:\n    s.tmp_0 = scene_systemMenu_PauseMenu_updateScrollTarget__P16023_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n  case 9:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_PauseMenu_setSelection__P16020.info = {\"start\":6436,\"length\":481,\"line\":208,\"column\":8,\"endLine\":222,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"setSelection\",\"argumentNames\":[\"this\",\"selection\"]}\n\nfunction scene_systemMenu_PauseMenu_setSelection__P16020_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_PauseMenu_setSelection__P16020, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_PauseMenu_updateScrollTarget__P16023(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.row___23835 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C16017_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"selection\"];\n    s.tmp_0 = r0;\n    s.tmp_2 = if_cardsPerRow_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_2.arg0 = r0;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"cardsPerRow\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"cardsPerRow\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"cardsPerRow\"]; }\n    else { s.pc = 8; return s.tmp_2; }\n    }\n  case 8:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, s.tmp_1);\n    s.row___23835 = (r0);\n    r0 = s.arg0.fields[\"scrollRow\"];\n    s.tmp_1 = r0;\n    r0 = (s.row___23835 === s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = (s.row___23835 - 1);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"scrollRow\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 === s.tmp_3);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 3; continue; }\n    { step = 7; continue; }\n  case 3:\n  case 4:\n    r0 = s.arg0.fields[\"scrollRow\"];\n    s.tmp_6 = r0;\n    r0 = (s.row___23835 > s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 5; continue; }\n    s.tmp_7 = r0 = s.arg0;\n    r0 = s.tmp_7.fields[\"scrollRow\"];\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 + 1);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7).fields[\"scrollRow\"] = (s.tmp_8);\n    { step = 6; continue; }\n  case 5:\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.tmp_0.fields[\"scrollRow\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"scrollRow\"] = (s.tmp_1);\n  case 6:\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"scrollRow\"];\n    s.tmp_2 = r0;\n    s.tmp_5 = if_cardSpacing_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_5.arg0 = r0;\n    if (!s.tmp_5.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, \"cardSpacing\");\n    } else {\n    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface[\"cardSpacing\"];\n    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields[\"cardSpacing\"]; }\n    else { s.pc = 9; return s.tmp_5; }\n    }\n  case 9:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    s.tmp_7 = if_cardWidth_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_7.arg0 = r0;\n    if (!s.tmp_7.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, \"cardWidth\");\n    } else {\n    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface[\"cardWidth\"];\n    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields[\"cardWidth\"]; }\n    else { s.pc = 10; return s.tmp_7; }\n    }\n  case 10:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_4 + s.tmp_6);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 * s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"scrollTarget\"] = (s.tmp_1);\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_PauseMenu_updateScrollTarget__P16023.info = {\"start\":7907,\"length\":458,\"line\":250,\"column\":8,\"endLine\":260,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"updateScrollTarget\",\"argumentNames\":[\"this\"]}\n\nfunction scene_systemMenu_PauseMenu_updateScrollTarget__P16023_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_PauseMenu_updateScrollTarget__P16023, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  row___23835: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_PauseMenu_onUpdate__P16019(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.t___23716 = undefined;\n    s.i___23719 = undefined;\n    s.dt___23739 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C16017_VT)) failedCast(r0);\n    r0 = pxsim.control.millis();\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 / 250);\n    s.t___23716 = (r0);\n    s.i___23719 = (0);\n  case 1:\n    s.tmp_1 = r0 = s.i___23719;\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__length(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_4 = scene_systemMenu_MenuOption_setOffset__P16011_mk(s);\n    r0 = s.arg0.fields[\"options\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_5, s.i___23719);\n    s.tmp_4.arg0 = r0;\n    s.tmp_8 = r0 = s.t___23716;\n    s.tmp_11 = r0 = s.i___23719;\n    s.tmp_13 = if_cardsPerRow_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_13.arg0 = r0;\n    if (!s.tmp_13.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_13.arg0, \"cardsPerRow\");\n    } else {\n    s.tmp_13.fn = s.tmp_13.arg0.vtable.iface[\"cardsPerRow\"];\n    if (s.tmp_13.fn == null) { s.retval = s.tmp_13.arg0.fields[\"cardsPerRow\"]; }\n    else { s.pc = 11; return s.tmp_13; }\n    }\n  case 11:\n    r0 = s.retval;\n    s.tmp_12 = r0;\n    r0 = (s.tmp_11 % s.tmp_12);\n    s.tmp_10 = r0;\n    r0 = (3.141592653589793 / 2);\n    s.tmp_14 = r0;\n    r0 = (s.tmp_10 * s.tmp_14);\n    s.tmp_9 = r0;\n    r0 = (s.tmp_8 - s.tmp_9);\n    s.tmp_7 = r0;\n    r0 = pxsim.Math_.sin(s.tmp_7);\n    s.tmp_6 = r0;\n    r0 = (2 * s.tmp_6);\n    s.tmp_4.arg1 = r0;\n    s.pc = 10; return s.tmp_4;\n  case 10:\n    r0 = s.retval;\n    r0 = (s.i___23719 + 1);\n    s.i___23719 = (r0);\n    { step = 1; continue; }\n  case 2:\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 12; return s.tmp_1;\n  case 12:\n    r0 = s.retval;\n    r0 = r0.fields[\"eventContext\"];\n    s.tmp_0 = r0;\n    r0 = s.tmp_0.fields[\"deltaTimeMillis\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 / 1000);\n    s.dt___23739 = (r0);\n    r0 = s.arg0.fields[\"scrollOffset\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"scrollTarget\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_3 = r0 = s.arg0;\n    r0 = s.tmp_3.fields[\"scrollOffset\"];\n    s.tmp_5 = r0;\n    r0 = (s.dt___23739 * 100);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 + s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"scrollOffset\"] = (s.tmp_4);\n    { step = 6; continue; }\n  case 3:\n    r0 = s.arg0.fields[\"scrollOffset\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"scrollTarget\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 > s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_3 = r0 = s.arg0;\n    r0 = s.tmp_3.fields[\"scrollOffset\"];\n    s.tmp_5 = r0;\n    r0 = (s.dt___23739 * 100);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 - s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"scrollOffset\"] = (s.tmp_4);\n    { step = 5; continue; }\n  case 4:\n    { step = 9; continue; }\n  case 5:\n  case 6:\n    s.tmp_2 = Math_abs__P14900_mk(s);\n    r0 = s.arg0.fields[\"scrollOffset\"];\n    s.tmp_3 = r0;\n    r0 = s.arg0.fields[\"scrollTarget\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 - s.tmp_4);\n    s.tmp_2.arg0 = r0;\n    s.pc = 13; return s.tmp_2;\n  case 13:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = s.arg0.fields[\"scrollTarget\"];\n    s.tmp_5 = r0;\n    r0 = (s.arg0).fields[\"scrollOffset\"] = (s.tmp_5);\n  case 7:\n  case 8:\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 14; return s.tmp_1;\n  case 14:\n    r0 = s.retval;\n    r0 = r0.fields[\"camera\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"scrollOffset\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_0).fields[\"offsetY\"] = (s.tmp_2);\n  case 9:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_PauseMenu_onUpdate__P16019.info = {\"start\":5547,\"length\":879,\"line\":183,\"column\":8,\"endLine\":206,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"onUpdate\",\"argumentNames\":[\"this\"]}\n\nfunction scene_systemMenu_PauseMenu_onUpdate__P16019_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_PauseMenu_onUpdate__P16019, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  t___23716: undefined,\n  i___23719: undefined,\n  dt___23739: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_MenuOption_setOffset__P16011(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C16008_VT)) failedCast(r0);\n    s.tmp_0 = Sprite_top__P15475_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg0.fields[\"top\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + s.arg1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_y__P15453_mk(s);\n    r0 = s.arg0.fields[\"icon\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_1 = Sprite_y__P15452_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_MenuOption_setOffset__P16011.info = {\"start\":1411,\"length\":123,\"line\":61,\"column\":8,\"endLine\":64,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"setOffset\",\"argumentNames\":[\"this\",\"offset\"]}\n\nfunction scene_systemMenu_MenuOption_setOffset__P16011_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_MenuOption_setOffset__P16011, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_MenuOption_setState__P16013(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C16008_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"state\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    r0 = (s.arg0).fields[\"state\"] = (s.arg1);\n    s.tmp_0 = scene_systemMenu_MenuOption_updateCard__P16015_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_MenuOption_setState__P16013.info = {\"start\":1655,\"length\":147,\"line\":71,\"column\":8,\"endLine\":75,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"setState\",\"argumentNames\":[\"this\",\"state\"]}\n\nfunction scene_systemMenu_MenuOption_setState__P16013_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_MenuOption_setState__P16013, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_MenuOption_updateCard__P16015(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C16008_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"state\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_3);\n    if (r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_3);\n    if (r0) { step = 4; continue; }\n    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_3);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_3;\n    { step = 6; continue; }\n  case 3:\n    s.tmp_4 = Sprite_setImage__P15466_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_4.arg0 = r0;\n    s.tmp_5 = if_basicCard_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_5.arg0 = r0;\n    if (!s.tmp_5.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, \"basicCard\");\n    } else {\n    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface[\"basicCard\"];\n    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields[\"basicCard\"]; }\n    else { s.pc = 9; return s.tmp_5; }\n    }\n  case 9:\n    r0 = s.retval;\n    s.tmp_4.arg1 = r0;\n    s.pc = 8; return s.tmp_4;\n  case 8:\n    r0 = s.retval;\n    { step = 6; continue; }\n  case 4:\n    s.tmp_0 = Sprite_setImage__P15466_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_1 = if_selectedCard_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_1.arg0 = r0;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"selectedCard\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"selectedCard\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"selectedCard\"]; }\n    else { s.pc = 11; return s.tmp_1; }\n    }\n  case 11:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    { step = 6; continue; }\n  case 5:\n    s.tmp_0 = Sprite_setImage__P15466_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_1 = if_activeCard_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_1.arg0 = r0;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"activeCard\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"activeCard\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"activeCard\"]; }\n    else { s.pc = 13; return s.tmp_1; }\n    }\n  case 13:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n  case 6:\n    s.tmp_0 = Sprite_x__P15451_mk(s);\n    r0 = s.arg0.fields[\"icon\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_1 = Sprite_x__P15450_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 15; return s.tmp_1;\n  case 15:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 14; return s.tmp_0;\n  case 14:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_y__P15453_mk(s);\n    r0 = s.arg0.fields[\"icon\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_1 = Sprite_y__P15452_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 17; return s.tmp_1;\n  case 17:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 16; return s.tmp_0;\n  case 16:\n    r0 = s.retval;\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_MenuOption_updateCard__P16015.info = {\"start\":2038,\"length\":497,\"line\":86,\"column\":8,\"endLine\":97,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"updateCard\",\"argumentNames\":[\"this\"]}\n\nfunction scene_systemMenu_MenuOption_updateCard__P16015_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_MenuOption_updateCard__P16015, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_MenuOption_setTheme__P16012(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C16008_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"theme\"] = (s.arg1);\n    s.tmp_0 = scene_systemMenu_MenuOption_updateCard__P16015_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_MenuOption_setTheme__P16012.info = {\"start\":1544,\"length\":101,\"line\":66,\"column\":8,\"endLine\":69,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"setTheme\",\"argumentNames\":[\"this\",\"theme\"]}\n\nfunction scene_systemMenu_MenuOption_setTheme__P16012_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_MenuOption_setTheme__P16012, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_MenuOption_position__P16010(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C16008_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"top\"] = (s.arg2);\n    s.tmp_0 = Sprite_left__P15471_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_top__P15475_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.arg2;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_x__P15451_mk(s);\n    r0 = s.arg0.fields[\"icon\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_1 = Sprite_x__P15450_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 4; return s.tmp_1;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = Sprite_y__P15453_mk(s);\n    r0 = s.arg0.fields[\"icon\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_1 = Sprite_y__P15452_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 6; return s.tmp_1;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_MenuOption_position__P16010.info = {\"start\":1178,\"length\":223,\"line\":51,\"column\":8,\"endLine\":59,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"position\",\"argumentNames\":[\"this\",\"left\",\"top\"]}\n\nfunction scene_systemMenu_MenuOption_position__P16010_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_MenuOption_position__P16010, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_MenuOption_show__P16009(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C16008_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = if_basicCard_1_mk(s);\n    r0 = s.arg0.fields[\"theme\"];\n    s.tmp_1.arg0 = r0;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"basicCard\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"basicCard\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"basicCard\"]; }\n    else { s.pc = 3; return s.tmp_1; }\n    }\n  case 3:\n    r0 = s.retval;\n    { step = 2; continue; }\n  case 1:\n    r0 = globals.CARD_NORMAL___16046;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    s.tmp_3 = r0 = s.arg0;\n    s.tmp_5 = sprites_create__P15443_mk(s);\n    s.tmp_5.arg0 = s.tmp_2;\n    s.tmp_5.arg1 = undefined;\n    s.pc = 4; return s.tmp_5;\n  case 4:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"card\"] = (s.tmp_4);\n    s.tmp_0 = if_z_2_mk(s);\n    r0 = s.arg0.fields[\"card\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = 1;\n    if (!s.tmp_0.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, \"z\", s.tmp_0.arg1);\n    } else {\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"set/z\"];\n    if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields[\"z\"] = s.tmp_0.arg1; }\n    else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) }\n    else { s.pc = 5; return s.tmp_0; }\n    }\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = sprites_create__P15443_mk(s);\n    r0 = s.arg0.fields[\"iconImage\"];\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = undefined;\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"icon\"] = (s.tmp_1);\n    s.tmp_0 = if_z_2_mk(s);\n    r0 = s.arg0.fields[\"icon\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = 2;\n    if (!s.tmp_0.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, \"z\", s.tmp_0.arg1);\n    } else {\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface[\"set/z\"];\n    if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields[\"z\"] = s.tmp_0.arg1; }\n    else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) }\n    else { s.pc = 7; return s.tmp_0; }\n    }\n  case 7:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"state\"] = (2);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_MenuOption_show__P16009.info = {\"start\":904,\"length\":264,\"line\":41,\"column\":8,\"endLine\":49,\"endColumn\":9,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"show\",\"argumentNames\":[\"this\"]}\n\nfunction scene_systemMenu_MenuOption_show__P16009_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_MenuOption_show__P16009, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_onShade__P15873(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = game_init__P15859_mk(s);\n    s.pc = 4; return s.tmp_0;\n  case 4:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    s.tmp_2 = scene_createRenderable__P15737_mk(s);\n    s.tmp_2.arg0 = 80;\n    s.tmp_2.arg1 = s.arg0;\n    s.tmp_2.arg2 = undefined;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n  case 3:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_onShade__P15873.info = {\"start\":9865,\"length\":145,\"line\":319,\"column\":4,\"endLine\":323,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"onShade\",\"argumentNames\":[\"a\"]}\n\nfunction game_onShade__P15873_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_onShade__P15873, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_systemMenu_initVolume__P16040(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.vol___24795 = undefined;\n    s.tmp_0 = settings_readNumber__P15341_mk(s);\n    s.tmp_0.arg0 = \"#volume\";\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.vol___24795 = (r0);\n    r0 = (s.vol___24795 != null);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = music_setVolume__P15182_mk(s);\n    s.tmp_1.arg0 = s.vol___24795;\n    s.pc = 4; return s.tmp_1;\n  case 4:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_systemMenu_initVolume__P16040.info = {\"start\":12557,\"length\":138,\"line\":382,\"column\":4,\"endLine\":386,\"endColumn\":5,\"fileName\":\"pxt_modules/game/systemmenu.ts\",\"functionName\":\"initVolume\",\"argumentNames\":[]}\n\nfunction scene_systemMenu_initVolume__P16040_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_systemMenu_initVolume__P16040, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  vol___24795: undefined,\n} }\n\n\n\n\n\nfunction game_currentScene__P15610(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = game_init__P15859_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = globals._scene___15849;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_currentScene__P15610.info = {\"start\":667,\"length\":90,\"line\":22,\"column\":4,\"endLine\":25,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"currentScene\",\"argumentNames\":[]}\n\nfunction game_currentScene__P15610_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_currentScene__P15610, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction game_addScenePopHandler__P15606(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(globals._scenePopHandlers___15852);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    globals._scenePopHandlers___15852 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_Array_.indexOf(globals._scenePopHandlers___15852, s.arg0, undefined);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_Array__push(globals._scenePopHandlers___15852, s.arg0);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_addScenePopHandler__P15606.info = {\"start\":11685,\"length\":237,\"line\":367,\"column\":4,\"endLine\":371,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"addScenePopHandler\",\"argumentNames\":[\"handler\"]}\n\nfunction game_addScenePopHandler__P15606_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_addScenePopHandler__P15606, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_addScenePushHandler__P15590(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(globals._scenePushHandlers___15851);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    globals._scenePushHandlers___15851 = (r0);\n  case 1:\n  case 2:\n    r0 = pxsim_Array_.indexOf(globals._scenePushHandlers___15851, s.arg0, undefined);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_Array__push(globals._scenePushHandlers___15851, s.arg0);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_addScenePushHandler__P15590.info = {\"start\":10684,\"length\":242,\"line\":343,\"column\":4,\"endLine\":347,\"endColumn\":5,\"fileName\":\"pxt_modules/game/game.ts\",\"functionName\":\"addScenePushHandler\",\"argumentNames\":[\"handler\"]}\n\nfunction game_addScenePushHandler__P15590_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_addScenePushHandler__P15590, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction SpriteKind_create__P15532(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = (globals.nextKind___15531 === undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    globals.nextKind___15531 = (1000);\n  case 1:\n  case 2:\n    s.tmp_0 = r0 = globals.nextKind___15531;\n    r0 = (s.tmp_0 + 1);\n    globals.nextKind___15531 = (r0);\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\nSpriteKind_create__P15532.info = {\"start\":750,\"length\":112,\"line\":25,\"column\":4,\"endLine\":28,\"endColumn\":5,\"fileName\":\"pxt_modules/game/spritekind.ts\",\"functionName\":\"create\",\"argumentNames\":[]}\n\nfunction SpriteKind_create__P15532_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: SpriteKind_create__P15532, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction controller_Button_constructor__P15389(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"id\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"_buttonId\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"_pressed\"] = (false);\n    r0 = (s.arg0).fields[\"repeatDelay\"] = (undefined);\n    r0 = (s.arg0).fields[\"repeatInterval\"] = (undefined);\n    r0 = (s.arg0).fields[\"_repeatCount\"] = (0);\n    r0 = (s.arg1 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_pxtcore_mkAction(1, inline__P24881);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_2 = r0;\n    r0 = pxsim.control.internalOnEvent(2050, s.tmp_2, s.tmp_1, 16);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P24888);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_1 = r0;\n    r0 = pxsim.control.internalOnEvent(2051, s.tmp_1, s.tmp_0, 16);\n  case 1:\n  case 2:\n    r0 = (s.arg2 > -1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore_mkAction(1, inline__P24897);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);\n    r0 = pxsim.control.internalOnEvent(s.arg2, 2, s.tmp_1, 16);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P24908);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim.control.internalOnEvent(s.arg2, 1, s.tmp_0, 16);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button_constructor__P15389.info = {\"start\":1354,\"length\":1205,\"line\":60,\"column\":8,\"endLine\":79,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"id\",\"buttonId\"]}\n\nfunction controller_Button_constructor__P15389_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button_constructor__P15389, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction inline__P24881(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = controller_Button_setPressed__P15387_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_0.arg1 = false;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24881.info = {\"start\":2015,\"length\":28,\"line\":71,\"column\":66,\"endLine\":71,\"endColumn\":94,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24881_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24881, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction inline__P24888(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_0 = controller_Button_setPressed__P15387_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_0.arg1 = true;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24888.info = {\"start\":2117,\"length\":27,\"line\":72,\"column\":68,\"endLine\":72,\"endColumn\":95,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24888_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24888, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction inline__P24897(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = s.caps[0].fields[\"id\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.raiseEvent(2050, s.tmp_0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24897.info = {\"start\":2344,\"length\":50,\"line\":76,\"column\":76,\"endLine\":76,\"endColumn\":126,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24897_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24897, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction inline__P24908(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = s.caps[0].fields[\"id\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.raiseEvent(2051, s.tmp_0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P24908.info = {\"start\":2478,\"length\":52,\"line\":77,\"column\":78,\"endLine\":77,\"endColumn\":130,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P24908_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P24908, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction controller_Button_setPressed__P15387(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_pressed\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 != s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    s.tmp_2 = power_poke__P15233_mk(s);\n    s.pc = 7; return s.tmp_2;\n  case 7:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"_owner\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_1 = controller_Controller_connected__P15415_mk(s);\n    r0 = s.arg0.fields[\"_owner\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = true;\n    s.pc = 8; return s.tmp_1;\n  case 8:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = (s.arg0).fields[\"_pressed\"] = (s.arg1);\n    r0 = s.arg0.fields[\"_pressed\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = (s.arg0).fields[\"_pressedElasped\"] = (0);\n    s.tmp_0 = controller_Button_raiseButtonDown__P15382_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    { step = 4; continue; }\n  case 3:\n    r0 = (s.arg0).fields[\"_repeatCount\"] = (0);\n    s.tmp_0 = controller_Button_raiseButtonUp__P15381_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n  case 4:\n  case 5:\n  case 6:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button_setPressed__P15387.info = {\"start\":4302,\"length\":507,\"line\":132,\"column\":8,\"endLine\":146,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"setPressed\",\"argumentNames\":[\"this\",\"pressed\"]}\n\nfunction controller_Button_setPressed__P15387_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button_setPressed__P15387, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_connected__P15415(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_connected\"];\n    s.tmp_1 = r0;\n    r0 = (s.arg1 != s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = (s.arg0).fields[\"_connected\"] = (s.arg1);\n    r0 = s.arg0.fields[\"_connected\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = 1;\n    { step = 2; continue; }\n  case 1:\n    r0 = 2;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"_id\"];\n    s.tmp_2 = r0;\n    r0 = pxsim.control.raiseEvent(s.tmp_2, s.tmp_1);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_connected__P15415.info = {\"start\":11936,\"length\":261,\"line\":376,\"column\":8,\"endLine\":381,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"connected\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction controller_Controller_connected__P15415_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_connected__P15415, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_id__P15401(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_id\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_id__P15401.info = {\"start\":8221,\"length\":49,\"line\":247,\"column\":8,\"endLine\":249,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"id\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Controller_id__P15401_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_id__P15401, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Controller_connected__P15414(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Controller__C15398_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_connected\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Controller_connected__P15414.info = {\"start\":11863,\"length\":63,\"line\":372,\"column\":8,\"endLine\":374,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"connected\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Controller_connected__P15414_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Controller_connected__P15414, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Button_raiseButtonDown__P15382(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(globals._userEventsEnabled___15376);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.raiseEvent(2049, s.tmp_0);\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.raiseEvent(2053, s.tmp_0);\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button_raiseButtonDown__P15382.info = {\"start\":2779,\"length\":205,\"line\":88,\"column\":8,\"endLine\":93,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"raiseButtonDown\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Button_raiseButtonDown__P15382_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button_raiseButtonDown__P15382, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Button_raiseButtonUp__P15381(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(globals._userEventsEnabled___15376);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.raiseEvent(2048, s.tmp_0);\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_0 = r0;\n    r0 = pxsim.control.raiseEvent(2052, s.tmp_0);\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button_raiseButtonUp__P15381.info = {\"start\":2569,\"length\":200,\"line\":81,\"column\":8,\"endLine\":86,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"raiseButtonUp\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Button_raiseButtonUp__P15381_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button_raiseButtonUp__P15381, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction settings_initScopes__P15332(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.rn___24983 = undefined;\n    s.tmp_1 = settings_runNumber__P15330_mk(s);\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 1);\n    s.rn___24983 = (r0);\n    s.tmp_0 = settings_writeNumber__P15337_mk(s);\n    s.tmp_0.arg0 = \"#run\";\n    s.tmp_0.arg1 = s.rn___24983;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    r0 = pxsim.control.deviceSerialNumber();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 2147483647);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtcore.seedAddRandom(s.tmp_0);\n    r0 = pxsim_pxtcore.seedAddRandom(s.rn___24983);\n    s.tmp_0 = settings_setScope__P15331_mk(s);\n    r0 = pxsim_pxtcore.programName();\n    s.tmp_0.arg0 = r0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_initScopes__P15332.info = {\"start\":960,\"length\":229,\"line\":36,\"column\":4,\"endLine\":44,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"initScopes\",\"argumentNames\":[]}\n\nfunction settings_initScopes__P15332_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_initScopes__P15332, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  rn___24983: undefined,\n} }\n\n\n\n\n\nfunction settings_setScope__P15331(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.currScope___25006 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_String_.length(s.arg0);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 > 100);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_pxtrt.panic(922);\n  case 3:\n  case 4:\n    s.tmp_0 = settings_readString__P15340_mk(s);\n    s.tmp_0.arg0 = \"#scope\";\n    s.pc = 7; return s.tmp_0;\n  case 7:\n    r0 = s.retval;\n    s.currScope___25006 = (r0);\n    r0 = (s.currScope___25006 != s.arg0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = pxsim.settings._userClean();\n    s.tmp_0 = settings_writeString__P15336_mk(s);\n    s.tmp_0.arg0 = \"#scope\";\n    s.tmp_0.arg1 = s.arg0;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n  case 5:\n  case 6:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_setScope__P15331.info = {\"start\":684,\"length\":270,\"line\":26,\"column\":4,\"endLine\":34,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"setScope\",\"argumentNames\":[\"scope\"]}\n\nfunction settings_setScope__P15331_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_setScope__P15331, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  currScope___25006: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction settings_readString__P15340(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.buf___25022 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim.settings._get(s.arg0);\n    s.buf___25022 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.buf___25022);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = undefined;\n    { step = 3; continue; }\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim.BufferMethods.toString(s.buf___25022);\n    { step = 3; continue; }\n  case 2:\n    r0 = undefined;\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_readString__P15340.info = {\"start\":2504,\"length\":177,\"line\":98,\"column\":4,\"endLine\":104,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"readString\",\"argumentNames\":[\"key\"]}\n\nfunction settings_readString__P15340_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_readString__P15340, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  buf___25022: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction settings_writeString__P15336(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = settings_writeBuffer__P15335_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    r0 = pxsim.control.createBufferFromUTF8(s.arg1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_writeString__P15336.info = {\"start\":1750,\"length\":125,\"line\":70,\"column\":4,\"endLine\":72,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"writeString\",\"argumentNames\":[\"key\",\"value\"]}\n\nfunction settings_writeString__P15336_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_writeString__P15336, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction settings_runNumber__P15330(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tmp_1 = settings_readNumber__P15341_mk(s);\n    s.tmp_1.arg0 = \"#run\";\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = s.tmp_2;\n    return leave(s, r0)\n  default: oops()\n} } }\nsettings_runNumber__P15330.info = {\"start\":604,\"length\":74,\"line\":22,\"column\":4,\"endLine\":24,\"endColumn\":5,\"fileName\":\"pxt_modules/settings/settings.ts\",\"functionName\":\"runNumber\",\"argumentNames\":[]}\n\nfunction settings_runNumber__P15330_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: settings_runNumber__P15330, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n} }\n\n\n\n\n\nfunction control___screen_setupUpdate__P15277(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    globals.__updated___15275 = (true);\n    globals.__update___15274 = (s.arg0);\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = s.arg0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol___screen_setupUpdate__P15277.info = {\"start\":198,\"length\":125,\"line\":10,\"column\":4,\"endLine\":14,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/frame.ts\",\"functionName\":\"setupUpdate\",\"argumentNames\":[\"update\"]}\n\nfunction control___screen_setupUpdate__P15277_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control___screen_setupUpdate__P15277, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction control___screen_update__P15276(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = pxsim_numops_toBoolDecr(globals.__update___15274);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = lambda_1_mk(s);\n    s.tmp_0.argL = globals.__update___15274;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    globals.__updated___15275 = (true);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ncontrol___screen_update__P15276.info = {\"start\":90,\"length\":102,\"line\":4,\"column\":4,\"endLine\":8,\"endColumn\":5,\"fileName\":\"pxt_modules/screen/frame.ts\",\"functionName\":\"update\",\"argumentNames\":[]}\n\nfunction control___screen_update__P15276_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: control___screen_update__P15276, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n} }\n\n\n\n\n\nfunction pause__P15082(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    setupResume(s, 1);\n    pxsim.loops.pause(s.arg0);\n    checkResumeConsumed();\n    return;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\npause__P15082.info = {\"start\":246,\"length\":57,\"line\":7,\"column\":0,\"endLine\":9,\"endColumn\":1,\"fileName\":\"pxt_modules/base/pause.ts\",\"functionName\":\"pause\",\"argumentNames\":[\"ms\"]}\n\nfunction pause__P15082_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: pause__P15082, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Fx8__P14919(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 * 256);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 | 0);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx8__P14919.info = {\"start\":42,\"length\":68,\"line\":4,\"column\":0,\"endLine\":6,\"endColumn\":1,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"Fx8\",\"argumentNames\":[\"v\"]}\n\nfunction Fx8__P14919_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx8__P14919, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_BaseDialog_drawTextCore__P15796(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_drawTextCore__P15796.info = {\"start\":1757,\"length\":65,\"line\":70,\"column\":8,\"endLine\":72,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"drawTextCore\",\"argumentNames\":[\"this\"]}\n\nfunction game_BaseDialog_drawTextCore__P15796_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_drawTextCore__P15796, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_BaseDialog_update__P15794(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_BaseDialog__C15793_VT)) failedCast(r0);\n    s.tmp_0 = game_BaseDialog_clearInterior__P15799_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = game_BaseDialog__C15793_v1_1_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    if (!checkSubtype(s.tmp_0.arg0, game_BaseDialog__C15793_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.drawTextCore;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0 = game_BaseDialog_drawCursorRow__P15797_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_BaseDialog_update__P15794.info = {\"start\":1539,\"length\":121,\"line\":60,\"column\":8,\"endLine\":64,\"endColumn\":9,\"fileName\":\"pxt_modules/game/textDialogs.ts\",\"functionName\":\"update\",\"argumentNames\":[\"this\"]}\n\nfunction game_BaseDialog_update__P15794_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_BaseDialog_update__P15794, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction effects_ImageEffect_startScreenEffect__P16282(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.wasRunning___25216 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_ImageEffect__C16279_VT)) failedCast(r0);\n    s.tmp_4 = game_currentScene__P15610_mk(s);\n    s.pc = 8; return s.tmp_4;\n  case 8:\n    r0 = s.retval;\n    r0 = r0.fields[\"background\"];\n    s.tmp_3 = r0;\n    r0 = s.tmp_3.fields[\"_image\"];\n    s.tmp_8 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_8);\n    s.tmp_7 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_7);\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_5);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"times\"];\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 != undefined);\n    s.wasRunning___25216 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    if (!r0) { step = 3; continue; }\n    r0 = s.arg1;\n    { step = 4; continue; }\n  case 3:\n    r0 = 15;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    r0 = (s.arg0).fields[\"times\"] = (s.tmp_0);\n    r0 = pxsim_numops_toBoolDecr(s.wasRunning___25216);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = pxsim_pxtcore_mkAction(2, inline__P25227);\n    s.tmp_2 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.arg0);\n    r0 = pxsim_pxtrt_stclo(s.tmp_2, 1, s.arg2);\n    r0 = pxsim.control.runInParallel(s.tmp_2);\n  case 5:\n  case 6:\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_ImageEffect_startScreenEffect__P16282.info = {\"start\":1457,\"length\":637,\"line\":41,\"column\":8,\"endLine\":56,\"endColumn\":9,\"fileName\":\"pxt_modules/game/effects.ts\",\"functionName\":\"startScreenEffect\",\"argumentNames\":[\"this\",\"times\",\"delay\"]}\n\nfunction effects_ImageEffect_startScreenEffect__P16282_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_ImageEffect_startScreenEffect__P16282, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  wasRunning___25216: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction inline__P25227(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n  case 1:\n    r0 = s.caps[0].fields[\"times\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_2 = effects_ImageEffect_change__P16281_mk(s);\n    s.tmp_2.arg0 = s.caps[0];\n    s.tmp_3 = scene_backgroundImage__P15779_mk(s);\n    s.pc = 6; return s.tmp_3;\n  case 6:\n    r0 = s.retval;\n    s.tmp_2.arg1 = r0;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.caps[1]);\n    if (!r0) { step = 2; continue; }\n    r0 = s.caps[1];\n    { step = 3; continue; }\n  case 2:\n    r0 = s.caps[0].fields[\"preferredDelay\"];\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    s.tmp_1 = pause__P15082_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.caps[0];\n    r0 = s.tmp_0.fields[\"times\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"times\"] = (s.tmp_1);\n    { step = 1; continue; }\n  case 4:\n    r0 = (s.caps[0]).fields[\"times\"] = (undefined);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P25227.info = {\"start\":1764,\"length\":304,\"line\":47,\"column\":38,\"endLine\":54,\"endColumn\":17,\"fileName\":\"pxt_modules/game/effects.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P25227_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P25227, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n} }\n\n\n\n\n\nfunction scene_backgroundImage__P15779(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.scene___25244 = undefined;\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.scene___25244 = (r0);\n    s.tmp_0 = scene_Background_image__P15689_mk(s);\n    r0 = s.scene___25244.fields[\"background\"];\n    s.tmp_0.arg0 = r0;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_backgroundImage__P15779.info = {\"start\":2070,\"length\":130,\"line\":74,\"column\":4,\"endLine\":77,\"endColumn\":5,\"fileName\":\"pxt_modules/game/scenes.ts\",\"functionName\":\"backgroundImage\",\"argumentNames\":[]}\n\nfunction scene_backgroundImage__P15779_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_backgroundImage__P15779, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  scene___25244: undefined,\n} }\n\n\n\n\n\nfunction scene_Background_hasBackgroundImage__P15691(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Background__C15687_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Background_hasBackgroundImage__P15691.info = {\"start\":1081,\"length\":75,\"line\":44,\"column\":8,\"endLine\":46,\"endColumn\":9,\"fileName\":\"pxt_modules/game/background.ts\",\"functionName\":\"hasBackgroundImage\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Background_hasBackgroundImage__P15691_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Background_hasBackgroundImage__P15691, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction animation_MovementAnimation_constructor__P16393(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_MovementAnimation__C16390_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"path\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"nodeInterval\"] = (s.arg3);\n    s.tmp_0 = animation_SpriteAnimation_constructor__P16385_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg4;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = (s.arg0).fields[\"loop\"] = (s.arg4);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_MovementAnimation_constructor__P16393.info = {\"start\":18785,\"length\":169,\"line\":480,\"column\":8,\"endLine\":484,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"sprite\",\"path\",\"nodeInterval\",\"loop\"]}\n\nfunction animation_MovementAnimation_constructor__P16393_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_MovementAnimation_constructor__P16393, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction animation_MovementAnimation_update__P16392(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.result___25071 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_MovementAnimation__C16390_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"sprite\"];\n    r0 = r0.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = true;\n    { step = 9; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"startedAt\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 == null);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 3; continue; }\n    s.tmp_4 = r0 = s.arg0;\n    r0 = pxsim.control.millis();\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4).fields[\"startedAt\"] = (s.tmp_5);\n  case 3:\n  case 4:\n    s.tmp_0 = animation_Path_run__P16353_mk(s);\n    r0 = s.arg0.fields[\"path\"];\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg0.fields[\"nodeInterval\"];\n    s.tmp_0.arg1 = r0;\n    r0 = s.arg0.fields[\"sprite\"];\n    s.tmp_0.arg2 = r0;\n    r0 = s.arg0.fields[\"startedAt\"];\n    s.tmp_0.arg3 = r0;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    s.result___25071 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.result___25071);\n    if (!r0) { step = 7; continue; }\n    r0 = s.arg0.fields[\"loop\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = true;\n    { step = 9; continue; }\n  case 5:\n  case 6:\n    s.tmp_3 = r0 = s.arg0;\n    r0 = pxsim.control.millis();\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"startedAt\"] = (s.tmp_4);\n  case 7:\n  case 8:\n    r0 = false;\n  case 9:\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_MovementAnimation_update__P16392.info = {\"start\":18972,\"length\":460,\"line\":486,\"column\":8,\"endLine\":497,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"update\",\"argumentNames\":[\"this\"]}\n\nfunction animation_MovementAnimation_update__P16392_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_MovementAnimation_update__P16392, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  result___25071: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction animation_Path_run__P16353(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.runningTime___25092 = undefined;\n    s.nodeIndex___25096 = undefined;\n    s.nodeTime___25101 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_Path__C16347_VT)) failedCast(r0);\n    r0 = pxsim.control.millis();\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - s.arg3);\n    s.runningTime___25092 = (r0);\n    r0 = (s.runningTime___25092 / s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_0);\n    s.nodeIndex___25096 = (r0);\n    r0 = (s.runningTime___25092 % s.arg1);\n    s.nodeTime___25101 = (r0);\n    r0 = s.arg0.fields[\"lastNode\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > -1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"lastNode\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 < s.nodeIndex___25096);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_3;\n    { step = 4; continue; }\n  case 3:\n    r0 = s.arg0.fields[\"nodes\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__length(s.tmp_4);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 7; continue; }\n    s.tmp_6 = animation_PathNode__C16355_v0_4_mk(s);\n    r0 = s.arg0.fields[\"nodes\"];\n    s.tmp_7 = r0;\n    r0 = s.arg0.fields[\"lastNode\"];\n    s.tmp_8 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_7, s.tmp_8);\n    s.tmp_6.arg0 = r0;\n    s.tmp_6.arg1 = s.arg2;\n    s.tmp_6.arg2 = s.arg1;\n    s.tmp_6.arg3 = s.arg1;\n    if (!checkSubtype(s.tmp_6.arg0, animation_PathNode__C16355_VT)) failedCast(s.tmp_6.arg0);\n    s.tmp_6.fn = s.tmp_6.arg0.vtable.methods.apply;\n    s.pc = 10; return s.tmp_6;\n  case 10:\n    r0 = s.retval;\n    s.tmp_1 = r0 = s.nodeIndex___25096;\n    r0 = s.arg0.fields[\"nodes\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__length(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 >= s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = true;\n    { step = 9; continue; }\n  case 5:\n  case 6:\n  case 7:\n  case 8:\n    r0 = (s.arg0).fields[\"lastNode\"] = (s.nodeIndex___25096);\n    s.tmp_0 = animation_PathNode__C16355_v0_4_mk(s);\n    r0 = s.arg0.fields[\"nodes\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_1, s.nodeIndex___25096);\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.arg2;\n    s.tmp_0.arg2 = s.nodeTime___25101;\n    s.tmp_0.arg3 = s.arg1;\n    if (!checkSubtype(s.tmp_0.arg0, animation_PathNode__C16355_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.apply;\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n    r0 = false;\n  case 9:\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_Path_run__P16353.info = {\"start\":11979,\"length\":1002,\"line\":287,\"column\":8,\"endLine\":301,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"run\",\"argumentNames\":[\"this\",\"interval\",\"target\",\"startedAt\"]}\n\nfunction animation_Path_run__P16353_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_Path_run__P16353, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  runningTime___25092: undefined,\n  nodeIndex___25096: undefined,\n  nodeTime___25101: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction animation_PathNode_apply__P16356(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_PathNode__C16355_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_PathNode_apply__P16356.info = {\"start\":13131,\"length\":60,\"line\":310,\"column\":8,\"endLine\":310,\"endColumn\":68,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"apply\",\"argumentNames\":[\"this\",\"target\",\"nodeTime\",\"interval\"]}\n\nfunction animation_PathNode_apply__P16356_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_PathNode_apply__P16356, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction animation_ImageAnimation_update__P16388(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.runningTime___25155 = undefined;\n    s.frameIndex___25160 = undefined;\n    s.newImage___25177 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_ImageAnimation__C16386_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"sprite\"];\n    r0 = r0.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = true;\n    { step = 17; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"startedAt\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 == null);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 3; continue; }\n    s.tmp_4 = r0 = s.arg0;\n    r0 = pxsim.control.millis();\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4).fields[\"startedAt\"] = (s.tmp_5);\n  case 3:\n  case 4:\n    r0 = pxsim.control.millis();\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"startedAt\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 - s.tmp_1);\n    s.runningTime___25155 = (r0);\n    r0 = s.arg0.fields[\"frameInterval\"];\n    s.tmp_1 = r0;\n    r0 = (s.runningTime___25155 / s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.floor(s.tmp_0);\n    s.frameIndex___25160 = (r0);\n    r0 = s.arg0.fields[\"lastFrame\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > -1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    r0 = s.arg0.fields[\"lastFrame\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 < s.frameIndex___25160);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (r0) { step = 7; continue; }\n    r0 = s.tmp_3;\n    { step = 8; continue; }\n  case 7:\n    r0 = s.arg0.fields[\"frames\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__length(s.tmp_4);\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 15; continue; }\n    r0 = s.arg0.fields[\"frames\"];\n    s.tmp_6 = r0;\n    r0 = (s.frameIndex___25160 - 1);\n    s.tmp_7 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_6, s.tmp_7);\n    s.newImage___25177 = (r0);\n    r0 = s.arg0.fields[\"sprite\"];\n    s.tmp_2 = r0;\n    r0 = s.tmp_2.fields[\"_image\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== s.newImage___25177);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    s.tmp_3 = Sprite_setImage__P15466_mk(s);\n    r0 = s.arg0.fields[\"sprite\"];\n    s.tmp_3.arg0 = r0;\n    s.tmp_3.arg1 = s.newImage___25177;\n    s.pc = 18; return s.tmp_3;\n  case 18:\n    r0 = s.retval;\n  case 9:\n  case 10:\n    s.tmp_1 = r0 = s.frameIndex___25160;\n    r0 = s.arg0.fields[\"frames\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array__length(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 >= s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 13; continue; }\n    r0 = s.arg0.fields[\"loop\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    if (!r0) { step = 11; continue; }\n    r0 = true;\n    { step = 17; continue; }\n  case 11:\n  case 12:\n    s.tmp_7 = r0 = s.arg0;\n    r0 = pxsim.control.millis();\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7).fields[\"startedAt\"] = (s.tmp_8);\n  case 13:\n  case 14:\n  case 15:\n  case 16:\n    r0 = (s.arg0).fields[\"lastFrame\"] = (s.frameIndex___25160);\n    r0 = false;\n  case 17:\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_ImageAnimation_update__P16388.info = {\"start\":17777,\"length\":931,\"line\":456,\"column\":8,\"endLine\":476,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"update\",\"argumentNames\":[\"this\"]}\n\nfunction animation_ImageAnimation_update__P16388_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_ImageAnimation_update__P16388, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  runningTime___25155: undefined,\n  frameIndex___25160: undefined,\n  newImage___25177: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction music_Melody_toString__P15200(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, music_Melody__C15190_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_text\"];\n    return leave(s, r0)\n  default: oops()\n} } }\nmusic_Melody_toString__P15200.info = {\"start\":9607,\"length\":53,\"line\":302,\"column\":8,\"endLine\":304,\"endColumn\":9,\"fileName\":\"pxt_modules/mixer/melody.ts\",\"functionName\":\"toString\",\"argumentNames\":[\"this\"]}\n\nfunction music_Melody_toString__P15200_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: music_Melody_toString__P15200, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_constructor__P15726(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_tileSets\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"_layer\"] = (1);\n    r0 = (s.arg0).fields[\"scale\"] = (s.arg1);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P26877);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    s.tmp_1 = scene_createRenderable__P15737_mk(s);\n    s.tmp_1.arg0 = globals.TILE_MAP_Z___15759;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.tmp_1.arg2 = undefined;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_constructor__P15726.info = {\"start\":2488,\"length\":283,\"line\":88,\"column\":8,\"endLine\":97,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"scale\"]}\n\nfunction tiles_TileMap_constructor__P15726_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_constructor__P15726, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P26877(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = tiles_TileMap_draw__P15723_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_0.arg1 = s.arg0;\n    s.tmp_0.arg2 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P26877.info = {\"start\":2721,\"length\":25,\"line\":95,\"column\":16,\"endLine\":95,\"endColumn\":41,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"t\",\"c\"]}\n\nfunction inline__P26877_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P26877, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_draw__P15723(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.bitmask___26887 = undefined;\n    s.offsetX___26890 = undefined;\n    s.offsetY___26894 = undefined;\n    s.x0___26898 = undefined;\n    s.xn___26904 = undefined;\n    s.y0___26917 = undefined;\n    s.yn___26923 = undefined;\n    s.x___26936 = undefined;\n    s.y___26941 = undefined;\n    s.index___26946 = undefined;\n    s.tile___26953 = undefined;\n    s.x___26981 = undefined;\n    s.xLine___26986 = undefined;\n    s.y___27006 = undefined;\n    s.yLine___27011 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 25; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_8 = r0;\n    r0 = (1 << s.tmp_8);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 - 1);\n    s.bitmask___26887 = (r0);\n    r0 = s.arg2.fields[\"drawOffsetX\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 & s.bitmask___26887);\n    s.offsetX___26890 = (r0);\n    r0 = s.arg2.fields[\"drawOffsetY\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 & s.bitmask___26887);\n    s.offsetY___26894 = (r0);\n    s.tmp_0 = Math_max__P14902_mk(s);\n    s.tmp_0.arg0 = 0;\n    r0 = s.arg2.fields[\"drawOffsetX\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 >> s.tmp_2);\n    s.tmp_0.arg1 = r0;\n    s.pc = 26; return s.tmp_0;\n  case 26:\n    r0 = s.retval;\n    s.x0___26898 = (r0);\n    s.tmp_0 = Math_min__P14903_mk(s);\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_1);\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg2.fields[\"drawOffsetX\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.arg1);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 + s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_3 >> s.tmp_6);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 27; return s.tmp_0;\n  case 27:\n    r0 = s.retval;\n    s.xn___26904 = (r0);\n    s.tmp_0 = Math_max__P14902_mk(s);\n    s.tmp_0.arg0 = 0;\n    r0 = s.arg2.fields[\"drawOffsetY\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 >> s.tmp_2);\n    s.tmp_0.arg1 = r0;\n    s.pc = 28; return s.tmp_0;\n  case 28:\n    r0 = s.retval;\n    s.y0___26917 = (r0);\n    s.tmp_0 = Math_min__P14903_mk(s);\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_1);\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg2.fields[\"drawOffsetY\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.height(s.arg1);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 + s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_3 >> s.tmp_6);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 29; return s.tmp_0;\n  case 29:\n    r0 = s.retval;\n    s.yn___26923 = (r0);\n    s.x___26936 = (s.x0___26898);\n  case 3:\n    r0 = (s.x___26936 <= s.xn___26904);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 10; continue; }\n    s.y___26941 = (s.y0___26917);\n  case 4:\n    r0 = (s.y___26941 <= s.yn___26923);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.getPixel(s.tmp_1, s.x___26936, s.y___26941);\n    s.index___26946 = (r0);\n    r0 = s.arg0.fields[\"_tileSets\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_1, s.index___26946);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    s.tmp_2 = tiles_TileMap_generateTile__P15720_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.tmp_2.arg1 = s.index___26946;\n    s.pc = 30; return s.tmp_2;\n  case 30:\n    r0 = s.retval;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    s.tile___26953 = (s.tmp_3);\n    r0 = pxsim_numops_toBoolDecr(s.tile___26953);\n    if (!r0) { step = 7; continue; }\n    s.tmp_0 = r0 = s.arg1;\n    s.tmp_2 = tiles_TileSet_image__P15698_mk(s);\n    s.tmp_2.arg0 = s.tile___26953;\n    s.pc = 31; return s.tmp_2;\n  case 31:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.x___26936 - s.x0___26898);\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5 << s.tmp_6);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 - s.offsetX___26890);\n    s.tmp_3 = r0;\n    r0 = (s.y___26941 - s.y0___26917);\n    s.tmp_9 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_10 = r0;\n    r0 = (s.tmp_9 << s.tmp_10);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 - s.offsetY___26894);\n    s.tmp_7 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_3, s.tmp_7);\n  case 7:\n  case 8:\n    r0 = (s.y___26941 + 1);\n    s.y___26941 = (r0);\n    { step = 4; continue; }\n  case 9:\n    r0 = (s.x___26936 + 1);\n    s.x___26936 = (r0);\n    { step = 3; continue; }\n  case 10:\n    r0 = pxsim_numops_toBoolDecr(globals.debug___15839);\n    if (!r0) { step = 23; continue; }\n    s.x___26981 = (s.x0___26898);\n  case 11:\n    r0 = (s.x___26981 <= s.xn___26904);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 16; continue; }\n    r0 = (s.x___26981 - s.x0___26898);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 << s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - s.offsetX___26890);\n    s.xLine___26986 = (r0);\n    r0 = (s.xLine___26986 >= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 12; continue; }\n    r0 = s.tmp_0;\n    { step = 13; continue; }\n  case 12:\n    s.tmp_1 = r0 = s.xLine___26986;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 <= s.tmp_2);\n  case 13:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 14; continue; }\n    s.tmp_4 = helpers_imageDrawLine__P15254_mk(s);\n    s.tmp_4.arg0 = s.arg1;\n    s.tmp_4.arg1 = s.xLine___26986;\n    s.tmp_4.arg2 = 0;\n    s.tmp_4.arg3 = s.xLine___26986;\n    r0 = pxsim_ImageMethods.height(s.arg1);\n    s.tmp_4.arg4 = r0;\n    s.tmp_4.arg5 = 1;\n    s.pc = 32; return s.tmp_4;\n  case 32:\n    r0 = s.retval;\n  case 14:\n  case 15:\n    r0 = (s.x___26981 + 1);\n    s.x___26981 = (r0);\n    { step = 11; continue; }\n  case 16:\n    s.y___27006 = (s.y0___26917);\n  case 17:\n    r0 = (s.y___27006 <= s.yn___26923);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 22; continue; }\n    r0 = (s.y___27006 - s.y0___26917);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 << s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - s.offsetY___26894);\n    s.yLine___27011 = (r0);\n    r0 = (s.yLine___27011 >= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 18; continue; }\n    r0 = s.tmp_0;\n    { step = 19; continue; }\n  case 18:\n    s.tmp_1 = r0 = s.yLine___27011;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 <= s.tmp_2);\n  case 19:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 20; continue; }\n    s.tmp_4 = helpers_imageDrawLine__P15254_mk(s);\n    s.tmp_4.arg0 = s.arg1;\n    s.tmp_4.arg1 = 0;\n    s.tmp_4.arg2 = s.yLine___27011;\n    r0 = pxsim_ImageMethods.width(s.arg1);\n    s.tmp_4.arg3 = r0;\n    s.tmp_4.arg4 = s.yLine___27011;\n    s.tmp_4.arg5 = 1;\n    s.pc = 33; return s.tmp_4;\n  case 33:\n    r0 = s.retval;\n  case 20:\n  case 21:\n    r0 = (s.y___27006 + 1);\n    s.y___27006 = (r0);\n    { step = 17; continue; }\n  case 22:\n  case 23:\n  case 24:\n  case 25:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_draw__P15723.info = {\"start\":5334,\"length\":2251,\"line\":183,\"column\":8,\"endLine\":238,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"draw\",\"argumentNames\":[\"this\",\"target\",\"camera\"]}\n\nfunction tiles_TileMap_draw__P15723_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_draw__P15723, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  bitmask___26887: undefined,\n  offsetX___26890: undefined,\n  offsetY___26894: undefined,\n  x0___26898: undefined,\n  xn___26904: undefined,\n  y0___26917: undefined,\n  yn___26923: undefined,\n  x___26936: undefined,\n  y___26941: undefined,\n  index___26946: undefined,\n  tile___26953: undefined,\n  x___26981: undefined,\n  xLine___26986: undefined,\n  y___27006: undefined,\n  yLine___27011: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_generateTile__P15720(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.size___25846 = undefined;\n    s.i___25849 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_0 = r0;\n    r0 = (1 << s.tmp_0);\n    s.size___25846 = (r0);\n    r0 = pxsim.image.create(s.size___25846, s.size___25846);\n    s.i___25849 = (r0);\n    r0 = pxsim_ImageMethods.fill(s.i___25849, s.arg1);\n    r0 = pxsim_pxtcore_mkClassInstance(tiles_TileSet__C15697_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = tiles_TileSet_constructor__P15699_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.i___25849;\n    s.tmp_1.arg2 = false;\n    s.tmp_1.arg3 = s.arg0;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"_tileSets\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_Array_.setAt(s.tmp_2, s.arg1, s.tmp_0);\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_generateTile__P15720.info = {\"start\":4764,\"length\":245,\"line\":166,\"column\":8,\"endLine\":172,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"generateTile\",\"argumentNames\":[\"this\",\"index\"]}\n\nfunction tiles_TileMap_generateTile__P15720_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_generateTile__P15720, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  size___25846: undefined,\n  i___25849: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileSet_constructor__P15699(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileSet__C15697_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"originalImage\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"obstacle\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"map\"] = (s.arg3);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileSet_constructor__P15699.info = {\"start\":312,\"length\":180,\"line\":16,\"column\":8,\"endLine\":20,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"image\",\"collisions\",\"map\"]}\n\nfunction tiles_TileSet_constructor__P15699_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileSet_constructor__P15699, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileSet_image__P15698(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.size___25773 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileSet__C15697_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"map\"];\n    r0 = r0.fields[\"scale\"];\n    s.tmp_0 = r0;\n    r0 = (1 << s.tmp_0);\n    s.size___25773 = (r0);\n    r0 = s.arg0.fields[\"cachedImage\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"cachedImage\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 != s.size___25773);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_5);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_5;\n    { step = 4; continue; }\n  case 3:\n    r0 = s.arg0.fields[\"cachedImage\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_7);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 != s.size___25773);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_8 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_8);\n    if (!r0) { step = 9; continue; }\n    r0 = s.arg0.fields[\"originalImage\"];\n    s.tmp_11 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_11);\n    s.tmp_10 = r0;\n    r0 = (s.tmp_10 == s.size___25773);\n    s.tmp_9 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_9);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_9;\n    { step = 6; continue; }\n  case 5:\n    r0 = s.arg0.fields[\"originalImage\"];\n    s.tmp_13 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_13);\n    s.tmp_12 = r0;\n    r0 = (s.tmp_12 == s.size___25773);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_14 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_14);\n    if (!r0) { step = 7; continue; }\n    r0 = s.arg0.fields[\"originalImage\"];\n    s.tmp_15 = r0;\n    r0 = (s.arg0).fields[\"cachedImage\"] = (s.tmp_15);\n    { step = 8; continue; }\n  case 7:\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim.image.create(s.size___25773, s.size___25773);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"cachedImage\"] = (s.tmp_1);\n    r0 = s.arg0.fields[\"cachedImage\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"originalImage\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_ImageMethods.drawImage(s.tmp_0, s.tmp_1, 0, 0);\n  case 8:\n  case 9:\n  case 10:\n    r0 = s.arg0.fields[\"cachedImage\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileSet_image__P15698.info = {\"start\":502,\"length\":567,\"line\":22,\"column\":8,\"endLine\":33,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"image\",\"argumentNames\":[\"this\"]}\n\nfunction tiles_TileSet_image__P15698_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileSet_image__P15698, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  size___25773: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_BackgroundLayer_constructor__P15696(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_BackgroundLayer__C15694_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = Math_max__P14902_mk(s);\n    s.tmp_2.arg0 = 1;\n    s.tmp_2.arg1 = s.arg1;\n    s.pc = 7; return s.tmp_2;\n  case 7:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"distance\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"img\"] = (s.arg3);\n    s.tmp_0 = r0 = s.arg2;\n    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);\n    if (r0) { step = 2; continue; }\n    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);\n    if (r0) { step = 4; continue; }\n    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 1:\n    r0 = (s.arg0).fields[\"repeatX\"] = (true);\n    r0 = (s.arg0).fields[\"repeatY\"] = (true);\n    r0 = (s.arg0).fields[\"alignX\"] = (5);\n    r0 = (s.arg0).fields[\"alignY\"] = (5);\n    { step = 6; continue; }\n  case 2:\n  case 3:\n    r0 = (s.arg0).fields[\"repeatX\"] = (false);\n    r0 = (s.arg0).fields[\"repeatY\"] = (true);\n    r0 = (s.arg0).fields[\"alignX\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"alignY\"] = (5);\n    { step = 6; continue; }\n  case 4:\n  case 5:\n    r0 = (s.arg0).fields[\"repeatX\"] = (true);\n    r0 = (s.arg0).fields[\"repeatY\"] = (false);\n    r0 = (s.arg0).fields[\"alignX\"] = (5);\n    r0 = (s.arg0).fields[\"alignY\"] = (s.arg2);\n  case 6:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_BackgroundLayer_constructor__P15696.info = {\"start\":1936,\"length\":1117,\"line\":72,\"column\":8,\"endLine\":97,\"endColumn\":9,\"fileName\":\"pxt_modules/game/background.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"distance\",\"alignment\",\"img\"]}\n\nfunction scene_BackgroundLayer_constructor__P15696_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_BackgroundLayer_constructor__P15696, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_toString__P15511(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_3 = r0;\n    r0 = s.arg0.fields[\"buckets\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_Array__length(s.tmp_6);\n    s.tmp_5 = r0;\n    if ((s.tmp_5) && (s.tmp_5).vtable) {\n    setupResume(s, 1);\n    pxsim_String__stringConv(s.tmp_5);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_5) + \"\"; }\n  case 1:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, \" buckets, \");\n    s.tmp_1 = r0;\n    s.tmp_10 = helpers_arrayFilter__P14889_mk(s);\n    r0 = s.arg0.fields[\"buckets\"];\n    s.tmp_10.arg0 = r0;\n    s.tmp_10.arg1 = inline__P25267;\n    s.pc = 2; return s.tmp_10;\n  case 2:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = pxsim_Array__length(s.tmp_9);\n    s.tmp_8 = r0;\n    if ((s.tmp_8) && (s.tmp_8).vtable) {\n    setupResume(s, 3);\n    pxsim_String__stringConv(s.tmp_8);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_8) + \"\"; }\n  case 3:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_7);\n    s.tmp_0 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, \" filled\");\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_toString__P15511.info = {\"start\":4629,\"length\":123,\"line\":126,\"column\":8,\"endLine\":128,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"toString\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_SpriteMap_toString__P15511_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_toString__P15511, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P25267(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_numops_toBoolDecr(s.arg0);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P25267.info = {\"start\":4716,\"length\":8,\"line\":127,\"column\":74,\"endLine\":127,\"endColumn\":82,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"b\"]}\n\nfunction inline__P25267_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P25267, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_moveSprite__P15578(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tm___25302 = undefined;\n    s.tileSize___25310 = undefined;\n    s.ms___25322 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    r0 = s.arg1.fields[\"_x\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg1).fields[\"_lastX\"] = (s.tmp_0);\n    r0 = s.arg1.fields[\"_y\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg1).fields[\"_lastY\"] = (s.tmp_0);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"_x\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.arg2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_x\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"_y\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.arg3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_y\"] = (s.tmp_1);\n    r0 = s.arg1.fields[\"flags\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 & globals.SPRITE_CANNOT_COLLIDE___15559);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    s.tmp_4 = game_currentScene__P15610_mk(s);\n    s.pc = 12; return s.tmp_4;\n  case 12:\n    r0 = s.retval;\n    r0 = r0.fields[\"tileMap\"];\n    s.tm___25302 = (r0);\n    s.tmp_0 = r0 = s.tm___25302;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.tm___25302.fields[\"_map\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    s.tmp_7 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_7);\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 3; continue; }\n    { step = 11; continue; }\n  case 3:\n  case 4:\n    r0 = s.tm___25302.fields[\"scale\"];\n    s.tmp_8 = r0;\n    r0 = (1 << s.tmp_8);\n    s.tileSize___25310 = (r0);\n    s.tmp_2 = Math_abs__P14900_mk(s);\n    r0 = (s.arg2 + 128);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 8);\n    s.tmp_2.arg0 = r0;\n    s.pc = 13; return s.tmp_2;\n  case 13:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < s.tileSize___25310);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    s.tmp_5 = Math_abs__P14900_mk(s);\n    r0 = (s.arg3 + 128);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 >> 8);\n    s.tmp_5.arg0 = r0;\n    s.pc = 14; return s.tmp_5;\n  case 14:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 < s.tileSize___25310);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_7);\n    if (!r0) { step = 7; continue; }\n    r0 = pxsim_pxtcore_mkClassInstance(MovingSprite__C15566_VT);\n    s.tmp_8 = r0;\n    s.tmp_9 = MovingSprite_constructor__P15567_mk(s);\n    s.tmp_9.arg0 = s.tmp_8;\n    s.tmp_9.arg1 = s.arg1;\n    r0 = s.arg1.fields[\"_vx\"];\n    s.tmp_9.arg2 = r0;\n    r0 = s.arg1.fields[\"_vy\"];\n    s.tmp_9.arg3 = r0;\n    s.tmp_9.arg4 = s.arg2;\n    s.tmp_9.arg5 = s.arg3;\n    s.tmp_9.arg6 = s.arg2;\n    s.tmp_9.arg7 = s.arg3;\n    s.pc = 15; return s.tmp_9;\n  case 15:\n    r0 = s.retval;\n    s.ms___25322 = (s.tmp_8);\n    s.tmp_0 = ArcadePhysicsEngine_tilemapCollisions__P15576_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.ms___25322;\n    s.tmp_0.arg2 = s.tm___25302;\n    s.pc = 16; return s.tmp_0;\n  case 16:\n    r0 = s.retval;\n  case 7:\n  case 8:\n  case 9:\n  case 10:\n  case 11:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_moveSprite__P15578.info = {\"start\":16919,\"length\":892,\"line\":479,\"column\":4,\"endLine\":505,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"moveSprite\",\"argumentNames\":[\"this\",\"s\",\"dx\",\"dy\"]}\n\nfunction ArcadePhysicsEngine_moveSprite__P15578_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_moveSprite__P15578, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tm___25302: undefined,\n  tileSize___25310: undefined,\n  ms___25322: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_tilemapCollisions__P15576(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.sprite___25340 = undefined;\n    s.tileScale___25344 = undefined;\n    s.tileSize___25348 = undefined;\n    s.xDiff___25351 = undefined;\n    s.yDiff___25357 = undefined;\n    s.right___25365 = undefined;\n    s.x0___25368 = undefined;\n    s.collidedTiles___25383 = undefined;\n    s.y___25385 = undefined;\n    s.y0___25400 = undefined;\n    s.obstacle___25416 = undefined;\n    s.collisionDirection___25442 = undefined;\n    s.tile___25468 = undefined;\n    s.unnamed134___U13 = undefined;\n    s.unnamed135___U14 = undefined;\n    s.down___25534 = undefined;\n    s.y0___25537 = undefined;\n    s.collidedTiles___25552 = undefined;\n    s.x___25554 = undefined;\n    s.x0___25565 = undefined;\n    s.obstacle___25579 = undefined;\n    s.collisionDirection___25603 = undefined;\n    s.tile___25629 = undefined;\n    s.unnamed136___U23 = undefined;\n    s.unnamed137___U24 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    r0 = s.arg1.fields[\"sprite\"];\n    s.sprite___25340 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg2);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg2.fields[\"scale\"];\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    s.tileScale___25344 = (s.tmp_0);\n    r0 = pxsim_numops_toBoolDecr(s.arg2);\n    if (!r0) { step = 3; continue; }\n    r0 = (1 << s.tileScale___25344);\n    { step = 4; continue; }\n  case 3:\n    r0 = 0;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_0 = r0;\n    s.tileSize___25348 = (s.tmp_0);\n    r0 = s.sprite___25340.fields[\"_x\"];\n    s.tmp_0 = r0;\n    r0 = s.sprite___25340.fields[\"_lastX\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 - s.tmp_1);\n    s.xDiff___25351 = (r0);\n    r0 = s.sprite___25340.fields[\"_y\"];\n    s.tmp_0 = r0;\n    r0 = s.sprite___25340.fields[\"_lastY\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 - s.tmp_1);\n    s.yDiff___25357 = (r0);\n    r0 = (s.xDiff___25351 !== globals.zeroFx8___14920);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 37; continue; }\n    r0 = (s.xDiff___25351 > globals.zeroFx8___14920);\n    s.right___25365 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.right___25365);\n    if (!r0) { step = 5; continue; }\n    s.tmp_1 = game_Hitbox_right__P15437_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 73; return s.tmp_1;\n  case 73:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = (1 << 8);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.tmp_0);\n    { step = 6; continue; }\n  case 5:\n    s.tmp_4 = game_Hitbox_left__P15435_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_4.arg0 = r0;\n    s.pc = 74; return s.tmp_4;\n  case 74:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (-1 << 8);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 + s.tmp_3);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + globals.oneHalfFx8___14921);\n    s.tmp_7 = r0;\n    r0 = (s.tileScale___25344 + 8);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7 >> s.tmp_8);\n    s.x0___25368 = (r0);\n    r0 = pxsim_Array__mk();\n    s.collidedTiles___25383 = (r0);\n    s.tmp_1 = game_Hitbox_top__P15436_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 75; return s.tmp_1;\n  case 75:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 - s.yDiff___25357);\n    s.y___25385 = (r0);\n  case 7:\n    s.tmp_1 = r0 = s.y___25385;\n    s.tmp_3 = r0 = s.tileSize___25348;\n    s.tmp_6 = game_Hitbox_bottom__P15438_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_6.arg0 = r0;\n    s.pc = 76; return s.tmp_6;\n  case 76:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 - s.yDiff___25357);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 << 8);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 + s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 12; continue; }\n    s.tmp_10 = Fx_min__P14935_mk(s);\n    s.tmp_10.arg0 = s.y___25385;\n    s.tmp_12 = game_Hitbox_bottom__P15438_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_12.arg0 = r0;\n    s.pc = 78; return s.tmp_12;\n  case 78:\n    r0 = s.retval;\n    s.tmp_11 = r0;\n    r0 = (s.tmp_11 - s.yDiff___25357);\n    s.tmp_10.arg1 = r0;\n    s.pc = 77; return s.tmp_10;\n  case 77:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 + globals.oneHalfFx8___14921);\n    s.tmp_8 = r0;\n    r0 = (s.tileScale___25344 + 8);\n    s.tmp_13 = r0;\n    r0 = (s.tmp_8 >> s.tmp_13);\n    s.y0___25400 = (r0);\n    s.tmp_1 = tiles_TileMap_isObstacle__P15724_mk(s);\n    s.tmp_1.arg0 = s.arg2;\n    s.tmp_1.arg1 = s.x0___25368;\n    s.tmp_1.arg2 = s.y0___25400;\n    s.pc = 79; return s.tmp_1;\n  case 79:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 10; continue; }\n    s.tmp_2 = tiles_TileMap_getObstacle__P15725_mk(s);\n    s.tmp_2.arg0 = s.arg2;\n    s.tmp_2.arg1 = s.x0___25368;\n    s.tmp_2.arg2 = s.y0___25400;\n    s.pc = 80; return s.tmp_2;\n  case 80:\n    r0 = s.retval;\n    s.obstacle___25416 = (r0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P25425);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.obstacle___25416);\n    s.tmp_4 = helpers_arraySome__P14886_mk(s);\n    s.tmp_4.arg0 = s.collidedTiles___25383;\n    s.tmp_4.arg1 = s.tmp_0;\n    s.pc = 81; return s.tmp_4;\n  case 81:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 8; continue; }\n    r0 = pxsim_Array__push(s.collidedTiles___25383, s.obstacle___25416);\n  case 8:\n  case 9:\n  case 10:\n  case 11:\n    r0 = (s.tileSize___25348 << 8);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + s.y___25385);\n    s.y___25385 = (r0);\n    { step = 7; continue; }\n  case 12:\n    r0 = pxsim_Array__length(s.collidedTiles___25383);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 35; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.right___25365);\n    if (!r0) { step = 13; continue; }\n    r0 = 2;\n    { step = 14; continue; }\n  case 13:\n    r0 = 0;\n  case 14:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.collisionDirection___25442 = (s.tmp_1);\n    r0 = pxsim_numops_toBoolDecr(s.right___25365);\n    if (!r0) { step = 15; continue; }\n    r0 = (s.x0___25368 << s.tileScale___25344);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_0 = r0;\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    r0 = r0.fields[\"width\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 * 256);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 | 0);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_0 - s.tmp_3);\n    { step = 16; continue; }\n  case 15:\n    r0 = (s.x0___25368 + 1);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 << s.tileScale___25344);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 * 256);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 | 0);\n  case 16:\n    // jmp value (already in r0)\n    s.tmp_9 = r0;\n    s.tmp_10 = r0 = s.sprite___25340;\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    r0 = r0.fields[\"ox\"];\n    s.tmp_13 = r0;\n    r0 = (0 - s.tmp_13);\n    s.tmp_12 = r0;\n    r0 = (s.tmp_12 << 8);\n    s.tmp_14 = r0;\n    r0 = (s.tmp_14 + s.tmp_9);\n    s.tmp_11 = r0;\n    r0 = (s.tmp_10).fields[\"_x\"] = (s.tmp_11);\n    s.tile___25468 = (undefined);\n    s.tile___25468 = (undefined);\n    s.unnamed134___U13 = (s.collidedTiles___25383);\n    s.unnamed135___U14 = (0);\n  case 17:\n    s.tmp_0 = r0 = s.unnamed135___U14;\n    r0 = pxsim_Array__length(s.unnamed134___U13);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 18; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed134___U13, s.unnamed135___U14);\n    s.tile___25468 = (r0);\n    s.tmp_2 = Sprite_registerObstacle__P15492_mk(s);\n    s.tmp_2.arg0 = s.sprite___25340;\n    s.tmp_2.arg1 = s.collisionDirection___25442;\n    s.tmp_2.arg2 = s.tile___25468;\n    s.pc = 82; return s.tmp_2;\n  case 82:\n    r0 = s.retval;\n    r0 = (s.unnamed135___U14 + 1);\n    s.unnamed135___U14 = (r0);\n    { step = 17; continue; }\n  case 18:\n    s.unnamed134___U13 = (undefined);\n    r0 = s.sprite___25340.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 16);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 19; continue; }\n    s.tmp_2 = Sprite_destroy__P15494_mk(s);\n    s.tmp_2.arg0 = s.sprite___25340;\n    s.tmp_2.arg1 = undefined;\n    s.tmp_2.arg2 = undefined;\n    s.pc = 83; return s.tmp_2;\n  case 83:\n    r0 = s.retval;\n    { step = 34; continue; }\n  case 19:\n    r0 = s.sprite___25340.fields[\"_vx\"];\n    s.tmp_1 = r0;\n    r0 = s.arg1.fields[\"cachedVx\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 === s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 30; continue; }\n    r0 = s.sprite___25340.fields[\"flags\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 & 32);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 28; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.right___25365);\n    s.tmp_6 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_5);\n    if (r0) { step = 20; continue; }\n    r0 = s.tmp_5;\n    { step = 21; continue; }\n  case 20:\n    s.tmp_8 = Sprite_vx__P15454_mk(s);\n    s.tmp_8.arg0 = s.sprite___25340;\n    s.pc = 84; return s.tmp_8;\n  case 84:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 < 0);\n  case 21:\n    // jmp value (already in r0)\n    s.tmp_9 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_9);\n    if (!r0) { step = 22; continue; }\n    r0 = s.tmp_9;\n    { step = 25; continue; }\n  case 22:\n    s.tmp_10 = r0 = s.right___25365;\n    r0 = pxsim_numops_toBool(s.tmp_10);\n    if (r0) { step = 23; continue; }\n    r0 = s.tmp_10;\n    { step = 24; continue; }\n  case 23:\n    s.tmp_12 = Sprite_vx__P15454_mk(s);\n    s.tmp_12.arg0 = s.sprite___25340;\n    s.pc = 85; return s.tmp_12;\n  case 85:\n    r0 = s.retval;\n    s.tmp_11 = r0;\n    r0 = (s.tmp_11 > 0);\n  case 24:\n    // jmp value (already in r0)\n    s.tmp_13 = r0;\n    r0 = s.tmp_13;\n  case 25:\n    // jmp value (already in r0)\n    s.tmp_14 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_14);\n    if (!r0) { step = 26; continue; }\n    s.tmp_15 = r0 = s.sprite___25340;\n    r0 = s.sprite___25340.fields[\"_vx\"];\n    s.tmp_17 = r0;\n    r0 = (0 - s.tmp_17);\n    s.tmp_16 = r0;\n    r0 = (s.tmp_15).fields[\"_vx\"] = (s.tmp_16);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"xStep\"];\n    s.tmp_2 = r0;\n    r0 = (0 - s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"xStep\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"dx\"];\n    s.tmp_2 = r0;\n    r0 = (0 - s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"dx\"] = (s.tmp_1);\n  case 26:\n  case 27:\n    { step = 29; continue; }\n  case 28:\n    r0 = (s.arg1).fields[\"dx\"] = (globals.zeroFx8___14920);\n    r0 = (s.sprite___25340).fields[\"_vx\"] = (globals.zeroFx8___14920);\n  case 29:\n    { step = 33; continue; }\n  case 30:\n    s.tmp_2 = Math_sign__P14901_mk(s);\n    r0 = s.sprite___25340.fields[\"_vx\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 128);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 8);\n    s.tmp_2.arg0 = r0;\n    s.pc = 86; return s.tmp_2;\n  case 86:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_6 = Math_sign__P14901_mk(s);\n    r0 = s.arg1.fields[\"cachedVx\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 + 128);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 >> 8);\n    s.tmp_6.arg0 = r0;\n    s.pc = 87; return s.tmp_6;\n  case 87:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_1 === s.tmp_5);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 31; continue; }\n    r0 = (s.arg1).fields[\"dx\"] = (globals.zeroFx8___14920);\n  case 31:\n  case 32:\n  case 33:\n  case 34:\n  case 35:\n  case 36:\n  case 37:\n  case 38:\n    r0 = (s.yDiff___25357 !== globals.zeroFx8___14920);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 71; continue; }\n    r0 = (s.yDiff___25357 > globals.zeroFx8___14920);\n    s.down___25534 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.down___25534);\n    if (!r0) { step = 39; continue; }\n    s.tmp_1 = game_Hitbox_bottom__P15438_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_1.arg0 = r0;\n    s.pc = 88; return s.tmp_1;\n  case 88:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = (1 << 8);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.tmp_0);\n    { step = 40; continue; }\n  case 39:\n    s.tmp_4 = game_Hitbox_top__P15436_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_4.arg0 = r0;\n    s.pc = 89; return s.tmp_4;\n  case 89:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (-1 << 8);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 + s.tmp_3);\n  case 40:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + globals.oneHalfFx8___14921);\n    s.tmp_7 = r0;\n    r0 = (s.tileScale___25344 + 8);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7 >> s.tmp_8);\n    s.y0___25537 = (r0);\n    r0 = pxsim_Array__mk();\n    s.collidedTiles___25552 = (r0);\n    s.tmp_0 = game_Hitbox_left__P15435_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_0.arg0 = r0;\n    s.pc = 90; return s.tmp_0;\n  case 90:\n    r0 = s.retval;\n    s.x___25554 = (r0);\n  case 41:\n    s.tmp_1 = r0 = s.x___25554;\n    s.tmp_3 = r0 = s.tileSize___25348;\n    s.tmp_5 = game_Hitbox_right__P15437_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_5.arg0 = r0;\n    s.pc = 91; return s.tmp_5;\n  case 91:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 << 8);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 < s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 46; continue; }\n    s.tmp_9 = Fx_min__P14935_mk(s);\n    s.tmp_9.arg0 = s.x___25554;\n    s.tmp_10 = game_Hitbox_right__P15437_mk(s);\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    s.tmp_10.arg0 = r0;\n    s.pc = 93; return s.tmp_10;\n  case 93:\n    r0 = s.retval;\n    s.tmp_9.arg1 = r0;\n    s.pc = 92; return s.tmp_9;\n  case 92:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 + globals.oneHalfFx8___14921);\n    s.tmp_7 = r0;\n    r0 = (s.tileScale___25344 + 8);\n    s.tmp_11 = r0;\n    r0 = (s.tmp_7 >> s.tmp_11);\n    s.x0___25565 = (r0);\n    s.tmp_1 = tiles_TileMap_isObstacle__P15724_mk(s);\n    s.tmp_1.arg0 = s.arg2;\n    s.tmp_1.arg1 = s.x0___25565;\n    s.tmp_1.arg2 = s.y0___25537;\n    s.pc = 94; return s.tmp_1;\n  case 94:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 44; continue; }\n    s.tmp_2 = tiles_TileMap_getObstacle__P15725_mk(s);\n    s.tmp_2.arg0 = s.arg2;\n    s.tmp_2.arg1 = s.x0___25565;\n    s.tmp_2.arg2 = s.y0___25537;\n    s.pc = 95; return s.tmp_2;\n  case 95:\n    r0 = s.retval;\n    s.obstacle___25579 = (r0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P25587);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.obstacle___25579);\n    s.tmp_4 = helpers_arraySome__P14886_mk(s);\n    s.tmp_4.arg0 = s.collidedTiles___25552;\n    s.tmp_4.arg1 = s.tmp_0;\n    s.pc = 96; return s.tmp_4;\n  case 96:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 42; continue; }\n    r0 = pxsim_Array__push(s.collidedTiles___25552, s.obstacle___25579);\n  case 42:\n  case 43:\n  case 44:\n  case 45:\n    r0 = (s.tileSize___25348 << 8);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + s.x___25554);\n    s.x___25554 = (r0);\n    { step = 41; continue; }\n  case 46:\n    r0 = pxsim_Array__length(s.collidedTiles___25552);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 69; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.down___25534);\n    if (!r0) { step = 47; continue; }\n    r0 = 3;\n    { step = 48; continue; }\n  case 47:\n    r0 = 1;\n  case 48:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.collisionDirection___25603 = (s.tmp_1);\n    r0 = pxsim_numops_toBoolDecr(s.down___25534);\n    if (!r0) { step = 49; continue; }\n    r0 = (s.y0___25537 << s.tileScale___25344);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_0 = r0;\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    r0 = r0.fields[\"height\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 * 256);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 | 0);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_0 - s.tmp_3);\n    { step = 50; continue; }\n  case 49:\n    r0 = (s.y0___25537 + 1);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 << s.tileScale___25344);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 * 256);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 | 0);\n  case 50:\n    // jmp value (already in r0)\n    s.tmp_9 = r0;\n    s.tmp_10 = r0 = s.sprite___25340;\n    r0 = s.sprite___25340.fields[\"_hitbox\"];\n    r0 = r0.fields[\"oy\"];\n    s.tmp_13 = r0;\n    r0 = (0 - s.tmp_13);\n    s.tmp_12 = r0;\n    r0 = (s.tmp_12 << 8);\n    s.tmp_14 = r0;\n    r0 = (s.tmp_14 + s.tmp_9);\n    s.tmp_11 = r0;\n    r0 = (s.tmp_10).fields[\"_y\"] = (s.tmp_11);\n    s.tile___25629 = (undefined);\n    s.tile___25629 = (undefined);\n    s.unnamed136___U23 = (s.collidedTiles___25552);\n    s.unnamed137___U24 = (0);\n  case 51:\n    s.tmp_0 = r0 = s.unnamed137___U24;\n    r0 = pxsim_Array__length(s.unnamed136___U23);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 52; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed136___U23, s.unnamed137___U24);\n    s.tile___25629 = (r0);\n    s.tmp_2 = Sprite_registerObstacle__P15492_mk(s);\n    s.tmp_2.arg0 = s.sprite___25340;\n    s.tmp_2.arg1 = s.collisionDirection___25603;\n    s.tmp_2.arg2 = s.tile___25629;\n    s.pc = 97; return s.tmp_2;\n  case 97:\n    r0 = s.retval;\n    r0 = (s.unnamed137___U24 + 1);\n    s.unnamed137___U24 = (r0);\n    { step = 51; continue; }\n  case 52:\n    s.unnamed136___U23 = (undefined);\n    r0 = s.sprite___25340.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 16);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 53; continue; }\n    s.tmp_2 = Sprite_destroy__P15494_mk(s);\n    s.tmp_2.arg0 = s.sprite___25340;\n    s.tmp_2.arg1 = undefined;\n    s.tmp_2.arg2 = undefined;\n    s.pc = 98; return s.tmp_2;\n  case 98:\n    r0 = s.retval;\n    { step = 68; continue; }\n  case 53:\n    r0 = s.sprite___25340.fields[\"_vy\"];\n    s.tmp_1 = r0;\n    r0 = s.arg1.fields[\"cachedVy\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 === s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 64; continue; }\n    r0 = s.sprite___25340.fields[\"flags\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 & 32);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 62; continue; }\n    r0 = pxsim_numops_toBoolDecr(s.down___25534);\n    s.tmp_6 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_5);\n    if (r0) { step = 54; continue; }\n    r0 = s.tmp_5;\n    { step = 55; continue; }\n  case 54:\n    s.tmp_8 = Sprite_vy__P15456_mk(s);\n    s.tmp_8.arg0 = s.sprite___25340;\n    s.pc = 99; return s.tmp_8;\n  case 99:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 < 0);\n  case 55:\n    // jmp value (already in r0)\n    s.tmp_9 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_9);\n    if (!r0) { step = 56; continue; }\n    r0 = s.tmp_9;\n    { step = 59; continue; }\n  case 56:\n    s.tmp_10 = r0 = s.down___25534;\n    r0 = pxsim_numops_toBool(s.tmp_10);\n    if (r0) { step = 57; continue; }\n    r0 = s.tmp_10;\n    { step = 58; continue; }\n  case 57:\n    s.tmp_12 = Sprite_vy__P15456_mk(s);\n    s.tmp_12.arg0 = s.sprite___25340;\n    s.pc = 100; return s.tmp_12;\n  case 100:\n    r0 = s.retval;\n    s.tmp_11 = r0;\n    r0 = (s.tmp_11 > 0);\n  case 58:\n    // jmp value (already in r0)\n    s.tmp_13 = r0;\n    r0 = s.tmp_13;\n  case 59:\n    // jmp value (already in r0)\n    s.tmp_14 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_14);\n    if (!r0) { step = 60; continue; }\n    s.tmp_15 = r0 = s.sprite___25340;\n    r0 = s.sprite___25340.fields[\"_vy\"];\n    s.tmp_17 = r0;\n    r0 = (0 - s.tmp_17);\n    s.tmp_16 = r0;\n    r0 = (s.tmp_15).fields[\"_vy\"] = (s.tmp_16);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"yStep\"];\n    s.tmp_2 = r0;\n    r0 = (0 - s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"yStep\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg1;\n    r0 = s.arg1.fields[\"dy\"];\n    s.tmp_2 = r0;\n    r0 = (0 - s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"dy\"] = (s.tmp_1);\n  case 60:\n  case 61:\n    { step = 63; continue; }\n  case 62:\n    r0 = (s.arg1).fields[\"dy\"] = (globals.zeroFx8___14920);\n    r0 = (s.sprite___25340).fields[\"_vy\"] = (globals.zeroFx8___14920);\n  case 63:\n    { step = 67; continue; }\n  case 64:\n    s.tmp_2 = Math_sign__P14901_mk(s);\n    r0 = s.sprite___25340.fields[\"_vy\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 128);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 8);\n    s.tmp_2.arg0 = r0;\n    s.pc = 101; return s.tmp_2;\n  case 101:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_6 = Math_sign__P14901_mk(s);\n    r0 = s.arg1.fields[\"cachedVy\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 + 128);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 >> 8);\n    s.tmp_6.arg0 = r0;\n    s.pc = 102; return s.tmp_6;\n  case 102:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_1 === s.tmp_5);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 65; continue; }\n    r0 = (s.arg1).fields[\"dy\"] = (globals.zeroFx8___14920);\n  case 65:\n  case 66:\n  case 67:\n  case 68:\n  case 69:\n  case 70:\n  case 71:\n  case 72:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_tilemapCollisions__P15576.info = {\"start\":9627,\"length\":6961,\"line\":292,\"column\":4,\"endLine\":467,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"tilemapCollisions\",\"argumentNames\":[\"this\",\"movingSprite\",\"tm\"]}\n\nfunction ArcadePhysicsEngine_tilemapCollisions__P15576_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_tilemapCollisions__P15576, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  tmp_16: undefined,\n  tmp_17: undefined,\n  sprite___25340: undefined,\n  tileScale___25344: undefined,\n  tileSize___25348: undefined,\n  xDiff___25351: undefined,\n  yDiff___25357: undefined,\n  right___25365: undefined,\n  x0___25368: undefined,\n  collidedTiles___25383: undefined,\n  y___25385: undefined,\n  y0___25400: undefined,\n  obstacle___25416: undefined,\n  collisionDirection___25442: undefined,\n  tile___25468: undefined,\n  unnamed134___U13: undefined,\n  unnamed135___U14: undefined,\n  down___25534: undefined,\n  y0___25537: undefined,\n  collidedTiles___25552: undefined,\n  x___25554: undefined,\n  x0___25565: undefined,\n  obstacle___25579: undefined,\n  collisionDirection___25603: undefined,\n  tile___25629: undefined,\n  unnamed136___U23: undefined,\n  unnamed137___U24: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction inline__P25425(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"tileIndex\"];\n    s.tmp_0 = r0;\n    r0 = s.caps[0].fields[\"tileIndex\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 === s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P25425.info = {\"start\":11372,\"length\":39,\"line\":343,\"column\":44,\"endLine\":343,\"endColumn\":83,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"o\"]}\n\nfunction inline__P25425_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P25425, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P25587(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"tileIndex\"];\n    s.tmp_0 = r0;\n    r0 = s.caps[0].fields[\"tileIndex\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 === s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P25587.info = {\"start\":14581,\"length\":39,\"line\":422,\"column\":44,\"endLine\":422,\"endColumn\":83,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"o\"]}\n\nfunction inline__P25587_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P25587, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_getObstacle__P15725(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.index___25738 = undefined;\n    s.tile___25748 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    s.tmp_1 = tiles_TileMap_isOutsideMap__P15721_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = s.arg1;\n    s.tmp_1.arg2 = s.arg2;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = 0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.getPixel(s.tmp_2, s.arg1, s.arg2);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    s.index___25738 = (s.tmp_3);\n    r0 = s.arg0.fields[\"_tileSets\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_1, s.index___25738);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_2 = tiles_TileMap_generateTile__P15720_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.tmp_2.arg1 = s.index___25738;\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    s.tile___25748 = (s.tmp_3);\n    r0 = pxsim_pxtcore_mkClassInstance(sprites_StaticObstacle__C15541_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = sprites_StaticObstacle_constructor__P15548_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_2 = tiles_TileSet_image__P15698_mk(s);\n    s.tmp_2.arg0 = s.tile___25748;\n    s.pc = 8; return s.tmp_2;\n  case 8:\n    r0 = s.retval;\n    s.tmp_1.arg1 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_3 = r0;\n    r0 = (s.arg2 << s.tmp_3);\n    s.tmp_1.arg2 = r0;\n    r0 = s.arg0.fields[\"scale\"];\n    s.tmp_4 = r0;\n    r0 = (s.arg1 << s.tmp_4);\n    s.tmp_1.arg3 = r0;\n    r0 = s.arg0.fields[\"_layer\"];\n    s.tmp_1.arg4 = r0;\n    s.tmp_1.arg5 = s.index___25738;\n    s.pc = 7; return s.tmp_1;\n  case 7:\n    r0 = s.retval;\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_getObstacle__P15725.info = {\"start\":7866,\"length\":432,\"line\":248,\"column\":8,\"endLine\":258,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"getObstacle\",\"argumentNames\":[\"this\",\"col\",\"row\"]}\n\nfunction tiles_TileMap_getObstacle__P15725_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_getObstacle__P15725, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  index___25738: undefined,\n  tile___25748: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_isOutsideMap__P15721(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = (s.arg1 < 0);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_7);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_7;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_8 = r0 = s.arg1;\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_10 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_10);\n    s.tmp_9 = r0;\n    r0 = (s.tmp_8 >= s.tmp_9);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_11 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_11);\n    if (!r0) { step = 5; continue; }\n    r0 = s.tmp_11;\n    { step = 6; continue; }\n  case 5:\n    r0 = (s.arg2 < 0);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_12 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_12);\n    if (!r0) { step = 7; continue; }\n    r0 = s.tmp_12;\n    { step = 8; continue; }\n  case 7:\n    s.tmp_13 = r0 = s.arg2;\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_15 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_15);\n    s.tmp_14 = r0;\n    r0 = (s.tmp_13 >= s.tmp_14);\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_16 = r0;\n    r0 = s.tmp_16;\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_isOutsideMap__P15721.info = {\"start\":5019,\"length\":192,\"line\":174,\"column\":8,\"endLine\":177,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"isOutsideMap\",\"argumentNames\":[\"this\",\"col\",\"row\"]}\n\nfunction tiles_TileMap_isOutsideMap__P15721_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_isOutsideMap__P15721, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  tmp_16: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_layer__P15712(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_layer\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_layer__P15712.info = {\"start\":3319,\"length\":63,\"line\":119,\"column\":8,\"endLine\":121,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"layer\",\"argumentNames\":[\"this\"]}\n\nfunction tiles_TileMap_layer__P15712_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_layer__P15712, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_StaticObstacle_constructor__P15548(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_StaticObstacle__C15541_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"image\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"layer\"] = (s.arg4);\n    r0 = (s.arg0).fields[\"top\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"left\"] = (s.arg3);\n    r0 = (s.arg0).fields[\"tileIndex\"] = (s.arg5);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_StaticObstacle_constructor__P15548.info = {\"start\":563,\"length\":261,\"line\":28,\"column\":8,\"endLine\":34,\"endColumn\":9,\"fileName\":\"pxt_modules/game/obstacle.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"image\",\"top\",\"left\",\"layer\",\"tileIndex\"]}\n\nfunction sprites_StaticObstacle_constructor__P15548_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_StaticObstacle_constructor__P15548, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n} }\n\n\n\n\n\nfunction tiles_TileMap_isObstacle__P15724(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.t___25904 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, tiles_TileMap__C15706_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_5);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = false;\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    s.tmp_8 = tiles_TileMap_isOutsideMap__P15721_mk(s);\n    s.tmp_8.arg0 = s.arg0;\n    s.tmp_8.arg1 = s.arg1;\n    s.tmp_8.arg2 = s.arg2;\n    s.pc = 8; return s.tmp_8;\n  case 8:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_7);\n    if (!r0) { step = 3; continue; }\n    r0 = true;\n    { step = 7; continue; }\n  case 3:\n  case 4:\n    r0 = s.arg0.fields[\"_tileSets\"];\n    s.tmp_9 = r0;\n    r0 = s.arg0.fields[\"_map\"];\n    s.tmp_11 = r0;\n    r0 = pxsim_ImageMethods.getPixel(s.tmp_11, s.arg1, s.arg2);\n    s.tmp_10 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_9, s.tmp_10);\n    s.t___25904 = (r0);\n    s.tmp_0 = r0 = s.t___25904;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    r0 = s.t___25904.fields[\"obstacle\"];\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.tmp_1;\n  case 7:\n    return leave(s, r0)\n  default: oops()\n} } }\ntiles_TileMap_isObstacle__P15724.info = {\"start\":7595,\"length\":261,\"line\":240,\"column\":8,\"endLine\":246,\"endColumn\":9,\"fileName\":\"pxt_modules/game/tilemap.ts\",\"functionName\":\"isObstacle\",\"argumentNames\":[\"this\",\"col\",\"row\"]}\n\nfunction tiles_TileMap_isObstacle__P15724_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: tiles_TileMap_isObstacle__P15724, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  t___25904: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Sprite_registerObstacle__P15492(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.collisionHandlers___25700 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_obstacles\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array_.setAt(s.tmp_0, s.arg1, s.arg2);\n    s.tmp_1 = game_currentScene__P15610_mk(s);\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    r0 = r0.fields[\"collisionHandlers\"];\n    s.tmp_0 = r0;\n    s.tmp_3 = if_tileIndex_1_mk(s);\n    s.tmp_3.arg0 = s.arg2;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"tileIndex\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"tileIndex\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"tileIndex\"]; }\n    else { s.pc = 4; return s.tmp_3; }\n    }\n  case 4:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_2);\n    s.collisionHandlers___25700 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.collisionHandlers___25700);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_pxtcore_mkAction(1, inline__P25711);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P25716);\n    s.tmp_1 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);\n    s.tmp_2 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_3 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_3.arg0 = s.collisionHandlers___25700;\n    s.tmp_3.arg1 = s.tmp_0;\n    s.pc = 6; return s.tmp_3;\n  case 6:\n    r0 = s.retval;\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = s.tmp_1;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_registerObstacle__P15492.info = {\"start\":23704,\"length\":388,\"line\":722,\"column\":4,\"endLine\":731,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"registerObstacle\",\"argumentNames\":[\"this\",\"direction\",\"other\"]}\n\nfunction Sprite_registerObstacle__P15492_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_registerObstacle__P15492, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  collisionHandlers___25700: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction inline__P25711(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"kind\"];\n    s.tmp_0 = r0;\n    r0 = s.caps[0].fields[\"_kind\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 == s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P25711.info = {\"start\":24001,\"length\":26,\"line\":728,\"column\":24,\"endLine\":728,\"endColumn\":50,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P25711_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P25711, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P25716(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = lambda_2_mk(s);\n    r0 = s.arg0.fields[\"handler\"];\n    s.tmp_0.argL = r0;\n    s.tmp_0.arg0 = s.caps[0];\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P25716.info = {\"start\":24054,\"length\":20,\"line\":729,\"column\":25,\"endLine\":729,\"endColumn\":45,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P25716_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P25716, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_Hitbox_bottom__P15438(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_Hitbox__C15434_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"height\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0 = r0;\n    s.tmp_3 = game_Hitbox_top__P15436_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_3;\n  case 1:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_0 << 8);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 + s.tmp_2);\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_Hitbox_bottom__P15438.info = {\"start\":673,\"length\":78,\"line\":28,\"column\":8,\"endLine\":30,\"endColumn\":9,\"fileName\":\"pxt_modules/game/hitbox.ts\",\"functionName\":\"bottom\",\"argumentNames\":[\"this\"]}\n\nfunction game_Hitbox_bottom__P15438_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_Hitbox_bottom__P15438, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_Hitbox_right__P15437(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_Hitbox__C15434_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"width\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0 = r0;\n    s.tmp_3 = game_Hitbox_left__P15435_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_3;\n  case 1:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_0 << 8);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 + s.tmp_2);\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_Hitbox_right__P15437.info = {\"start\":586,\"length\":77,\"line\":24,\"column\":8,\"endLine\":26,\"endColumn\":9,\"fileName\":\"pxt_modules/game/hitbox.ts\",\"functionName\":\"right\",\"argumentNames\":[\"this\"]}\n\nfunction game_Hitbox_right__P15437_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_Hitbox_right__P15437, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_Hitbox_top__P15436(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_Hitbox__C15434_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"oy\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"parent\"];\n    r0 = r0.fields[\"_y\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 << 8);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_Hitbox_top__P15436.info = {\"start\":503,\"length\":73,\"line\":20,\"column\":8,\"endLine\":22,\"endColumn\":9,\"fileName\":\"pxt_modules/game/hitbox.ts\",\"functionName\":\"top\",\"argumentNames\":[\"this\"]}\n\nfunction game_Hitbox_top__P15436_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_Hitbox_top__P15436, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction game_Hitbox_left__P15435(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, game_Hitbox__C15434_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"ox\"];\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"parent\"];\n    r0 = r0.fields[\"_x\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 << 8);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\ngame_Hitbox_left__P15435.info = {\"start\":419,\"length\":74,\"line\":16,\"column\":8,\"endLine\":18,\"endColumn\":9,\"fileName\":\"pxt_modules/game/hitbox.ts\",\"functionName\":\"left\",\"argumentNames\":[\"this\"]}\n\nfunction game_Hitbox_left__P15435_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: game_Hitbox_left__P15435, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Fx_min__P14935(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 < s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0;\n    { step = 3; continue; }\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg1;\n    { step = 3; continue; }\n  case 2:\n    r0 = undefined;\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_min__P14935.info = {\"start\":1527,\"length\":117,\"line\":47,\"column\":4,\"endLine\":52,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"min\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Fx_min__P14935_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_min__P14935, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Fx_iadd__P14928(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 << 8);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + s.arg1);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_iadd__P14928.info = {\"start\":621,\"length\":110,\"line\":23,\"column\":4,\"endLine\":25,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"iadd\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Fx_iadd__P14928_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_iadd__P14928, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Fx_toIntShifted__P14926(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = r0 = s.arg0;\n    r0 = (s.arg1 + 8);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 >> s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_toIntShifted__P14926.info = {\"start\":391,\"length\":102,\"line\":17,\"column\":4,\"endLine\":19,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"toIntShifted\",\"argumentNames\":[\"a\",\"n\"]}\n\nfunction Fx_toIntShifted__P14926_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_toIntShifted__P14926, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_arraySome__P14886(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.len___25722 = undefined;\n    s.i___25725 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__length(s.arg0);\n    s.len___25722 = (r0);\n    s.i___25725 = (0);\n  case 1:\n    r0 = (s.i___25725 < s.len___25722);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    s.tmp_2 = lambda_3_mk(s);\n    s.tmp_2.argL = s.arg1;\n    r0 = pxsim_Array__getAt(s.arg0, s.i___25725);\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = s.i___25725;\n    setupLambda(s.tmp_2, s.tmp_2.argL);\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 2; continue; }\n    r0 = true;\n    { step = 5; continue; }\n  case 2:\n  case 3:\n    r0 = (s.i___25725 + 1);\n    s.i___25725 = (r0);\n    { step = 1; continue; }\n  case 4:\n    r0 = false;\n  case 5:\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arraySome__P14886.info = {\"start\":4550,\"length\":296,\"line\":154,\"column\":4,\"endLine\":160,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arraySome\",\"argumentNames\":[\"arr\",\"callbackfn\"]}\n\nfunction helpers_arraySome__P14886_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arraySome__P14886, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  len___25722: undefined,\n  i___25725: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction MovingSprite_constructor__P15567(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.arg5 = (s.lambdaArgs[5]);\n      s.arg6 = (s.lambdaArgs[6]);\n      s.arg7 = (s.lambdaArgs[7]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, MovingSprite__C15566_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"sprite\"] = (s.arg1);\n    r0 = (s.arg0).fields[\"cachedVx\"] = (s.arg2);\n    r0 = (s.arg0).fields[\"cachedVy\"] = (s.arg3);\n    r0 = (s.arg0).fields[\"dx\"] = (s.arg4);\n    r0 = (s.arg0).fields[\"dy\"] = (s.arg5);\n    r0 = (s.arg0).fields[\"xStep\"] = (s.arg6);\n    r0 = (s.arg0).fields[\"yStep\"] = (s.arg7);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nMovingSprite_constructor__P15567.info = {\"start\":610,\"length\":313,\"line\":28,\"column\":4,\"endLine\":39,\"endColumn\":9,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\",\"sprite\",\"cachedVx\",\"cachedVy\",\"dx\",\"dy\",\"xStep\",\"yStep\"]}\n\nfunction MovingSprite_constructor__P15567_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: MovingSprite_constructor__P15567, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n  arg5: undefined,\n  arg6: undefined,\n  arg7: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_move__P15573(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.dtf___25960 = undefined;\n    s.dtSec___25965 = undefined;\n    s.dt2___25968 = undefined;\n    s.scene___25971 = undefined;\n    s.movingSprites___25973 = undefined;\n    s.tileMap___25984 = undefined;\n    s.MAX_STEP_COUNT___26006 = undefined;\n    s.overlapHandlers___26015 = undefined;\n    s.selected___26021 = undefined;\n    s.buffers___26022 = undefined;\n    s.count___26026 = undefined;\n    s.currMovers___26034 = undefined;\n    s.remainingMovers___26039 = undefined;\n    s.ms___26043 = undefined;\n    s.unnamed128___U14 = undefined;\n    s.unnamed129___U15 = undefined;\n    s.s___26045 = undefined;\n    s.stepX___26126 = undefined;\n    s.stepY___26137 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    s.tmp_0 = Fx_min__P14935_mk(s);\n    s.tmp_0.arg0 = globals.MAX_TIME_STEP___15557;\n    r0 = (s.arg1 * 1000);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 * 256);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 | 0);\n    s.tmp_0.arg1 = r0;\n    s.pc = 47; return s.tmp_0;\n  case 47:\n    r0 = s.retval;\n    s.dtf___25960 = (r0);\n    r0 = pxsim.Math_.idiv(s.dtf___25960, 1000);\n    s.dtSec___25965 = (r0);\n    r0 = pxsim.Math_.idiv(s.dtf___25960, 2);\n    s.dt2___25968 = (r0);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 48; return s.tmp_0;\n  case 48:\n    r0 = s.retval;\n    s.scene___25971 = (r0);\n    r0 = pxsim_pxtcore_mkAction(3, inline__P25978);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.dtSec___25965);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.dt2___25968);\n    s.tmp_1 = helpers_arrayMap__P14885_mk(s);\n    r0 = s.arg0.fields[\"sprites\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 49; return s.tmp_1;\n  case 49:\n    r0 = s.retval;\n    s.movingSprites___25973 = (r0);\n    r0 = s.scene___25971.fields[\"tileMap\"];\n    s.tileMap___25984 = (r0);\n    s.tmp_0 = helpers_arrayForEach__P14888_mk(s);\n    r0 = s.arg0.fields[\"sprites\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = inline__P25990;\n    s.pc = 50; return s.tmp_0;\n  case 50:\n    r0 = s.retval;\n    s.tmp_0 = sprites_SpriteMap_clear__P15505_mk(s);\n    r0 = s.arg0.fields[\"map\"];\n    s.tmp_0.arg0 = r0;\n    s.pc = 51; return s.tmp_0;\n  case 51:\n    r0 = s.retval;\n    s.tmp_0 = sprites_SpriteMap_resizeBuckets__P15504_mk(s);\n    r0 = s.arg0.fields[\"map\"];\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg0.fields[\"sprites\"];\n    s.tmp_0.arg1 = r0;\n    s.pc = 52; return s.tmp_0;\n  case 52:\n    r0 = s.retval;\n    r0 = s.arg0.fields[\"maxVelocity\"];\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"minSingleStep\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 << 8);\n    s.tmp_4 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_4, s.tmp_3);\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_1, s.dtSec___25965);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 8);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 + 128);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 >> 8);\n    s.MAX_STEP_COUNT___26006 = (r0);\n    s.tmp_0 = helpers_arraySlice__P14893_mk(s);\n    r0 = s.scene___25971.fields[\"overlapHandlers\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = undefined;\n    s.tmp_0.arg2 = undefined;\n    s.pc = 53; return s.tmp_0;\n  case 53:\n    r0 = s.retval;\n    s.overlapHandlers___26015 = (r0);\n    s.selected___26021 = (0);\n    r0 = pxsim_Array__mk();\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.movingSprites___25973);\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    s.buffers___26022 = (s.tmp_0);\n    s.count___26026 = (0);\n  case 1:\n    r0 = (s.count___26026 < s.MAX_STEP_COUNT___26006);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 2; continue; }\n    r0 = s.tmp_0;\n    { step = 3; continue; }\n  case 2:\n    r0 = pxsim_Array__getAt(s.buffers___26022, s.selected___26021);\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__length(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== 0);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 46; continue; }\n    r0 = pxsim_Array__getAt(s.buffers___26022, s.selected___26021);\n    s.currMovers___26034 = (r0);\n    r0 = (s.selected___26021 ^ 1);\n    s.selected___26021 = (r0);\n    r0 = pxsim_Array__getAt(s.buffers___26022, s.selected___26021);\n    s.remainingMovers___26039 = (r0);\n    s.ms___26043 = (undefined);\n    s.ms___26043 = (undefined);\n    s.unnamed128___U14 = (s.currMovers___26034);\n    s.unnamed129___U15 = (0);\n  case 4:\n    s.tmp_0 = r0 = s.unnamed129___U15;\n    r0 = pxsim_Array__length(s.unnamed128___U14);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 43; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed128___U14, s.unnamed129___U15);\n    s.ms___26043 = (r0);\n    r0 = s.ms___26043.fields[\"sprite\"];\n    s.s___26045 = (r0);\n    r0 = s.ms___26043.fields[\"cachedVx\"];\n    s.tmp_1 = r0;\n    r0 = s.s___26045.fields[\"_vx\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 !== s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 15; continue; }\n    r0 = s.s___26045.fields[\"_vx\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 == globals.zeroFx8___14920);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 5; continue; }\n    r0 = (s.ms___26043).fields[\"dx\"] = (globals.zeroFx8___14920);\n    { step = 14; continue; }\n  case 5:\n    r0 = s.s___26045.fields[\"_vx\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < globals.zeroFx8___14920);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 6; continue; }\n    r0 = s.tmp_0;\n    { step = 7; continue; }\n  case 6:\n    r0 = s.ms___26043.fields[\"cachedVx\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 > globals.zeroFx8___14920);\n  case 7:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (!r0) { step = 8; continue; }\n    r0 = s.tmp_3;\n    { step = 11; continue; }\n  case 8:\n    r0 = s.s___26045.fields[\"_vx\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 > globals.zeroFx8___14920);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_4);\n    if (r0) { step = 9; continue; }\n    r0 = s.tmp_4;\n    { step = 10; continue; }\n  case 9:\n    r0 = s.ms___26043.fields[\"cachedVx\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 < globals.zeroFx8___14920);\n  case 10:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = s.tmp_7;\n  case 11:\n    // jmp value (already in r0)\n    s.tmp_8 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_8);\n    if (!r0) { step = 12; continue; }\n    s.tmp_9 = r0 = s.ms___26043;\n    r0 = s.ms___26043.fields[\"dx\"];\n    s.tmp_11 = r0;\n    r0 = (0 - s.tmp_11);\n    s.tmp_10 = r0;\n    r0 = (s.tmp_9).fields[\"dx\"] = (s.tmp_10);\n    s.tmp_0 = r0 = s.ms___26043;\n    r0 = s.ms___26043.fields[\"xStep\"];\n    s.tmp_2 = r0;\n    r0 = (0 - s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"xStep\"] = (s.tmp_1);\n  case 12:\n  case 13:\n  case 14:\n    r0 = s.s___26045.fields[\"_vx\"];\n    s.tmp_0 = r0;\n    r0 = (s.ms___26043).fields[\"cachedVx\"] = (s.tmp_0);\n  case 15:\n  case 16:\n    r0 = s.ms___26043.fields[\"cachedVy\"];\n    s.tmp_1 = r0;\n    r0 = s.s___26045.fields[\"_vy\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 !== s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 27; continue; }\n    r0 = s.s___26045.fields[\"_vy\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 == globals.zeroFx8___14920);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 17; continue; }\n    r0 = (s.ms___26043).fields[\"dy\"] = (globals.zeroFx8___14920);\n    { step = 26; continue; }\n  case 17:\n    r0 = s.s___26045.fields[\"_vy\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < globals.zeroFx8___14920);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 18; continue; }\n    r0 = s.tmp_0;\n    { step = 19; continue; }\n  case 18:\n    r0 = s.ms___26043.fields[\"cachedVy\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 > globals.zeroFx8___14920);\n  case 19:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (!r0) { step = 20; continue; }\n    r0 = s.tmp_3;\n    { step = 23; continue; }\n  case 20:\n    r0 = s.s___26045.fields[\"_vy\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 > globals.zeroFx8___14920);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_4);\n    if (r0) { step = 21; continue; }\n    r0 = s.tmp_4;\n    { step = 22; continue; }\n  case 21:\n    r0 = s.ms___26043.fields[\"cachedVy\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 < globals.zeroFx8___14920);\n  case 22:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = s.tmp_7;\n  case 23:\n    // jmp value (already in r0)\n    s.tmp_8 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_8);\n    if (!r0) { step = 24; continue; }\n    s.tmp_9 = r0 = s.ms___26043;\n    r0 = s.ms___26043.fields[\"dy\"];\n    s.tmp_11 = r0;\n    r0 = (0 - s.tmp_11);\n    s.tmp_10 = r0;\n    r0 = (s.tmp_9).fields[\"dy\"] = (s.tmp_10);\n    s.tmp_0 = r0 = s.ms___26043;\n    r0 = s.ms___26043.fields[\"yStep\"];\n    s.tmp_2 = r0;\n    r0 = (0 - s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"yStep\"] = (s.tmp_1);\n  case 24:\n  case 25:\n  case 26:\n    r0 = s.s___26045.fields[\"_vy\"];\n    s.tmp_0 = r0;\n    r0 = (s.ms___26043).fields[\"cachedVy\"] = (s.tmp_0);\n  case 27:\n  case 28:\n    s.tmp_2 = Fx_abs__P14934_mk(s);\n    r0 = s.ms___26043.fields[\"xStep\"];\n    s.tmp_2.arg0 = r0;\n    s.pc = 54; return s.tmp_2;\n  case 54:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_4 = Fx_abs__P14934_mk(s);\n    r0 = s.ms___26043.fields[\"dx\"];\n    s.tmp_4.arg0 = r0;\n    s.pc = 55; return s.tmp_4;\n  case 55:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 > s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 29; continue; }\n    r0 = s.ms___26043.fields[\"dx\"];\n    { step = 30; continue; }\n  case 29:\n    r0 = s.ms___26043.fields[\"xStep\"];\n  case 30:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    s.stepX___26126 = (s.tmp_5);\n    s.tmp_2 = Fx_abs__P14934_mk(s);\n    r0 = s.ms___26043.fields[\"yStep\"];\n    s.tmp_2.arg0 = r0;\n    s.pc = 56; return s.tmp_2;\n  case 56:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    s.tmp_4 = Fx_abs__P14934_mk(s);\n    r0 = s.ms___26043.fields[\"dy\"];\n    s.tmp_4.arg0 = r0;\n    s.pc = 57; return s.tmp_4;\n  case 57:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 > s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 31; continue; }\n    r0 = s.ms___26043.fields[\"dy\"];\n    { step = 32; continue; }\n  case 31:\n    r0 = s.ms___26043.fields[\"yStep\"];\n  case 32:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    s.stepY___26137 = (s.tmp_5);\n    s.tmp_0 = r0 = s.ms___26043;\n    r0 = s.ms___26043.fields[\"dx\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.stepX___26126);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"dx\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.ms___26043;\n    r0 = s.ms___26043.fields[\"dy\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.stepY___26137);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"dy\"] = (s.tmp_1);\n    r0 = s.s___26045.fields[\"_x\"];\n    s.tmp_0 = r0;\n    r0 = (s.s___26045).fields[\"_lastX\"] = (s.tmp_0);\n    r0 = s.s___26045.fields[\"_y\"];\n    s.tmp_0 = r0;\n    r0 = (s.s___26045).fields[\"_lastY\"] = (s.tmp_0);\n    s.tmp_0 = r0 = s.s___26045;\n    r0 = s.s___26045.fields[\"_x\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.stepX___26126);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_x\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.s___26045;\n    r0 = s.s___26045.fields[\"_y\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.stepY___26137);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_y\"] = (s.tmp_1);\n    r0 = s.s___26045.fields[\"flags\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 & globals.SPRITE_CANNOT_COLLIDE___15559);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 37; continue; }\n    s.tmp_4 = sprites_SpriteMap_insertAABB__P15509_mk(s);\n    r0 = s.arg0.fields[\"map\"];\n    s.tmp_4.arg0 = r0;\n    s.tmp_4.arg1 = s.s___26045;\n    s.pc = 58; return s.tmp_4;\n  case 58:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.tileMap___25984;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 33; continue; }\n    r0 = s.tmp_0;\n    { step = 34; continue; }\n  case 33:\n    r0 = s.tileMap___25984.fields[\"_map\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n  case 34:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 35; continue; }\n    s.tmp_6 = ArcadePhysicsEngine_tilemapCollisions__P15576_mk(s);\n    s.tmp_6.arg0 = s.arg0;\n    s.tmp_6.arg1 = s.ms___26043;\n    s.tmp_6.arg2 = s.tileMap___25984;\n    s.pc = 59; return s.tmp_6;\n  case 59:\n    r0 = s.retval;\n  case 35:\n  case 36:\n  case 37:\n  case 38:\n    s.tmp_2 = Fx_abs__P14934_mk(s);\n    r0 = s.ms___26043.fields[\"dx\"];\n    s.tmp_2.arg0 = r0;\n    s.pc = 60; return s.tmp_2;\n  case 60:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > globals.MIN_MOVE_GAP___15564);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 39; continue; }\n    r0 = s.tmp_0;\n    { step = 40; continue; }\n  case 39:\n    s.tmp_4 = Fx_abs__P14934_mk(s);\n    r0 = s.ms___26043.fields[\"dy\"];\n    s.tmp_4.arg0 = r0;\n    s.pc = 61; return s.tmp_4;\n  case 61:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 > globals.MIN_MOVE_GAP___15564);\n  case 40:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 41; continue; }\n    r0 = pxsim_Array__push(s.remainingMovers___26039, s.ms___26043);\n  case 41:\n  case 42:\n    r0 = (s.unnamed129___U15 + 1);\n    s.unnamed129___U15 = (r0);\n    { step = 4; continue; }\n  case 43:\n    s.unnamed128___U14 = (undefined);\n    s.tmp_0 = ArcadePhysicsEngine_spriteCollisions__P15575_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.currMovers___26034;\n    s.tmp_0.arg2 = s.overlapHandlers___26015;\n    s.pc = 62; return s.tmp_0;\n  case 62:\n    r0 = s.retval;\n  case 44:\n    r0 = pxsim_Array__length(s.currMovers___26034);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 45; continue; }\n    r0 = pxsim_Array_.pop(s.currMovers___26034);\n    { step = 44; continue; }\n  case 45:\n    r0 = (s.count___26026 + 1);\n    s.count___26026 = (r0);\n    { step = 1; continue; }\n  case 46:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_move__P15573.info = {\"start\":1841,\"length\":3940,\"line\":75,\"column\":4,\"endLine\":175,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"move\",\"argumentNames\":[\"this\",\"dt\"]}\n\nfunction ArcadePhysicsEngine_move__P15573_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_move__P15573, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  dtf___25960: undefined,\n  dtSec___25965: undefined,\n  dt2___25968: undefined,\n  scene___25971: undefined,\n  movingSprites___25973: undefined,\n  tileMap___25984: undefined,\n  MAX_STEP_COUNT___26006: undefined,\n  overlapHandlers___26015: undefined,\n  selected___26021: undefined,\n  buffers___26022: undefined,\n  count___26026: undefined,\n  currMovers___26034: undefined,\n  remainingMovers___26039: undefined,\n  ms___26043: undefined,\n  unnamed128___U14: undefined,\n  unnamed129___U15: undefined,\n  s___26045: undefined,\n  stepX___26126: undefined,\n  stepY___26137: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P25978(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = ArcadePhysicsEngine_createMovingSprite__P15574_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_0.arg1 = s.arg0;\n    s.tmp_0.arg2 = s.caps[1];\n    s.tmp_0.arg3 = s.caps[2];\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P25978.info = {\"start\":2236,\"length\":53,\"line\":87,\"column\":17,\"endLine\":87,\"endColumn\":70,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"sprite\"]}\n\nfunction inline__P25978_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P25978, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P25990(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_1 = Sprite_vx__P15454_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 5; return s.tmp_1;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_2 = Sprite_vy__P15456_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 6; return s.tmp_2;\n  case 6:\n    r0 = s.retval;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    s.tmp_4 = Sprite_clearObstacles__P15491_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    s.pc = 7; return s.tmp_4;\n  case 7:\n    r0 = s.retval;\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P25990.info = {\"start\":2411,\"length\":66,\"line\":91,\"column\":29,\"endLine\":93,\"endColumn\":9,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"s\"]}\n\nfunction inline__P25990_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P25990, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_spriteCollisions__P15575(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.ms___26226 = undefined;\n    s.unnamed130___U1 = undefined;\n    s.unnamed131___U2 = undefined;\n    s.sprite___26228 = undefined;\n    s.overSprites___26234 = undefined;\n    s.overlapper___26241 = undefined;\n    s.unnamed132___U6 = undefined;\n    s.unnamed133___U7 = undefined;\n    s.thisKind___26246 = undefined;\n    s.otherKind___26249 = undefined;\n    s.higher___26259 = undefined;\n    s.lower___26266 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    r0 = pxsim_Array__length(s.arg2);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 21; continue; }\n  case 1:\n  case 2:\n    s.ms___26226 = (undefined);\n    s.ms___26226 = (undefined);\n    s.unnamed130___U1 = (s.arg1);\n    s.unnamed131___U2 = (0);\n  case 3:\n    s.tmp_0 = r0 = s.unnamed131___U2;\n    r0 = pxsim_Array__length(s.unnamed130___U1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 20; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed130___U1, s.unnamed131___U2);\n    s.ms___26226 = (r0);\n    r0 = s.ms___26226.fields[\"sprite\"];\n    s.sprite___26228 = (r0);\n    r0 = s.sprite___26228.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & globals.SPRITE_CANNOT_COLLIDE___15559);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    { step = 19; continue; }\n  case 4:\n  case 5:\n    s.tmp_2 = sprites_SpriteMap_overlaps__P15502_mk(s);\n    r0 = s.arg0.fields[\"map\"];\n    s.tmp_2.arg0 = r0;\n    r0 = s.ms___26226.fields[\"sprite\"];\n    s.tmp_2.arg1 = r0;\n    s.pc = 22; return s.tmp_2;\n  case 22:\n    r0 = s.retval;\n    s.overSprites___26234 = (r0);\n    s.overlapper___26241 = (undefined);\n    s.overlapper___26241 = (undefined);\n    s.unnamed132___U6 = (s.overSprites___26234);\n    s.unnamed133___U7 = (0);\n  case 6:\n    s.tmp_0 = r0 = s.unnamed133___U7;\n    r0 = pxsim_Array__length(s.unnamed132___U6);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 18; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed132___U6, s.unnamed133___U7);\n    s.overlapper___26241 = (r0);\n    r0 = s.overlapper___26241.fields[\"flags\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 & globals.SPRITE_CANNOT_COLLIDE___15559);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 7; continue; }\n    { step = 17; continue; }\n  case 7:\n  case 8:\n    r0 = s.sprite___26228.fields[\"_kind\"];\n    s.thisKind___26246 = (r0);\n    r0 = s.overlapper___26241.fields[\"_kind\"];\n    s.otherKind___26249 = (r0);\n    r0 = s.sprite___26228.fields[\"_kindsOverlappedWith\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_Array_.indexOf(s.tmp_2, s.otherKind___26249, undefined);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === -1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    { step = 17; continue; }\n  case 9:\n  case 10:\n    r0 = s.sprite___26228.fields[\"id\"];\n    s.tmp_4 = r0;\n    r0 = s.overlapper___26241.fields[\"id\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 > s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 11; continue; }\n    r0 = s.sprite___26228;\n    { step = 12; continue; }\n  case 11:\n    r0 = s.overlapper___26241;\n  case 12:\n    // jmp value (already in r0)\n    s.tmp_6 = r0;\n    s.higher___26259 = (s.tmp_6);\n    r0 = (s.higher___26259 === s.sprite___26228);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 13; continue; }\n    r0 = s.overlapper___26241;\n    { step = 14; continue; }\n  case 13:\n    r0 = s.sprite___26228;\n  case 14:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.lower___26266 = (s.tmp_1);\n    r0 = s.higher___26259.fields[\"_overlappers\"];\n    s.tmp_2 = r0;\n    r0 = s.lower___26266.fields[\"id\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_Array_.indexOf(s.tmp_2, s.tmp_3, undefined);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === -1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 15; continue; }\n    r0 = pxsim_pxtcore_mkAction(2, inline__P26282);\n    s.tmp_4 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_4, 0, s.thisKind___26246);\n    r0 = pxsim_pxtrt_stclo(s.tmp_4, 1, s.otherKind___26249);\n    r0 = pxsim_pxtcore_mkAction(5, inline__P26299);\n    s.tmp_5 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_5, 0, s.higher___26259);\n    r0 = pxsim_pxtrt_stclo(s.tmp_5, 1, s.lower___26266);\n    r0 = pxsim_pxtrt_stclo(s.tmp_5, 2, s.thisKind___26246);\n    r0 = pxsim_pxtrt_stclo(s.tmp_5, 3, s.sprite___26228);\n    r0 = pxsim_pxtrt_stclo(s.tmp_5, 4, s.overlapper___26241);\n    s.tmp_6 = helpers_arrayForEach__P14888_mk(s);\n    s.tmp_7 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_7.arg0 = s.arg2;\n    s.tmp_7.arg1 = s.tmp_4;\n    s.pc = 24; return s.tmp_7;\n  case 24:\n    r0 = s.retval;\n    s.tmp_6.arg0 = r0;\n    s.tmp_6.arg1 = s.tmp_5;\n    s.pc = 23; return s.tmp_6;\n  case 23:\n    r0 = s.retval;\n  case 15:\n  case 16:\n  case 17:\n    r0 = (s.unnamed133___U7 + 1);\n    s.unnamed133___U7 = (r0);\n    { step = 6; continue; }\n  case 18:\n    s.unnamed132___U6 = (undefined);\n  case 19:\n    r0 = (s.unnamed131___U2 + 1);\n    s.unnamed131___U2 = (r0);\n    { step = 3; continue; }\n  case 20:\n    s.unnamed130___U1 = (undefined);\n  case 21:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_spriteCollisions__P15575.info = {\"start\":7509,\"length\":2112,\"line\":248,\"column\":4,\"endLine\":290,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"spriteCollisions\",\"argumentNames\":[\"this\",\"movedSprites\",\"handlers\"]}\n\nfunction ArcadePhysicsEngine_spriteCollisions__P15575_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_spriteCollisions__P15575, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  ms___26226: undefined,\n  unnamed130___U1: undefined,\n  unnamed131___U2: undefined,\n  sprite___26228: undefined,\n  overSprites___26234: undefined,\n  overlapper___26241: undefined,\n  unnamed132___U6: undefined,\n  unnamed133___U7: undefined,\n  thisKind___26246: undefined,\n  otherKind___26249: undefined,\n  higher___26259: undefined,\n  lower___26266: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction inline__P26282(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0.fields[\"kind\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 === s.caps[0]);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0.fields[\"otherKind\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 === s.caps[1]);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_3;\n    { step = 6; continue; }\n  case 3:\n    r0 = s.arg0.fields[\"kind\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 === s.caps[1]);\n    s.tmp_4 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_4);\n    if (r0) { step = 4; continue; }\n    r0 = s.tmp_4;\n    { step = 5; continue; }\n  case 4:\n    r0 = s.arg0.fields[\"otherKind\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 === s.caps[0]);\n  case 5:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = s.tmp_7;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_8 = r0;\n    r0 = s.tmp_8;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P26282.info = {\"start\":8868,\"length\":145,\"line\":274,\"column\":32,\"endLine\":275,\"endColumn\":89,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P26282_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P26282, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P26299(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.caps[0].fields[\"_overlappers\"];\n    s.tmp_0 = r0;\n    r0 = s.caps[1].fields[\"id\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);\n    r0 = pxsim_pxtcore_mkAction(6, inline__P26309);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[2]);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.caps[3]);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.caps[4]);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.caps[0]);\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 5, s.caps[1]);\n    r0 = pxsim.control.runInParallel(s.tmp_0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P26299.info = {\"start\":9073,\"length\":498,\"line\":277,\"column\":33,\"endLine\":286,\"endColumn\":25,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"h\"]}\n\nfunction inline__P26299_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P26299, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction inline__P26309(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    r0 = s.caps[0].fields[\"kind\"];\n    s.tmp_1 = r0;\n    r0 = (s.caps[1] === s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.caps[2];\n    { step = 2; continue; }\n  case 1:\n    r0 = s.caps[3];\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_2 = r0;\n    r0 = s.caps[0].fields[\"kind\"];\n    s.tmp_4 = r0;\n    r0 = (s.caps[1] === s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    r0 = s.caps[3];\n    { step = 4; continue; }\n  case 3:\n    r0 = s.caps[2];\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    s.tmp_6 = lambda_3_mk(s);\n    r0 = s.caps[0].fields[\"handler\"];\n    s.tmp_6.argL = r0;\n    s.tmp_6.arg0 = s.tmp_2;\n    s.tmp_6.arg1 = s.tmp_5;\n    setupLambda(s.tmp_6, s.tmp_6.argL);\n    s.pc = 5; return s.tmp_6;\n  case 5:\n    r0 = s.retval;\n    r0 = s.caps[4].fields[\"_overlappers\"];\n    s.tmp_0 = r0;\n    r0 = s.caps[5].fields[\"id\"];\n    s.tmp_1 = r0;\n    r0 = pxsim_Array_.removeElement(s.tmp_0, s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P26309.info = {\"start\":9194,\"length\":349,\"line\":279,\"column\":50,\"endLine\":285,\"endColumn\":29,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"inline\",\"argumentNames\":[]}\n\nfunction inline__P26309_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P26309, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_overlaps__P15502(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.n___26330 = undefined;\n    s.o___26333 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_0 = sprites_SpriteMap_neighbors__P15501_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.n___26330 = (r0);\n    r0 = pxsim_pxtcore_mkAction(1, inline__P26336);\n    s.tmp_0 = r0;\n    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);\n    s.tmp_1 = helpers_arrayFilter__P14889_mk(s);\n    s.tmp_1.arg0 = s.n___26330;\n    s.tmp_1.arg1 = s.tmp_0;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.o___26333 = (r0);\n    r0 = s.o___26333;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_overlaps__P15502.info = {\"start\":971,\"length\":189,\"line\":32,\"column\":8,\"endLine\":36,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"overlaps\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction sprites_SpriteMap_overlaps__P15502_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_overlaps__P15502, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  n___26330: undefined,\n  o___26333: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction inline__P26336(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    s.tmp_0 = Sprite_overlapsWith__P15488_mk(s);\n    s.tmp_0.arg0 = s.caps[0];\n    s.tmp_0.arg1 = s.arg0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\ninline__P26336.info = {\"start\":1085,\"length\":41,\"line\":34,\"column\":31,\"endLine\":34,\"endColumn\":72,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"neighbor\"]}\n\nfunction inline__P26336_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: inline__P26336, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_neighbors__P15501(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.n___26371 = undefined;\n    s.layer___26373 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_1 = sprites_SpriteMap_isOob__P15508_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = s.arg1;\n    s.pc = 4; return s.tmp_1;\n  case 4:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = pxsim_Array__mk();\n    { step = 3; continue; }\n  case 1:\n  case 2:\n    r0 = pxsim_Array__mk();\n    s.n___26371 = (r0);\n    r0 = s.arg1.fields[\"layer\"];\n    s.layer___26373 = (r0);\n    s.tmp_0 = sprites_SpriteMap_mergeAtKey__P15510_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = Sprite_left__P15470_mk(s);\n    s.tmp_1.arg0 = s.arg1;\n    s.pc = 6; return s.tmp_1;\n  case 6:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_2 = Sprite_top__P15474_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.pc = 7; return s.tmp_2;\n  case 7:\n    r0 = s.retval;\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = s.layer___26373;\n    s.tmp_0.arg4 = s.n___26371;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.tmp_0 = sprites_SpriteMap_mergeAtKey__P15510_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = Sprite_left__P15470_mk(s);\n    s.tmp_1.arg0 = s.arg1;\n    s.pc = 9; return s.tmp_1;\n  case 9:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_2 = Sprite_bottom__P15476_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.pc = 10; return s.tmp_2;\n  case 10:\n    r0 = s.retval;\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = s.layer___26373;\n    s.tmp_0.arg4 = s.n___26371;\n    s.pc = 8; return s.tmp_0;\n  case 8:\n    r0 = s.retval;\n    s.tmp_0 = sprites_SpriteMap_mergeAtKey__P15510_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = Sprite_right__P15472_mk(s);\n    s.tmp_1.arg0 = s.arg1;\n    s.pc = 12; return s.tmp_1;\n  case 12:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_2 = Sprite_top__P15474_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.pc = 13; return s.tmp_2;\n  case 13:\n    r0 = s.retval;\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = s.layer___26373;\n    s.tmp_0.arg4 = s.n___26371;\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n    s.tmp_0 = sprites_SpriteMap_mergeAtKey__P15510_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = Sprite_right__P15472_mk(s);\n    s.tmp_1.arg0 = s.arg1;\n    s.pc = 15; return s.tmp_1;\n  case 15:\n    r0 = s.retval;\n    s.tmp_0.arg1 = r0;\n    s.tmp_2 = Sprite_bottom__P15476_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.pc = 16; return s.tmp_2;\n  case 16:\n    r0 = s.retval;\n    s.tmp_0.arg2 = r0;\n    s.tmp_0.arg3 = s.layer___26373;\n    s.tmp_0.arg4 = s.n___26371;\n    s.pc = 14; return s.tmp_0;\n  case 14:\n    r0 = s.retval;\n    r0 = pxsim_Array_.removeElement(s.n___26371, s.arg1);\n    r0 = s.n___26371;\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_neighbors__P15501.info = {\"start\":376,\"length\":490,\"line\":15,\"column\":8,\"endLine\":26,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"neighbors\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction sprites_SpriteMap_neighbors__P15501_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_neighbors__P15501, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  n___26371: undefined,\n  layer___26373: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_mergeAtKey__P15510(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.k___26417 = undefined;\n    s.bucket___26421 = undefined;\n    s.sprite___26427 = undefined;\n    s.unnamed126___U3 = undefined;\n    s.unnamed127___U4 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.arg4 = (s.lambdaArgs[4]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_0 = sprites_SpriteMap_key__P15506_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg2;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.k___26417 = (r0);\n    r0 = s.arg0.fields[\"buckets\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.k___26417);\n    s.bucket___26421 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.bucket___26421);\n    if (!r0) { step = 7; continue; }\n    s.sprite___26427 = (undefined);\n    s.sprite___26427 = (undefined);\n    s.unnamed126___U3 = (s.bucket___26421);\n    s.unnamed127___U4 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed127___U4;\n    r0 = pxsim_Array__length(s.unnamed126___U3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 6; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed126___U3, s.unnamed127___U4);\n    s.sprite___26427 = (r0);\n    r0 = s.sprite___26427.fields[\"layer\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 & s.arg3);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_2);\n    if (r0) { step = 2; continue; }\n    r0 = s.tmp_2;\n    { step = 3; continue; }\n  case 2:\n    r0 = pxsim_Array_.indexOf(s.arg4, s.sprite___26427, undefined);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 < 0);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim_Array__push(s.arg4, s.sprite___26427);\n  case 4:\n  case 5:\n    r0 = (s.unnamed127___U4 + 1);\n    s.unnamed127___U4 = (r0);\n    { step = 1; continue; }\n  case 6:\n    s.unnamed126___U3 = (undefined);\n  case 7:\n  case 8:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_mergeAtKey__P15510.info = {\"start\":4235,\"length\":384,\"line\":115,\"column\":8,\"endLine\":124,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"mergeAtKey\",\"argumentNames\":[\"this\",\"x\",\"y\",\"layer\",\"n\"]}\n\nfunction sprites_SpriteMap_mergeAtKey__P15510_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_mergeAtKey__P15510, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  k___26417: undefined,\n  bucket___26421: undefined,\n  sprite___26427: undefined,\n  unnamed126___U3: undefined,\n  unnamed127___U4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_key__P15506(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.xi___26445 = undefined;\n    s.yi___26456 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_0 = Math_clamp__P14899_mk(s);\n    s.tmp_0.arg0 = 0;\n    r0 = s.arg0.fields[\"columnCount\"];\n    s.tmp_0.arg1 = r0;\n    r0 = s.arg0.fields[\"cellWidth\"];\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.idiv(s.arg1, s.tmp_1);\n    s.tmp_0.arg2 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.xi___26445 = (r0);\n    s.tmp_0 = Math_clamp__P14899_mk(s);\n    s.tmp_0.arg0 = 0;\n    r0 = s.arg0.fields[\"rowCount\"];\n    s.tmp_0.arg1 = r0;\n    r0 = s.arg0.fields[\"cellHeight\"];\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.idiv(s.arg2, s.tmp_1);\n    s.tmp_0.arg2 = r0;\n    s.pc = 2; return s.tmp_0;\n  case 2:\n    r0 = s.retval;\n    s.yi___26456 = (r0);\n    s.tmp_0 = r0 = s.xi___26445;\n    r0 = s.arg0.fields[\"columnCount\"];\n    s.tmp_2 = r0;\n    r0 = (s.yi___26456 * s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_key__P15506.info = {\"start\":2640,\"length\":270,\"line\":78,\"column\":8,\"endLine\":82,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"key\",\"argumentNames\":[\"this\",\"x\",\"y\"]}\n\nfunction sprites_SpriteMap_key__P15506_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_key__P15506, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  xi___26445: undefined,\n  yi___26456: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_isOob__P15508(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.tMap___26474 = undefined;\n    s.areaWidth___26478 = undefined;\n    s.areaHeight___26484 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n    r0 = r0.fields[\"tileMap\"];\n    s.tMap___26474 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.tMap___26474);\n    if (!r0) { step = 1; continue; }\n    s.tmp_0 = tiles_TileMap_areaWidth__P15710_mk(s);\n    s.tmp_0.arg0 = s.tMap___26474;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.areaWidth___26478 = (s.tmp_1);\n    r0 = pxsim_numops_toBoolDecr(s.tMap___26474);\n    if (!r0) { step = 3; continue; }\n    s.tmp_0 = tiles_TileMap_areaHeight__P15711_mk(s);\n    s.tmp_0.arg0 = s.tMap___26474;\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    { step = 4; continue; }\n  case 3:\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.areaHeight___26484 = (s.tmp_1);\n    s.tmp_2 = Sprite_right__P15472_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.pc = 14; return s.tmp_2;\n  case 14:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    s.tmp_4 = Sprite_left__P15470_mk(s);\n    s.tmp_4.arg0 = s.arg1;\n    s.pc = 15; return s.tmp_4;\n  case 15:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 > s.areaWidth___26478);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_5);\n    if (!r0) { step = 7; continue; }\n    r0 = s.tmp_5;\n    { step = 8; continue; }\n  case 7:\n    s.tmp_7 = Sprite_bottom__P15476_mk(s);\n    s.tmp_7.arg0 = s.arg1;\n    s.pc = 16; return s.tmp_7;\n  case 16:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 < 0);\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_8 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_8);\n    if (!r0) { step = 9; continue; }\n    r0 = s.tmp_8;\n    { step = 10; continue; }\n  case 9:\n    s.tmp_10 = Sprite_top__P15474_mk(s);\n    s.tmp_10.arg0 = s.arg1;\n    s.pc = 17; return s.tmp_10;\n  case 17:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 > s.areaHeight___26484);\n  case 10:\n    // jmp value (already in r0)\n    s.tmp_11 = r0;\n    r0 = s.tmp_11;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_isOob__P15508.info = {\"start\":3232,\"length\":360,\"line\":93,\"column\":8,\"endLine\":99,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"isOob\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction sprites_SpriteMap_isOob__P15508_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_isOob__P15508, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tMap___26474: undefined,\n  areaWidth___26478: undefined,\n  areaHeight___26484: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_right__P15472(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_1 = Sprite_left__P15470_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_0 + s.tmp_2);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_right__P15472.info = {\"start\":8099,\"length\":57,\"line\":290,\"column\":4,\"endLine\":292,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"right\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_right__P15472_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_right__P15472, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite_overlapsWith__P15488(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = (s.arg1 == s.arg0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = false;\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 & 1);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 3; continue; }\n    r0 = false;\n    { step = 7; continue; }\n  case 3:\n  case 4:\n    r0 = s.arg1.fields[\"flags\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 & 1);\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 5; continue; }\n    r0 = false;\n    { step = 7; continue; }\n  case 5:\n  case 6:\n    r0 = s.arg1.fields[\"_image\"];\n    s.tmp_5 = r0;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_6 = r0;\n    s.tmp_9 = Sprite_left__P15470_mk(s);\n    s.tmp_9.arg0 = s.arg0;\n    s.pc = 8; return s.tmp_9;\n  case 8:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    s.tmp_11 = Sprite_left__P15470_mk(s);\n    s.tmp_11.arg0 = s.arg1;\n    s.pc = 9; return s.tmp_11;\n  case 9:\n    r0 = s.retval;\n    s.tmp_10 = r0;\n    r0 = (s.tmp_8 - s.tmp_10);\n    s.tmp_7 = r0;\n    s.tmp_14 = Sprite_top__P15474_mk(s);\n    s.tmp_14.arg0 = s.arg0;\n    s.pc = 10; return s.tmp_14;\n  case 10:\n    r0 = s.retval;\n    s.tmp_13 = r0;\n    s.tmp_16 = Sprite_top__P15474_mk(s);\n    s.tmp_16.arg0 = s.arg1;\n    s.pc = 11; return s.tmp_16;\n  case 11:\n    r0 = s.retval;\n    s.tmp_15 = r0;\n    r0 = (s.tmp_13 - s.tmp_15);\n    s.tmp_12 = r0;\n    r0 = pxsim_ImageMethods.overlapsWith(s.tmp_5, s.tmp_6, s.tmp_7, s.tmp_12);\n  case 7:\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_overlapsWith__P15488.info = {\"start\":22417,\"length\":366,\"line\":686,\"column\":4,\"endLine\":694,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"overlapsWith\",\"argumentNames\":[\"this\",\"other\"]}\n\nfunction Sprite_overlapsWith__P15488_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_overlapsWith__P15488, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  tmp_16: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_createMovingSprite__P15574(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.ovx___26671 = undefined;\n    s.ovy___26675 = undefined;\n    s.dx___26707 = undefined;\n    s.dy___26715 = undefined;\n    s.xStep___26723 = undefined;\n    s.yStep___26725 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    s.tmp_0 = ArcadePhysicsEngine_constrain__P15579_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    r0 = s.arg1.fields[\"_vx\"];\n    s.tmp_0.arg1 = r0;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.ovx___26671 = (r0);\n    s.tmp_0 = ArcadePhysicsEngine_constrain__P15579_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    r0 = s.arg1.fields[\"_vy\"];\n    s.tmp_0.arg1 = r0;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    s.ovy___26675 = (r0);\n    r0 = s.arg1.fields[\"_x\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg1).fields[\"_lastX\"] = (s.tmp_0);\n    r0 = s.arg1.fields[\"_y\"];\n    s.tmp_0 = r0;\n    r0 = (s.arg1).fields[\"_lastY\"] = (s.tmp_0);\n    s.tmp_0 = r0 = s.arg1;\n    s.tmp_2 = ArcadePhysicsEngine_constrain__P15579_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    r0 = s.arg1.fields[\"_vx\"];\n    s.tmp_3 = r0;\n    r0 = s.arg1.fields[\"_ax\"];\n    s.tmp_5 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_5, s.arg2);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 >> 8);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 + s.tmp_4);\n    s.tmp_2.arg1 = r0;\n    s.pc = 11; return s.tmp_2;\n  case 11:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_vx\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg1;\n    s.tmp_2 = ArcadePhysicsEngine_constrain__P15579_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    r0 = s.arg1.fields[\"_vy\"];\n    s.tmp_3 = r0;\n    r0 = s.arg1.fields[\"_ay\"];\n    s.tmp_5 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_5, s.arg2);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 >> 8);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3 + s.tmp_4);\n    s.tmp_2.arg1 = r0;\n    s.pc = 12; return s.tmp_2;\n  case 12:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_vy\"] = (s.tmp_1);\n    r0 = s.arg1.fields[\"_vx\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.ovx___26671);\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_1, s.arg3);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 8);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, 1000);\n    s.dx___26707 = (r0);\n    r0 = s.arg1.fields[\"_vy\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + s.ovy___26675);\n    s.tmp_1 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_1, s.arg3);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 >> 8);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, 1000);\n    s.dy___26715 = (r0);\n    s.xStep___26723 = (s.dx___26707);\n    s.yStep___26725 = (s.dy___26715);\n  case 1:\n    s.tmp_2 = Fx_abs__P14934_mk(s);\n    s.tmp_2.arg0 = s.xStep___26723;\n    s.pc = 13; return s.tmp_2;\n  case 13:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"maxSingleStep\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 > s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    r0 = s.tmp_0;\n    { step = 3; continue; }\n  case 2:\n    s.tmp_5 = Fx_abs__P14934_mk(s);\n    s.tmp_5.arg0 = s.yStep___26725;\n    s.pc = 14; return s.tmp_5;\n  case 14:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = s.arg0.fields[\"maxSingleStep\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_4 > s.tmp_6);\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_7);\n    if (!r0) { step = 8; continue; }\n    s.tmp_10 = Fx_abs__P14934_mk(s);\n    s.tmp_10.arg0 = s.xStep___26723;\n    s.pc = 15; return s.tmp_10;\n  case 15:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = s.arg0.fields[\"minSingleStep\"];\n    s.tmp_11 = r0;\n    r0 = (s.tmp_9 > s.tmp_11);\n    s.tmp_8 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_8);\n    if (!r0) { step = 4; continue; }\n    r0 = pxsim.Math_.idiv(s.xStep___26723, 2);\n    s.xStep___26723 = (r0);\n  case 4:\n  case 5:\n    s.tmp_2 = Fx_abs__P14934_mk(s);\n    s.tmp_2.arg0 = s.yStep___26725;\n    s.pc = 16; return s.tmp_2;\n  case 16:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"minSingleStep\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 > s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    r0 = pxsim.Math_.idiv(s.yStep___26725, 2);\n    s.yStep___26725 = (r0);\n  case 6:\n  case 7:\n    { step = 1; continue; }\n  case 8:\n    r0 = pxsim_pxtcore_mkClassInstance(MovingSprite__C15566_VT);\n    s.tmp_0 = r0;\n    s.tmp_1 = MovingSprite_constructor__P15567_mk(s);\n    s.tmp_1.arg0 = s.tmp_0;\n    s.tmp_1.arg1 = s.arg1;\n    r0 = s.arg1.fields[\"_vx\"];\n    s.tmp_1.arg2 = r0;\n    r0 = s.arg1.fields[\"_vy\"];\n    s.tmp_1.arg3 = r0;\n    s.tmp_1.arg4 = s.dx___26707;\n    s.tmp_1.arg5 = s.dy___26715;\n    s.tmp_1.arg6 = s.xStep___26723;\n    s.tmp_1.arg7 = s.yStep___26725;\n    s.pc = 17; return s.tmp_1;\n  case 17:\n    r0 = s.retval;\n    r0 = s.tmp_0;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_createMovingSprite__P15574.info = {\"start\":5787,\"length\":1716,\"line\":177,\"column\":4,\"endLine\":246,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"createMovingSprite\",\"argumentNames\":[\"this\",\"sprite\",\"dtSec\",\"dt2\"]}\n\nfunction ArcadePhysicsEngine_createMovingSprite__P15574_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_createMovingSprite__P15574, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  ovx___26671: undefined,\n  ovy___26675: undefined,\n  dx___26707: undefined,\n  dy___26715: undefined,\n  xStep___26723: undefined,\n  yStep___26725: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_constrain__P15579(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    s.tmp_0 = Fx_max__P14936_mk(s);\n    s.tmp_1 = Fx_min__P14935_mk(s);\n    r0 = s.arg0.fields[\"maxVelocity\"];\n    s.tmp_1.arg0 = r0;\n    s.tmp_1.arg1 = s.arg1;\n    s.pc = 2; return s.tmp_1;\n  case 2:\n    r0 = s.retval;\n    s.tmp_0.arg0 = r0;\n    r0 = s.arg0.fields[\"maxNegativeVelocity\"];\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_constrain__P15579.info = {\"start\":17817,\"length\":191,\"line\":507,\"column\":4,\"endLine\":515,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"constrain\",\"argumentNames\":[\"this\",\"v\"]}\n\nfunction ArcadePhysicsEngine_constrain__P15579_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_constrain__P15579, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Fx_max__P14936(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 > s.arg1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0;\n    { step = 3; continue; }\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg1;\n    { step = 3; continue; }\n  case 2:\n    r0 = undefined;\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_max__P14936.info = {\"start\":1649,\"length\":117,\"line\":53,\"column\":4,\"endLine\":58,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"max\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Fx_max__P14936_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_max__P14936, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_insertAABB__P15509(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.left___26507 = undefined;\n    s.top___26510 = undefined;\n    s.xn___26513 = undefined;\n    s.yn___26522 = undefined;\n    s.x___26531 = undefined;\n    s.y___26535 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_1 = sprites_SpriteMap_isOob__P15508_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = s.arg1;\n    s.pc = 8; return s.tmp_1;\n  case 8:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 7; continue; }\n  case 1:\n  case 2:\n    s.tmp_2 = Sprite_left__P15470_mk(s);\n    s.tmp_2.arg0 = s.arg1;\n    s.pc = 9; return s.tmp_2;\n  case 9:\n    r0 = s.retval;\n    s.left___26507 = (r0);\n    s.tmp_0 = Sprite_top__P15474_mk(s);\n    s.tmp_0.arg0 = s.arg1;\n    s.pc = 10; return s.tmp_0;\n  case 10:\n    r0 = s.retval;\n    s.top___26510 = (r0);\n    r0 = s.arg1.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"cellWidth\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 + s.tmp_4);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"cellWidth\"];\n    s.tmp_5 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, s.tmp_5);\n    s.xn___26513 = (r0);\n    r0 = s.arg1.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"cellHeight\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 + s.tmp_4);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - 1);\n    s.tmp_0 = r0;\n    r0 = s.arg0.fields[\"cellHeight\"];\n    s.tmp_5 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, s.tmp_5);\n    s.yn___26522 = (r0);\n    s.x___26531 = (0);\n  case 3:\n    r0 = (s.x___26531 <= s.xn___26513);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 6; continue; }\n    s.y___26535 = (0);\n  case 4:\n    r0 = (s.y___26535 <= s.yn___26522);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 5; continue; }\n    s.tmp_1 = sprites_SpriteMap_insertAtKey__P15507_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_2 = r0 = s.left___26507;\n    s.tmp_4 = Math_min__P14903_mk(s);\n    r0 = s.arg1.fields[\"_image\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_5);\n    s.tmp_4.arg0 = r0;\n    r0 = s.arg0.fields[\"cellWidth\"];\n    s.tmp_6 = r0;\n    r0 = (s.x___26531 * s.tmp_6);\n    s.tmp_4.arg1 = r0;\n    s.pc = 12; return s.tmp_4;\n  case 12:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2 + s.tmp_3);\n    s.tmp_1.arg1 = r0;\n    s.tmp_7 = r0 = s.top___26510;\n    s.tmp_9 = Math_min__P14903_mk(s);\n    r0 = s.arg1.fields[\"_image\"];\n    s.tmp_10 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_10);\n    s.tmp_9.arg0 = r0;\n    r0 = s.arg0.fields[\"cellHeight\"];\n    s.tmp_11 = r0;\n    r0 = (s.y___26535 * s.tmp_11);\n    s.tmp_9.arg1 = r0;\n    s.pc = 13; return s.tmp_9;\n  case 13:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7 + s.tmp_8);\n    s.tmp_1.arg2 = r0;\n    s.tmp_1.arg3 = s.arg1;\n    s.pc = 11; return s.tmp_1;\n  case 11:\n    r0 = s.retval;\n    r0 = (s.y___26535 + 1);\n    s.y___26535 = (r0);\n    { step = 4; continue; }\n  case 5:\n    r0 = (s.x___26531 + 1);\n    s.x___26531 = (r0);\n    { step = 3; continue; }\n  case 6:\n  case 7:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_insertAABB__P15509.info = {\"start\":3602,\"length\":623,\"line\":101,\"column\":8,\"endLine\":113,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"insertAABB\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction sprites_SpriteMap_insertAABB__P15509_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_insertAABB__P15509, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  left___26507: undefined,\n  top___26510: undefined,\n  xn___26513: undefined,\n  yn___26522: undefined,\n  x___26531: undefined,\n  y___26535: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_insertAtKey__P15507(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.k___26565 = undefined;\n    s.bucket___26569 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_0 = sprites_SpriteMap_key__P15506_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.tmp_0.arg2 = s.arg2;\n    s.pc = 5; return s.tmp_0;\n  case 5:\n    r0 = s.retval;\n    s.k___26565 = (r0);\n    r0 = s.arg0.fields[\"buckets\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.k___26565);\n    s.bucket___26569 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.bucket___26569);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.arg0.fields[\"buckets\"];\n    s.tmp_2 = r0;\n    s.tmp_3 = r0 = s.k___26565;\n    r0 = pxsim_Array__mk();\n    s.tmp_4 = r0;\n    r0 = pxsim_Array_.setAt(s.tmp_2, s.tmp_3, s.tmp_4);\n    s.bucket___26569 = (s.tmp_4);\n  case 1:\n  case 2:\n    r0 = pxsim_Array_.indexOf(s.bucket___26569, s.arg3, undefined);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = pxsim_Array__push(s.bucket___26569, s.arg3);\n  case 3:\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_insertAtKey__P15507.info = {\"start\":2920,\"length\":302,\"line\":84,\"column\":8,\"endLine\":91,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"insertAtKey\",\"argumentNames\":[\"this\",\"x\",\"y\",\"sprite\"]}\n\nfunction sprites_SpriteMap_insertAtKey__P15507_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_insertAtKey__P15507, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  k___26565: undefined,\n  bucket___26569: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_clear__P15505(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"buckets\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_clear__P15505.info = {\"start\":2580,\"length\":50,\"line\":74,\"column\":8,\"endLine\":76,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"clear\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_SpriteMap_clear__P15505_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_clear__P15505, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_resizeBuckets__P15504(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.maxWidth___26602 = undefined;\n    s.maxHeight___26603 = undefined;\n    s.sprite___26605 = undefined;\n    s.unnamed124___U3 = undefined;\n    s.unnamed125___U4 = undefined;\n    s.tMap___26619 = undefined;\n    s.areaWidth___26623 = undefined;\n    s.areaHeight___26629 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.maxWidth___26602 = (0);\n    s.maxHeight___26603 = (0);\n    s.sprite___26605 = (undefined);\n    s.sprite___26605 = (undefined);\n    s.unnamed124___U3 = (s.arg1);\n    s.unnamed125___U4 = (0);\n  case 1:\n    s.tmp_0 = r0 = s.unnamed125___U4;\n    r0 = pxsim_Array__length(s.unnamed124___U3);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 < s.tmp_1);\n    if (!r0) { step = 6; continue; }\n    r0 = pxsim_Array__getAt(s.unnamed124___U3, s.unnamed125___U4);\n    s.sprite___26605 = (r0);\n    r0 = s.sprite___26605.fields[\"_image\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 > s.maxWidth___26602);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 2; continue; }\n    r0 = s.sprite___26605.fields[\"_image\"];\n    s.tmp_5 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_5);\n    s.maxWidth___26602 = (r0);\n  case 2:\n  case 3:\n    r0 = s.sprite___26605.fields[\"_image\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > s.maxHeight___26603);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 4; continue; }\n    r0 = s.sprite___26605.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_3);\n    s.maxHeight___26603 = (r0);\n  case 4:\n  case 5:\n    r0 = (s.unnamed125___U4 + 1);\n    s.unnamed125___U4 = (r0);\n    { step = 1; continue; }\n  case 6:\n    s.unnamed124___U3 = (undefined);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 11; return s.tmp_0;\n  case 11:\n    r0 = s.retval;\n    r0 = r0.fields[\"tileMap\"];\n    s.tMap___26619 = (r0);\n    r0 = pxsim_numops_toBoolDecr(s.tMap___26619);\n    if (!r0) { step = 7; continue; }\n    s.tmp_0 = tiles_TileMap_areaWidth__P15710_mk(s);\n    s.tmp_0.arg0 = s.tMap___26619;\n    s.pc = 12; return s.tmp_0;\n  case 12:\n    r0 = s.retval;\n    { step = 8; continue; }\n  case 7:\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.areaWidth___26623 = (s.tmp_1);\n    r0 = pxsim_numops_toBoolDecr(s.tMap___26619);\n    if (!r0) { step = 9; continue; }\n    s.tmp_0 = tiles_TileMap_areaHeight__P15711_mk(s);\n    s.tmp_0.arg0 = s.tMap___26619;\n    s.pc = 13; return s.tmp_0;\n  case 13:\n    r0 = s.retval;\n    { step = 10; continue; }\n  case 9:\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n  case 10:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    s.areaHeight___26629 = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = Math_clamp__P14899_mk(s);\n    s.tmp_2.arg0 = 8;\n    r0 = (s.areaWidth___26623 >> 2);\n    s.tmp_2.arg1 = r0;\n    r0 = (s.maxWidth___26602 * 2);\n    s.tmp_2.arg2 = r0;\n    s.pc = 14; return s.tmp_2;\n  case 14:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"cellWidth\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    s.tmp_2 = Math_clamp__P14899_mk(s);\n    s.tmp_2.arg0 = 8;\n    r0 = (s.areaHeight___26629 >> 2);\n    s.tmp_2.arg1 = r0;\n    r0 = (s.maxHeight___26603 * 2);\n    s.tmp_2.arg2 = r0;\n    s.pc = 15; return s.tmp_2;\n  case 15:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"cellHeight\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"cellHeight\"];\n    s.tmp_2 = r0;\n    r0 = pxsim.Math_.idiv(s.areaHeight___26629, s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"rowCount\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = s.arg0.fields[\"cellWidth\"];\n    s.tmp_2 = r0;\n    r0 = pxsim.Math_.idiv(s.areaWidth___26623, s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"columnCount\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_resizeBuckets__P15504.info = {\"start\":1744,\"length\":826,\"line\":54,\"column\":8,\"endLine\":72,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"resizeBuckets\",\"argumentNames\":[\"this\",\"sprites\"]}\n\nfunction sprites_SpriteMap_resizeBuckets__P15504_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_resizeBuckets__P15504, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  maxWidth___26602: undefined,\n  maxHeight___26603: undefined,\n  sprite___26605: undefined,\n  unnamed124___U3: undefined,\n  unnamed125___U4: undefined,\n  tMap___26619: undefined,\n  areaWidth___26623: undefined,\n  areaHeight___26629: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_clearObstacles__P15491(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_obstacles\"] = (s.tmp_1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_clearObstacles__P15491.info = {\"start\":23644,\"length\":54,\"line\":718,\"column\":4,\"endLine\":720,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"clearObstacles\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_clearObstacles__P15491_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_clearObstacles__P15491, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Fx_abs__P14934(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = (0 - s.arg0);\n    { step = 3; continue; }\n    { step = 2; continue; }\n  case 1:\n    r0 = s.arg0;\n    { step = 3; continue; }\n  case 2:\n    r0 = undefined;\n  case 3:\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_abs__P14934.info = {\"start\":1358,\"length\":164,\"line\":41,\"column\":4,\"endLine\":46,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"abs\",\"argumentNames\":[\"a\"]}\n\nfunction Fx_abs__P14934_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_abs__P14934, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Fx_idiv__P14932(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim.Math_.idiv(s.arg0, s.arg1);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_idiv__P14932.info = {\"start\":1131,\"length\":111,\"line\":35,\"column\":4,\"endLine\":37,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"idiv\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Fx_idiv__P14932_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_idiv__P14932, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Fx_div__P14931(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = (s.arg0 << 8);\n    s.tmp_0 = r0;\n    r0 = pxsim.Math_.idiv(s.tmp_0, s.arg1);\n    return leave(s, r0)\n  default: oops()\n} } }\nFx_div__P14931.info = {\"start\":997,\"length\":129,\"line\":32,\"column\":4,\"endLine\":34,\"endColumn\":5,\"fileName\":\"pxt_modules/base/fixed.ts\",\"functionName\":\"div\",\"argumentNames\":[\"a\",\"b\"]}\n\nfunction Fx_div__P14931_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Fx_div__P14931, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction helpers_arrayMap__P14885(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.res___26779 = undefined;\n    s.len___26781 = undefined;\n    s.i___26784 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = pxsim_Array__mk();\n    s.res___26779 = (r0);\n    r0 = pxsim_Array__length(s.arg0);\n    s.len___26781 = (r0);\n    s.i___26784 = (0);\n  case 1:\n    r0 = (s.i___26784 < s.len___26781);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_1 = r0 = s.res___26779;\n    s.tmp_3 = lambda_3_mk(s);\n    s.tmp_3.argL = s.arg1;\n    r0 = pxsim_Array__getAt(s.arg0, s.i___26784);\n    s.tmp_3.arg0 = r0;\n    s.tmp_3.arg1 = s.i___26784;\n    setupLambda(s.tmp_3, s.tmp_3.argL);\n    s.pc = 3; return s.tmp_3;\n  case 3:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);\n    r0 = (s.i___26784 + 1);\n    s.i___26784 = (r0);\n    { step = 1; continue; }\n  case 2:\n    r0 = s.res___26779;\n    return leave(s, r0)\n  default: oops()\n} } }\nhelpers_arrayMap__P14885.info = {\"start\":4245,\"length\":299,\"line\":145,\"column\":4,\"endLine\":152,\"endColumn\":5,\"fileName\":\"pxt_modules/base/pxt-helpers.ts\",\"functionName\":\"arrayMap\",\"argumentNames\":[\"arr\",\"callbackfn\"]}\n\nfunction helpers_arrayMap__P14885_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: helpers_arrayMap__P14885, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  res___26779: undefined,\n  len___26781: undefined,\n  i___26784: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_draw__P15572(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    s.tmp_0 = sprites_SpriteMap_draw__P15503_mk(s);\n    r0 = s.arg0.fields[\"map\"];\n    s.tmp_0.arg0 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_draw__P15572.info = {\"start\":1796,\"length\":39,\"line\":71,\"column\":4,\"endLine\":73,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"draw\",\"argumentNames\":[\"this\"]}\n\nfunction ArcadePhysicsEngine_draw__P15572_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_draw__P15572, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_SpriteMap_draw__P15503(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.x___26809 = undefined;\n    s.y___26814 = undefined;\n    s.left___26819 = undefined;\n    s.top___26823 = undefined;\n    s.k___26827 = undefined;\n    s.b___26831 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_SpriteMap__C15500_VT)) failedCast(r0);\n    s.x___26809 = (0);\n  case 1:\n    r0 = s.arg0.fields[\"columnCount\"];\n    s.tmp_1 = r0;\n    r0 = (s.x___26809 < s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 8; continue; }\n    s.y___26814 = (0);\n  case 2:\n    r0 = s.arg0.fields[\"rowCount\"];\n    s.tmp_1 = r0;\n    r0 = (s.y___26814 < s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = s.arg0.fields[\"cellWidth\"];\n    s.tmp_2 = r0;\n    r0 = (s.x___26809 * s.tmp_2);\n    s.left___26819 = (r0);\n    r0 = s.arg0.fields[\"cellHeight\"];\n    s.tmp_0 = r0;\n    r0 = (s.y___26814 * s.tmp_0);\n    s.top___26823 = (r0);\n    s.tmp_0 = sprites_SpriteMap_key__P15506_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.left___26819;\n    s.tmp_0.arg2 = s.top___26823;\n    s.pc = 9; return s.tmp_0;\n  case 9:\n    r0 = s.retval;\n    s.k___26827 = (r0);\n    r0 = s.arg0.fields[\"buckets\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_0, s.k___26827);\n    s.b___26831 = (r0);\n    s.tmp_0 = r0 = s.b___26831;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    r0 = pxsim_Array__length(s.b___26831);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    if (!r0) { step = 5; continue; }\n    s.tmp_2 = helpers_imageDrawRect__P15255_mk(s);\n    s.tmp_2.arg0 = globals.screen___15305;\n    s.tmp_2.arg1 = s.left___26819;\n    s.tmp_2.arg2 = s.top___26823;\n    r0 = s.arg0.fields[\"cellWidth\"];\n    s.tmp_2.arg3 = r0;\n    r0 = s.arg0.fields[\"cellHeight\"];\n    s.tmp_2.arg4 = r0;\n    s.tmp_2.arg5 = 5;\n    s.pc = 10; return s.tmp_2;\n  case 10:\n    r0 = s.retval;\n  case 5:\n  case 6:\n    r0 = (s.y___26814 + 1);\n    s.y___26814 = (r0);\n    { step = 2; continue; }\n  case 7:\n    r0 = (s.x___26809 + 1);\n    s.x___26809 = (r0);\n    { step = 1; continue; }\n  case 8:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_SpriteMap_draw__P15503.info = {\"start\":1170,\"length\":496,\"line\":38,\"column\":8,\"endLine\":49,\"endColumn\":9,\"fileName\":\"pxt_modules/game/spritemap.ts\",\"functionName\":\"draw\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_SpriteMap_draw__P15503_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_SpriteMap_draw__P15503, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  x___26809: undefined,\n  y___26814: undefined,\n  left___26819: undefined,\n  top___26823: undefined,\n  k___26827: undefined,\n  b___26831: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_removeSprite__P15571(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"sprites\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_removeSprite__P15571.info = {\"start\":1710,\"length\":80,\"line\":67,\"column\":4,\"endLine\":69,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"removeSprite\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction ArcadePhysicsEngine_removeSprite__P15571_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_removeSprite__P15571, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction ArcadePhysicsEngine_addSprite__P15570(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, ArcadePhysicsEngine__C15568_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"sprites\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__push(s.tmp_0, s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nArcadePhysicsEngine_addSprite__P15570.info = {\"start\":1636,\"length\":68,\"line\":63,\"column\":4,\"endLine\":65,\"endColumn\":5,\"fileName\":\"pxt_modules/game/physics.ts\",\"functionName\":\"addSprite\",\"argumentNames\":[\"this\",\"sprite\"]}\n\nfunction ArcadePhysicsEngine_addSprite__P15570_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: ArcadePhysicsEngine_addSprite__P15570, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction SpriteSet_toString__P15527(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, SpriteSet__C15517_VT)) failedCast(r0);\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"_sprites\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_Array__length(s.tmp_4);\n    s.tmp_3 = r0;\n    if ((s.tmp_3) && (s.tmp_3).vtable) {\n    setupResume(s, 1);\n    pxsim_String__stringConv(s.tmp_3);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_3) + \"\"; }\n  case 1:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, \" sprites\");\n    return leave(s, r0)\n  default: oops()\n} } }\nSpriteSet_toString__P15527.info = {\"start\":2209,\"length\":58,\"line\":96,\"column\":4,\"endLine\":98,\"endColumn\":5,\"fileName\":\"pxt_modules/game/spriteset.ts\",\"functionName\":\"toString\",\"argumentNames\":[\"this\"]}\n\nfunction SpriteSet_toString__P15527_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: SpriteSet_toString__P15527, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction SpriteSet_length__P15519(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, SpriteSet__C15517_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_sprites\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_Array__length(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nSpriteSet_length__P15519.info = {\"start\":508,\"length\":57,\"line\":25,\"column\":4,\"endLine\":27,\"endColumn\":5,\"fileName\":\"pxt_modules/game/spriteset.ts\",\"functionName\":\"length\",\"argumentNames\":[\"this\"]}\n\nfunction SpriteSet_length__P15519_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: SpriteSet_length__P15519, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction info_PlayerInfo_id__P15667(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, info_PlayerInfo__C15664_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_player\"];\n    return leave(s, r0)\n  default: oops()\n} } }\ninfo_PlayerInfo_id__P15667.info = {\"start\":17272,\"length\":57,\"line\":569,\"column\":8,\"endLine\":571,\"endColumn\":9,\"fileName\":\"pxt_modules/game/info.ts\",\"functionName\":\"id\",\"argumentNames\":[\"this\"]}\n\nfunction info_PlayerInfo_id__P15667_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: info_PlayerInfo_id__P15667, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction effects_SceneAnchor_width__P16252(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_SceneAnchor__C16249_VT)) failedCast(r0);\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_SceneAnchor_width__P16252.info = {\"start\":2428,\"length\":56,\"line\":66,\"column\":8,\"endLine\":68,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"width\",\"argumentNames\":[\"this\"]}\n\nfunction effects_SceneAnchor_width__P16252_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_SceneAnchor_width__P16252, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction effects_SceneAnchor_y__P16251(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_SceneAnchor__C16249_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"camera\"];\n    r0 = r0.fields[\"offsetY\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_SceneAnchor_y__P16251.info = {\"start\":2336,\"length\":82,\"line\":62,\"column\":8,\"endLine\":64,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"y\",\"argumentNames\":[\"this\"]}\n\nfunction effects_SceneAnchor_y__P16251_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_SceneAnchor_y__P16251, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction effects_SceneAnchor_x__P16250(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_SceneAnchor__C16249_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"camera\"];\n    r0 = r0.fields[\"offsetX\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 + s.tmp_1);\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_SceneAnchor_x__P16250.info = {\"start\":2245,\"length\":81,\"line\":58,\"column\":8,\"endLine\":60,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"x\",\"argumentNames\":[\"this\"]}\n\nfunction effects_SceneAnchor_x__P16250_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_SceneAnchor_x__P16250, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_ShapeFactory_createParticle__P16203(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.p___27116 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ShapeFactory__C16199_VT)) failedCast(r0);\n    s.tmp_0 = particles_AreaFactory_createParticle__P16191_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.p___27116 = (r0);\n    s.tmp_0 = r0 = s.p___27116;\n    s.tmp_2 = Math_FastRandom_randomRange__P15999_mk(s);\n    r0 = s.arg0.fields[\"galois\"];\n    s.tmp_2.arg0 = r0;\n    s.tmp_2.arg1 = 1;\n    s.tmp_2.arg2 = 14;\n    s.pc = 2; return s.tmp_2;\n  case 2:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"color\"] = (s.tmp_1);\n    r0 = s.p___27116;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ShapeFactory_createParticle__P16203.info = {\"start\":7505,\"length\":178,\"line\":239,\"column\":8,\"endLine\":243,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"createParticle\",\"argumentNames\":[\"this\",\"anchor\"]}\n\nfunction particles_ShapeFactory_createParticle__P16203_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ShapeFactory_createParticle__P16203, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  p___27116: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_AreaFactory_createParticle__P16191(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.p___27128 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_AreaFactory__C16189_VT)) failedCast(r0);\n    s.tmp_0 = particles_SprayFactory_createParticle__P16184_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 3; return s.tmp_0;\n  case 3:\n    r0 = s.retval;\n    s.p___27128 = (r0);\n    s.tmp_0 = r0 = s.p___27128;\n    s.tmp_2 = Math_FastRandom_randomRange__P15999_mk(s);\n    r0 = s.arg0.fields[\"galois\"];\n    s.tmp_2.arg0 = r0;\n    r0 = s.arg0.fields[\"minLifespan\"];\n    s.tmp_2.arg1 = r0;\n    r0 = s.arg0.fields[\"maxLifespan\"];\n    s.tmp_2.arg2 = r0;\n    s.pc = 4; return s.tmp_2;\n  case 4:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"lifespan\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.p___27128;\n    s.tmp_4 = Math_FastRandom_randomRange__P15999_mk(s);\n    r0 = s.arg0.fields[\"galois\"];\n    s.tmp_4.arg0 = r0;\n    s.tmp_4.arg1 = 0;\n    r0 = s.arg0.fields[\"xRange\"];\n    s.tmp_4.arg2 = r0;\n    s.pc = 5; return s.tmp_4;\n  case 5:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = s.arg0.fields[\"xRange\"];\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 >> 1);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_3 - s.tmp_5);\n    s.tmp_2 = r0;\n    r0 = s.p___27128.fields[\"_x\"];\n    s.tmp_7 = r0;\n    r0 = (s.tmp_2 << 8);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 + s.tmp_7);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"_x\"] = (s.tmp_1);\n    s.tmp_1 = if_height_1_mk(s);\n    s.tmp_1.arg0 = s.arg1;\n    if (!s.tmp_1.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, \"height\");\n    } else {\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface[\"height\"];\n    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields[\"height\"]; }\n    else { s.pc = 6; return s.tmp_1; }\n    }\n  case 6:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = if_height_1_mk(s);\n    s.tmp_3.arg0 = s.arg1;\n    if (!s.tmp_3.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, \"height\");\n    } else {\n    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface[\"height\"];\n    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields[\"height\"]; }\n    else { s.pc = 7; return s.tmp_3; }\n    }\n  case 7:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 1);\n    { step = 2; continue; }\n  case 1:\n    r0 = 0;\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    s.tmp_5 = r0 = s.p___27128;\n    s.tmp_9 = Math_FastRandom_randomRange__P15999_mk(s);\n    r0 = s.arg0.fields[\"galois\"];\n    s.tmp_9.arg0 = r0;\n    s.tmp_9.arg1 = 0;\n    r0 = s.arg0.fields[\"yRange\"];\n    s.tmp_9.arg2 = r0;\n    s.pc = 8; return s.tmp_9;\n  case 8:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = (s.tmp_8 - s.tmp_4);\n    s.tmp_7 = r0;\n    r0 = s.p___27128.fields[\"_y\"];\n    s.tmp_10 = r0;\n    r0 = (s.tmp_7 << 8);\n    s.tmp_11 = r0;\n    r0 = (s.tmp_11 + s.tmp_10);\n    s.tmp_6 = r0;\n    r0 = (s.tmp_5).fields[\"_y\"] = (s.tmp_6);\n    r0 = s.p___27128;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_AreaFactory_createParticle__P16191.info = {\"start\":4334,\"length\":426,\"line\":148,\"column\":8,\"endLine\":156,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"createParticle\",\"argumentNames\":[\"this\",\"anchor\"]}\n\nfunction particles_AreaFactory_createParticle__P16191_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_AreaFactory_createParticle__P16191, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  p___27128: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_SprayFactory_createParticle__P16184(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.p___27170 = undefined;\n    s.angle___27173 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_SprayFactory__C16182_VT)) failedCast(r0);\n    s.tmp_0 = particles_ParticleFactory_createParticle__P16179_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_0.arg1 = s.arg1;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    s.p___27170 = (r0);\n    r0 = s.arg0.fields[\"minAngle\"];\n    s.tmp_1 = r0;\n    s.tmp_3 = Math_FastRandom_randomRange__P15999_mk(s);\n    s.tmp_3.arg0 = globals.galois___16165;\n    s.tmp_3.arg1 = 0;\n    r0 = s.arg0.fields[\"spread\"];\n    s.tmp_3.arg2 = r0;\n    s.pc = 2; return s.tmp_3;\n  case 2:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 + s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 % 100);\n    s.angle___27173 = (r0);\n    s.tmp_0 = r0 = s.p___27170;\n    r0 = pxsim_Array__getAt(globals.cachedSin___16162, s.angle___27173);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"speed\"];\n    s.tmp_3 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_2, s.tmp_3);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 8);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"vx\"] = (s.tmp_1);\n    s.tmp_0 = r0 = s.p___27170;\n    r0 = pxsim_Array__getAt(globals.cachedCos___16163, s.angle___27173);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"speed\"];\n    s.tmp_3 = r0;\n    r0 = pxsim.Math_.imul(s.tmp_2, s.tmp_3);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 8);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"vy\"] = (s.tmp_1);\n    r0 = s.p___27170;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_SprayFactory_createParticle__P16184.info = {\"start\":2851,\"length\":333,\"line\":105,\"column\":8,\"endLine\":113,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"createParticle\",\"argumentNames\":[\"this\",\"anchor\"]}\n\nfunction particles_SprayFactory_createParticle__P16184_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_SprayFactory_createParticle__P16184, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  p___27170: undefined,\n  angle___27173: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource___draw__P16128(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.current___27199 = undefined;\n    s.left___27202 = undefined;\n    s.top___27206 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"head\"];\n    s.current___27199 = (r0);\n    r0 = s.arg1.fields[\"drawOffsetX\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 * 256);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 | 0);\n    s.left___27202 = (r0);\n    r0 = s.arg1.fields[\"drawOffsetY\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 * 256);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 | 0);\n    s.top___27206 = (r0);\n  case 1:\n    r0 = pxsim_numops_toBoolDecr(s.current___27199);\n    if (!r0) { step = 4; continue; }\n    r0 = s.current___27199.fields[\"lifespan\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 2; continue; }\n    s.tmp_2 = particles_ParticleSource_drawParticle__P16142_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.tmp_2.arg1 = s.current___27199;\n    s.tmp_2.arg2 = s.left___27202;\n    s.tmp_2.arg3 = s.top___27206;\n    s.pc = 5; return s.tmp_2;\n  case 5:\n    r0 = s.retval;\n  case 2:\n  case 3:\n    r0 = s.current___27199.fields[\"next\"];\n    s.current___27199 = (r0);\n    { step = 1; continue; }\n  case 4:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource___draw__P16128.info = {\"start\":3139,\"length\":362,\"line\":109,\"column\":8,\"endLine\":119,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"__draw\",\"argumentNames\":[\"this\",\"camera\"]}\n\nfunction particles_ParticleSource___draw__P16128_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource___draw__P16128, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  current___27199: undefined,\n  left___27202: undefined,\n  top___27206: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleSource_drawParticle__P16142(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleSource__C16126_VT)) failedCast(r0);\n    s.tmp_0 = particles_ParticleFactory__C16178_v1_4_mk(s);\n    r0 = s.arg0.fields[\"_factory\"];\n    s.tmp_0.arg0 = r0;\n    s.tmp_0.arg1 = s.arg1;\n    r0 = s.arg1.fields[\"_x\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 - s.arg2);\n    s.tmp_0.arg2 = r0;\n    r0 = s.arg1.fields[\"_y\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.arg3);\n    s.tmp_0.arg3 = r0;\n    if (!checkSubtype(s.tmp_0.arg0, particles_ParticleFactory__C16178_VT)) failedCast(s.tmp_0.arg0);\n    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.drawParticle;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleSource_drawParticle__P16142.info = {\"start\":8123,\"length\":174,\"line\":275,\"column\":8,\"endLine\":277,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particles.ts\",\"functionName\":\"drawParticle\",\"argumentNames\":[\"this\",\"p\",\"screenLeft\",\"screenTop\"]}\n\nfunction particles_ParticleSource_drawParticle__P16142_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleSource_drawParticle__P16142, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction particles_ParticleFactory_drawParticle__P16180(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ParticleFactory__C16178_VT)) failedCast(r0);\n    s.tmp_0 = r0 = globals.screen___15305;\n    r0 = (s.arg2 + 128);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 8);\n    s.tmp_1 = r0;\n    r0 = (s.arg3 + 128);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 8);\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_3, 1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ParticleFactory_drawParticle__P16180.info = {\"start\":2265,\"length\":118,\"line\":85,\"column\":8,\"endLine\":87,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"drawParticle\",\"argumentNames\":[\"this\",\"particle\",\"x\",\"y\"]}\n\nfunction particles_ParticleFactory_drawParticle__P16180_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ParticleFactory_drawParticle__P16180, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction Sprite_toString__P15497(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_9 = r0;\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_11 = r0;\n    if ((s.tmp_11) && (s.tmp_11).vtable) {\n    setupResume(s, 1);\n    pxsim_String__stringConv(s.tmp_11);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_11) + \"\"; }\n  case 1:\n    r0 = s.retval;\n    s.tmp_10 = r0;\n    r0 = pxsim_String__concat(s.tmp_9, s.tmp_10);\n    s.tmp_8 = r0;\n    r0 = pxsim_String__concat(s.tmp_8, \"(\");\n    s.tmp_7 = r0;\n    s.tmp_14 = Sprite_x__P15450_mk(s);\n    s.tmp_14.arg0 = s.arg0;\n    s.pc = 2; return s.tmp_14;\n  case 2:\n    r0 = s.retval;\n    s.tmp_13 = r0;\n    if ((s.tmp_13) && (s.tmp_13).vtable) {\n    setupResume(s, 3);\n    pxsim_String__stringConv(s.tmp_13);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_13) + \"\"; }\n  case 3:\n    r0 = s.retval;\n    s.tmp_12 = r0;\n    r0 = pxsim_String__concat(s.tmp_7, s.tmp_12);\n    s.tmp_6 = r0;\n    r0 = pxsim_String__concat(s.tmp_6, \",\");\n    s.tmp_5 = r0;\n    s.tmp_17 = Sprite_y__P15452_mk(s);\n    s.tmp_17.arg0 = s.arg0;\n    s.pc = 4; return s.tmp_17;\n  case 4:\n    r0 = s.retval;\n    s.tmp_16 = r0;\n    if ((s.tmp_16) && (s.tmp_16).vtable) {\n    setupResume(s, 5);\n    pxsim_String__stringConv(s.tmp_16);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_16) + \"\"; }\n  case 5:\n    r0 = s.retval;\n    s.tmp_15 = r0;\n    r0 = pxsim_String__concat(s.tmp_5, s.tmp_15);\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_4, \")->(\");\n    s.tmp_3 = r0;\n    s.tmp_20 = Sprite_vx__P15454_mk(s);\n    s.tmp_20.arg0 = s.arg0;\n    s.pc = 6; return s.tmp_20;\n  case 6:\n    r0 = s.retval;\n    s.tmp_19 = r0;\n    if ((s.tmp_19) && (s.tmp_19).vtable) {\n    setupResume(s, 7);\n    pxsim_String__stringConv(s.tmp_19);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_19) + \"\"; }\n  case 7:\n    r0 = s.retval;\n    s.tmp_18 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, s.tmp_18);\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, \",\");\n    s.tmp_1 = r0;\n    s.tmp_23 = Sprite_vy__P15456_mk(s);\n    s.tmp_23.arg0 = s.arg0;\n    s.pc = 8; return s.tmp_23;\n  case 8:\n    r0 = s.retval;\n    s.tmp_22 = r0;\n    if ((s.tmp_22) && (s.tmp_22).vtable) {\n    setupResume(s, 9);\n    pxsim_String__stringConv(s.tmp_22);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_22) + \"\"; }\n  case 9:\n    r0 = s.retval;\n    s.tmp_21 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_21);\n    s.tmp_0 = r0;\n    r0 = pxsim_String__concat(s.tmp_0, \")\");\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_toString__P15497.info = {\"start\":28515,\"length\":93,\"line\":857,\"column\":4,\"endLine\":859,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"toString\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_toString__P15497_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_toString__P15497, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  tmp_16: undefined,\n  tmp_17: undefined,\n  tmp_18: undefined,\n  tmp_19: undefined,\n  tmp_20: undefined,\n  tmp_21: undefined,\n  tmp_22: undefined,\n  tmp_23: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction Sprite___update__P15486(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.bounce___27301 = undefined;\n    s.tm___27305 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"lifespan\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 !== undefined);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    s.tmp_2 = r0 = s.arg0;\n    r0 = s.tmp_2.fields[\"lifespan\"];\n    s.tmp_4 = r0;\n    r0 = (s.arg2 * 1000);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 - s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_2).fields[\"lifespan\"] = (s.tmp_3);\n    r0 = s.arg0.fields[\"lifespan\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 <= 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = (s.arg0).fields[\"lifespan\"] = (undefined);\n    s.tmp_0 = Sprite__destroyCore__P15495_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.pc = 33; return s.tmp_0;\n  case 33:\n    r0 = s.retval;\n  case 1:\n  case 2:\n  case 3:\n  case 4:\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 4);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (r0) { step = 5; continue; }\n    r0 = s.tmp_0;\n    { step = 6; continue; }\n  case 5:\n    s.tmp_2 = Sprite_isOutOfScreen__P15484_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.tmp_2.arg1 = s.arg1;\n    s.pc = 34; return s.tmp_2;\n  case 34:\n    r0 = s.retval;\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 7; continue; }\n    s.tmp_4 = Sprite_destroy__P15494_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    s.tmp_4.arg1 = undefined;\n    s.tmp_4.arg2 = undefined;\n    s.pc = 35; return s.tmp_4;\n  case 35:\n    r0 = s.retval;\n  case 7:\n  case 8:\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 & 32);\n    s.bounce___27301 = (r0);\n    s.tmp_0 = game_currentScene__P15610_mk(s);\n    s.pc = 36; return s.tmp_0;\n  case 36:\n    r0 = s.retval;\n    r0 = r0.fields[\"tileMap\"];\n    s.tm___27305 = (r0);\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 8);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 9; continue; }\n    r0 = s.tmp_0;\n    { step = 12; continue; }\n  case 9:\n    s.tmp_2 = r0 = s.bounce___27301;\n    r0 = pxsim_numops_toBool(s.tmp_2);\n    if (r0) { step = 10; continue; }\n    r0 = s.tmp_2;\n    { step = 11; continue; }\n  case 10:\n    r0 = pxsim_numops_toBoolDecr(s.tm___27305);\n    s.tmp_3 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_3);\n  case 11:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = s.tmp_4;\n  case 12:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_5);\n    if (!r0) { step = 29; continue; }\n    s.tmp_8 = Sprite_left__P15470_mk(s);\n    s.tmp_8.arg0 = s.arg0;\n    s.pc = 37; return s.tmp_8;\n  case 37:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = s.arg1.fields[\"offsetX\"];\n    s.tmp_9 = r0;\n    r0 = (s.tmp_7 < s.tmp_9);\n    s.tmp_6 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_6);\n    if (!r0) { step = 15; continue; }\n    s.tmp_10 = Sprite_left__P15471_mk(s);\n    s.tmp_10.arg0 = s.arg0;\n    r0 = s.arg1.fields[\"offsetX\"];\n    s.tmp_10.arg1 = r0;\n    s.pc = 38; return s.tmp_10;\n  case 38:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.bounce___27301);\n    if (!r0) { step = 13; continue; }\n    s.tmp_0 = Sprite_vx__P15455_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_2 = Sprite_vx__P15454_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 40; return s.tmp_2;\n  case 40:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (0 - s.tmp_1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 39; return s.tmp_0;\n  case 39:\n    r0 = s.retval;\n  case 13:\n  case 14:\n    { step = 20; continue; }\n  case 15:\n    s.tmp_2 = Sprite_right__P15472_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 41; return s.tmp_2;\n  case 41:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = s.arg1.fields[\"offsetX\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 + s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 > s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 18; continue; }\n    s.tmp_6 = Sprite_right__P15473_mk(s);\n    s.tmp_6.arg0 = s.arg0;\n    r0 = s.arg1.fields[\"offsetX\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7 + s.tmp_8);\n    s.tmp_6.arg1 = r0;\n    s.pc = 42; return s.tmp_6;\n  case 42:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.bounce___27301);\n    if (!r0) { step = 16; continue; }\n    s.tmp_0 = Sprite_vx__P15455_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_2 = Sprite_vx__P15454_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 44; return s.tmp_2;\n  case 44:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (0 - s.tmp_1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 43; return s.tmp_0;\n  case 43:\n    r0 = s.retval;\n  case 16:\n  case 17:\n  case 18:\n  case 19:\n  case 20:\n    s.tmp_2 = Sprite_top__P15474_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 45; return s.tmp_2;\n  case 45:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = s.arg1.fields[\"offsetY\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 < s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 23; continue; }\n    s.tmp_4 = Sprite_top__P15475_mk(s);\n    s.tmp_4.arg0 = s.arg0;\n    r0 = s.arg1.fields[\"offsetY\"];\n    s.tmp_4.arg1 = r0;\n    s.pc = 46; return s.tmp_4;\n  case 46:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.bounce___27301);\n    if (!r0) { step = 21; continue; }\n    s.tmp_0 = Sprite_vy__P15457_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_2 = Sprite_vy__P15456_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 48; return s.tmp_2;\n  case 48:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (0 - s.tmp_1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 47; return s.tmp_0;\n  case 47:\n    r0 = s.retval;\n  case 21:\n  case 22:\n    { step = 28; continue; }\n  case 23:\n    s.tmp_2 = Sprite_bottom__P15476_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 49; return s.tmp_2;\n  case 49:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = s.arg1.fields[\"offsetY\"];\n    s.tmp_4 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 + s.tmp_5);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_1 > s.tmp_3);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 26; continue; }\n    s.tmp_6 = Sprite_bottom__P15477_mk(s);\n    s.tmp_6.arg0 = s.arg0;\n    r0 = s.arg1.fields[\"offsetY\"];\n    s.tmp_7 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_8 = r0;\n    r0 = (s.tmp_7 + s.tmp_8);\n    s.tmp_6.arg1 = r0;\n    s.pc = 50; return s.tmp_6;\n  case 50:\n    r0 = s.retval;\n    r0 = pxsim_numops_toBoolDecr(s.bounce___27301);\n    if (!r0) { step = 24; continue; }\n    s.tmp_0 = Sprite_vy__P15457_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_2 = Sprite_vy__P15456_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 52; return s.tmp_2;\n  case 52:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (0 - s.tmp_1);\n    s.tmp_0.arg1 = r0;\n    s.pc = 51; return s.tmp_0;\n  case 51:\n    r0 = s.retval;\n  case 24:\n  case 25:\n  case 26:\n  case 27:\n  case 28:\n  case 29:\n  case 30:\n    r0 = s.arg0.fields[\"updateSay\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 31; continue; }\n    s.tmp_1 = lambda_3_mk(s);\n    r0 = s.arg0.fields[\"updateSay\"];\n    s.tmp_1.argL = r0;\n    s.tmp_1.arg0 = s.arg2;\n    s.tmp_1.arg1 = s.arg1;\n    setupLambda(s.tmp_1, s.tmp_1.argL);\n    s.pc = 53; return s.tmp_1;\n  case 53:\n    r0 = s.retval;\n  case 31:\n  case 32:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite___update__P15486.info = {\"start\":20356,\"length\":1390,\"line\":624,\"column\":4,\"endLine\":663,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"__update\",\"argumentNames\":[\"this\",\"camera\",\"dt\"]}\n\nfunction Sprite___update__P15486_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite___update__P15486, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  bounce___27301: undefined,\n  tm___27305: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction Sprite_isOutOfScreen__P15484(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.ox___27374 = undefined;\n    s.oy___27377 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg1.fields[\"offsetX\"];\n    s.ox___27374 = (r0);\n    r0 = s.arg1.fields[\"offsetY\"];\n    s.oy___27377 = (r0);\n    s.tmp_3 = Sprite_right__P15472_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 7; return s.tmp_3;\n  case 7:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 - s.ox___27374);\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 < 0);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    s.tmp_6 = Sprite_bottom__P15476_mk(s);\n    s.tmp_6.arg0 = s.arg0;\n    s.pc = 8; return s.tmp_6;\n  case 8:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 - s.oy___27377);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 < 0);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_7 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_7);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_7;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_10 = Sprite_left__P15470_mk(s);\n    s.tmp_10.arg0 = s.arg0;\n    s.pc = 9; return s.tmp_10;\n  case 9:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 - s.ox___27374);\n    s.tmp_8 = r0;\n    r0 = pxsim_ImageMethods.width(globals.screen___15305);\n    s.tmp_11 = r0;\n    r0 = (s.tmp_8 > s.tmp_11);\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_12 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_12);\n    if (!r0) { step = 5; continue; }\n    r0 = s.tmp_12;\n    { step = 6; continue; }\n  case 5:\n    s.tmp_15 = Sprite_top__P15474_mk(s);\n    s.tmp_15.arg0 = s.arg0;\n    s.pc = 10; return s.tmp_15;\n  case 10:\n    r0 = s.retval;\n    s.tmp_14 = r0;\n    r0 = (s.tmp_14 - s.oy___27377);\n    s.tmp_13 = r0;\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    s.tmp_16 = r0;\n    r0 = (s.tmp_13 > s.tmp_16);\n  case 6:\n    // jmp value (already in r0)\n    s.tmp_17 = r0;\n    r0 = s.tmp_17;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_isOutOfScreen__P15484.info = {\"start\":18834,\"length\":248,\"line\":582,\"column\":4,\"endLine\":586,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"isOutOfScreen\",\"argumentNames\":[\"this\",\"camera\"]}\n\nfunction Sprite_isOutOfScreen__P15484_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_isOutOfScreen__P15484, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  tmp_12: undefined,\n  tmp_13: undefined,\n  tmp_14: undefined,\n  tmp_15: undefined,\n  tmp_16: undefined,\n  tmp_17: undefined,\n  ox___27374: undefined,\n  oy___27377: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_right__P15473(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_0 = Sprite_left__P15471_mk(s);\n    s.tmp_0.arg0 = s.arg0;\n    s.tmp_1 = r0 = s.arg1;\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 - s.tmp_2);\n    s.tmp_0.arg1 = r0;\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_right__P15473.info = {\"start\":8248,\"length\":71,\"line\":295,\"column\":4,\"endLine\":297,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"right\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction Sprite_right__P15473_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_right__P15473, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_data__P15463(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"_data\"] = (s.arg1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_data__P15463.info = {\"start\":3261,\"length\":56,\"line\":127,\"column\":4,\"endLine\":129,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"data\",\"argumentNames\":[\"this\",\"value\"]}\n\nfunction Sprite_data__P15463_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_data__P15463, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite_data__P15462(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_data\"];\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_3 = r0 = s.arg0;\n    r0 = pxsim_pxtrt.mkMap();\n    s.tmp_4 = r0;\n    r0 = (s.tmp_3).fields[\"_data\"] = (s.tmp_4);\n  case 1:\n  case 2:\n    r0 = s.arg0.fields[\"_data\"];\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite_data__P15462.info = {\"start\":3163,\"length\":92,\"line\":122,\"column\":4,\"endLine\":125,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"data\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite_data__P15462_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite_data__P15462, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_BaseSprite___update__P15355(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_BaseSprite__C15349_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_BaseSprite___update__P15355.info = {\"start\":1027,\"length\":46,\"line\":45,\"column\":8,\"endLine\":45,\"endColumn\":54,\"fileName\":\"pxt_modules/game/basesprite.ts\",\"functionName\":\"__update\",\"argumentNames\":[\"this\",\"camera\",\"dt\"]}\n\nfunction sprites_BaseSprite___update__P15355_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_BaseSprite___update__P15355, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\n\n\n\nfunction sprites_BaseSprite___draw__P15353(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_BaseSprite__C15349_VT)) failedCast(r0);\n    s.tmp_1 = sprites_BaseSprite__C15349_v0_1_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    if (!checkSubtype(s.tmp_1.arg0, sprites_BaseSprite__C15349_VT)) failedCast(s.tmp_1.arg0);\n    s.tmp_1.fn = s.tmp_1.arg0.vtable.methods.__visible;\n    s.pc = 3; return s.tmp_1;\n  case 3:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    s.tmp_2 = sprites_BaseSprite__C15349_v2_2_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.tmp_2.arg1 = s.arg1;\n    if (!checkSubtype(s.tmp_2.arg0, sprites_BaseSprite__C15349_VT)) failedCast(s.tmp_2.arg0);\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.__drawCore;\n    s.pc = 4; return s.tmp_2;\n  case 4:\n    r0 = s.retval;\n  case 1:\n  case 2:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_BaseSprite___draw__P15353.info = {\"start\":840,\"length\":131,\"line\":37,\"column\":8,\"endLine\":41,\"endColumn\":9,\"fileName\":\"pxt_modules/game/basesprite.ts\",\"functionName\":\"__draw\",\"argumentNames\":[\"this\",\"camera\"]}\n\nfunction sprites_BaseSprite___draw__P15353_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_BaseSprite___draw__P15353, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction sprites_BaseSprite___drawCore__P15354(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_BaseSprite__C15349_VT)) failedCast(r0);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_BaseSprite___drawCore__P15354.info = {\"start\":981,\"length\":36,\"line\":43,\"column\":8,\"endLine\":43,\"endColumn\":44,\"fileName\":\"pxt_modules/game/basesprite.ts\",\"functionName\":\"__drawCore\",\"argumentNames\":[\"this\",\"camera\"]}\n\nfunction sprites_BaseSprite___drawCore__P15354_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_BaseSprite___drawCore__P15354, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction sprites_BaseSprite___visible__P15350(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_BaseSprite__C15349_VT)) failedCast(r0);\n    r0 = true;\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_BaseSprite___visible__P15350.info = {\"start\":524,\"length\":57,\"line\":22,\"column\":8,\"endLine\":24,\"endColumn\":9,\"fileName\":\"pxt_modules/game/basesprite.ts\",\"functionName\":\"__visible\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_BaseSprite___visible__P15350_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_BaseSprite___visible__P15350, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction controller_Button_toString__P15380(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, controller_Button__C15379_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"_pressed\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = \"down\";\n    { step = 2; continue; }\n  case 1:\n    r0 = \"up\";\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"id\"];\n    s.tmp_7 = r0;\n    if ((s.tmp_7) && (s.tmp_7).vtable) {\n    setupResume(s, 3);\n    pxsim_String__stringConv(s.tmp_7);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_7) + \"\"; }\n  case 3:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = pxsim_String__concat(\"btn \", s.tmp_6);\n    s.tmp_5 = r0;\n    r0 = pxsim_String__concat(s.tmp_5, \" \");\n    s.tmp_4 = r0;\n    r0 = s.arg0.fields[\"_buttonId\"];\n    s.tmp_9 = r0;\n    if ((s.tmp_9) && (s.tmp_9).vtable) {\n    setupResume(s, 4);\n    pxsim_String__stringConv(s.tmp_9);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_9) + \"\"; }\n  case 4:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = pxsim_String__concat(s.tmp_4, s.tmp_8);\n    s.tmp_3 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, \" \");\n    s.tmp_2 = r0;\n    if ((s.tmp_1) && (s.tmp_1).vtable) {\n    setupResume(s, 5);\n    pxsim_String__stringConv(s.tmp_1);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_1) + \"\"; }\n  case 5:\n    r0 = s.retval;\n    s.tmp_10 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, s.tmp_10);\n    return leave(s, r0)\n  default: oops()\n} } }\ncontroller_Button_toString__P15380.info = {\"start\":1226,\"length\":118,\"line\":56,\"column\":8,\"endLine\":58,\"endColumn\":9,\"fileName\":\"pxt_modules/game/controller.ts\",\"functionName\":\"toString\",\"argumentNames\":[\"this\"]}\n\nfunction controller_Button_toString__P15380_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: controller_Button_toString__P15380, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_StaticObstacle_width__P15545(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_StaticObstacle__C15541_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_StaticObstacle_width__P15545.info = {\"start\":1084,\"length\":68,\"line\":48,\"column\":8,\"endLine\":50,\"endColumn\":9,\"fileName\":\"pxt_modules/game/obstacle.ts\",\"functionName\":\"width\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_StaticObstacle_width__P15545_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_StaticObstacle_width__P15545, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_StaticObstacle_height__P15544(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_StaticObstacle__C15541_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_StaticObstacle_height__P15544.info = {\"start\":1004,\"length\":70,\"line\":44,\"column\":8,\"endLine\":46,\"endColumn\":9,\"fileName\":\"pxt_modules/game/obstacle.ts\",\"functionName\":\"height\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_StaticObstacle_height__P15544_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_StaticObstacle_height__P15544, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_StaticObstacle_y__P15543(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_StaticObstacle__C15541_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"top\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.height(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 + s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 1);\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_StaticObstacle_y__P15543.info = {\"start\":919,\"length\":75,\"line\":40,\"column\":8,\"endLine\":42,\"endColumn\":9,\"fileName\":\"pxt_modules/game/obstacle.ts\",\"functionName\":\"y\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_StaticObstacle_y__P15543_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_StaticObstacle_y__P15543, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction sprites_StaticObstacle_x__P15542(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, sprites_StaticObstacle__C15541_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"left\"];\n    s.tmp_1 = r0;\n    r0 = s.arg0.fields[\"image\"];\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.width(s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_1 + s.tmp_2);\n    s.tmp_0 = r0;\n    r0 = (s.tmp_0 >> 1);\n    return leave(s, r0)\n  default: oops()\n} } }\nsprites_StaticObstacle_x__P15542.info = {\"start\":834,\"length\":75,\"line\":36,\"column\":8,\"endLine\":38,\"endColumn\":9,\"fileName\":\"pxt_modules/game/obstacle.ts\",\"functionName\":\"x\",\"argumentNames\":[\"this\"]}\n\nfunction sprites_StaticObstacle_x__P15542_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: sprites_StaticObstacle_x__P15542, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction animation_PathNode_constructor__P16359(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_PathNode__C16355_VT)) failedCast(r0);\n    r0 = (s.arg0).fields[\"setStart\"] = (false);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_PathNode_constructor__P16359.info = {\"start\":13061,\"length\":60,\"line\":306,\"column\":8,\"endLine\":308,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction animation_PathNode_constructor__P16359_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_PathNode_constructor__P16359, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction animation_Path_constructor__P16354(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, animation_Path__C16347_VT)) failedCast(r0);\n    s.tmp_0 = r0 = s.arg0;\n    r0 = pxsim_Array__mk();\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0).fields[\"nodes\"] = (s.tmp_1);\n    r0 = (s.arg0).fields[\"lastNode\"] = (-1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nanimation_Path_constructor__P16354.info = {\"start\":785,\"length\":86,\"line\":32,\"column\":8,\"endLine\":35,\"endColumn\":9,\"fileName\":\"pxt_modules/animation/animation.ts\",\"functionName\":\"inline\",\"argumentNames\":[\"this\"]}\n\nfunction animation_Path_constructor__P16354_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: animation_Path_constructor__P16354, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction scene_Renderable___drawCore__P15734(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Renderable__C15731_VT)) failedCast(r0);\n    s.tmp_0 = lambda_3_mk(s);\n    r0 = s.arg0.fields[\"handler\"];\n    s.tmp_0.argL = r0;\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_0.arg1 = s.arg1;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Renderable___drawCore__P15734.info = {\"start\":390,\"length\":86,\"line\":14,\"column\":8,\"endLine\":16,\"endColumn\":9,\"fileName\":\"pxt_modules/game/renderable.ts\",\"functionName\":\"__drawCore\",\"argumentNames\":[\"this\",\"camera\"]}\n\nfunction scene_Renderable___drawCore__P15734_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Renderable___drawCore__P15734, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction scene_Renderable___visible__P15733(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, scene_Renderable__C15731_VT)) failedCast(r0);\n    s.tmp_0 = lambda_1_mk(s);\n    r0 = s.arg0.fields[\"shouldBeVisible\"];\n    s.tmp_0.argL = r0;\n    setupLambda(s.tmp_0, s.tmp_0.argL);\n    s.pc = 1; return s.tmp_0;\n  case 1:\n    r0 = s.retval;\n    return leave(s, r0)\n  default: oops()\n} } }\nscene_Renderable___visible__P15733.info = {\"start\":305,\"length\":75,\"line\":10,\"column\":8,\"endLine\":12,\"endColumn\":9,\"fileName\":\"pxt_modules/game/renderable.ts\",\"functionName\":\"__visible\",\"argumentNames\":[\"this\"]}\n\nfunction scene_Renderable___visible__P15733_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: scene_Renderable___visible__P15733, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction effects_SceneAnchor_height__P16253(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, effects_SceneAnchor__C16249_VT)) failedCast(r0);\n    r0 = pxsim_ImageMethods.height(globals.screen___15305);\n    return leave(s, r0)\n  default: oops()\n} } }\neffects_SceneAnchor_height__P16253.info = {\"start\":2494,\"length\":58,\"line\":70,\"column\":8,\"endLine\":72,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particleeffects.ts\",\"functionName\":\"height\",\"argumentNames\":[\"this\"]}\n\nfunction effects_SceneAnchor_height__P16253_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: effects_SceneAnchor_height__P16253, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  arg0: undefined,\n} }\n\n\n\n\n\nfunction particles_ShapeFactory_drawParticle__P16202(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.pImage___27480 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_ShapeFactory__C16199_VT)) failedCast(r0);\n    s.tmp_1 = Math_FastRandom_pickRandom__P16000_mk(s);\n    r0 = s.arg0.fields[\"galois\"];\n    s.tmp_1.arg0 = r0;\n    r0 = s.arg0.fields[\"sources\"];\n    s.tmp_1.arg1 = r0;\n    s.pc = 1; return s.tmp_1;\n  case 1:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.clone(s.tmp_0);\n    s.pImage___27480 = (r0);\n    r0 = s.arg1.fields[\"color\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.replace(s.pImage___27480, 15, s.tmp_0);\n    s.tmp_0 = r0 = globals.screen___15305;\n    s.tmp_1 = r0 = s.pImage___27480;\n    r0 = s.arg0.fields[\"ox\"];\n    s.tmp_4 = r0;\n    r0 = (s.arg2 - s.tmp_4);\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 + 128);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 8);\n    s.tmp_2 = r0;\n    r0 = s.arg0.fields[\"oy\"];\n    s.tmp_8 = r0;\n    r0 = (s.arg3 - s.tmp_8);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 + 128);\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 >> 8);\n    s.tmp_6 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_6);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_ShapeFactory_drawParticle__P16202.info = {\"start\":7172,\"length\":323,\"line\":229,\"column\":8,\"endLine\":237,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"drawParticle\",\"argumentNames\":[\"this\",\"p\",\"x\",\"y\"]}\n\nfunction particles_ShapeFactory_drawParticle__P16202_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_ShapeFactory_drawParticle__P16202, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  pImage___27480: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction Math_FastRandom_pickRandom__P16000(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Math_FastRandom__C15997_VT)) failedCast(r0);\n    r0 = pxsim_numops_toBoolDecr(s.arg1);\n    s.tmp_1 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = s.tmp_0;\n    { step = 2; continue; }\n  case 1:\n    r0 = pxsim_Array__length(s.arg1);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 == 0);\n  case 2:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 3; continue; }\n    r0 = undefined;\n    { step = 5; continue; }\n  case 3:\n  case 4:\n    s.tmp_4 = r0 = s.arg1;\n    s.tmp_6 = Math_FastRandom_randomRange__P15999_mk(s);\n    s.tmp_6.arg0 = s.arg0;\n    s.tmp_6.arg1 = 0;\n    r0 = pxsim_Array__length(s.arg1);\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 - 1);\n    s.tmp_6.arg2 = r0;\n    s.pc = 6; return s.tmp_6;\n  case 6:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = pxsim_Array__getAt(s.tmp_4, s.tmp_5);\n  case 5:\n    return leave(s, r0)\n  default: oops()\n} } }\nMath_FastRandom_pickRandom__P16000.info = {\"start\":2325,\"length\":192,\"line\":69,\"column\":8,\"endLine\":74,\"endColumn\":9,\"fileName\":\"pxt_modules/game/mathUtil.ts\",\"functionName\":\"pickRandom\",\"argumentNames\":[\"this\",\"list\"]}\n\nfunction Math_FastRandom_pickRandom__P16000_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Math_FastRandom_pickRandom__P16000, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction particles_AreaFactory_drawParticle__P16192(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.col___27523 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_AreaFactory__C16189_VT)) failedCast(r0);\n    r0 = s.arg1.fields[\"lifespan\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 > 500);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    r0 = 4;\n    { step = 4; continue; }\n  case 1:\n    r0 = s.arg1.fields[\"lifespan\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_3 > 250);\n    s.tmp_2 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_2);\n    if (!r0) { step = 2; continue; }\n    r0 = 5;\n    { step = 3; continue; }\n  case 2:\n    r0 = 1;\n  case 3:\n    // jmp value (already in r0)\n    s.tmp_4 = r0;\n    r0 = s.tmp_4;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_5 = r0;\n    s.col___27523 = (s.tmp_5);\n    s.tmp_0 = r0 = globals.screen___15305;\n    r0 = (s.arg2 + 128);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 8);\n    s.tmp_1 = r0;\n    r0 = (s.arg3 + 128);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 8);\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_3, s.col___27523);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_AreaFactory_drawParticle__P16192.info = {\"start\":4770,\"length\":222,\"line\":158,\"column\":8,\"endLine\":163,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"drawParticle\",\"argumentNames\":[\"this\",\"p\",\"x\",\"y\"]}\n\nfunction particles_AreaFactory_drawParticle__P16192_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_AreaFactory_drawParticle__P16192, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  col___27523: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction particles_SprayFactory_drawParticle__P16185(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.arg2 = (s.lambdaArgs[2]);\n      s.arg3 = (s.lambdaArgs[3]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, particles_SprayFactory__C16182_VT)) failedCast(r0);\n    s.tmp_0 = r0 = globals.screen___15305;\n    r0 = (s.arg2 + 128);\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 >> 8);\n    s.tmp_1 = r0;\n    r0 = (s.arg3 + 128);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 8);\n    s.tmp_3 = r0;\n    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_3, 1);\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nparticles_SprayFactory_drawParticle__P16185.info = {\"start\":3194,\"length\":118,\"line\":115,\"column\":8,\"endLine\":117,\"endColumn\":9,\"fileName\":\"pxt_modules/game/particlefactories.ts\",\"functionName\":\"drawParticle\",\"argumentNames\":[\"this\",\"particle\",\"x\",\"y\"]}\n\nfunction particles_SprayFactory_drawParticle__P16185_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: particles_SprayFactory_drawParticle__P16185, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\n\n\n\nfunction Sprite___drawCore__P15485(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    s.l___27551 = undefined;\n    s.t___27555 = undefined;\n    s.font___27570 = undefined;\n    s.margin___27572 = undefined;\n    s.tx___27573 = undefined;\n    s.ty___27575 = undefined;\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.arg1 = (s.lambdaArgs[1]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    s.tmp_1 = Sprite_isOutOfScreen__P15484_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.tmp_1.arg1 = s.arg1;\n    s.pc = 16; return s.tmp_1;\n  case 16:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 1; continue; }\n    { step = 15; continue; }\n  case 1:\n  case 2:\n    s.tmp_3 = Sprite_left__P15470_mk(s);\n    s.tmp_3.arg0 = s.arg0;\n    s.pc = 17; return s.tmp_3;\n  case 17:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = s.arg1.fields[\"drawOffsetX\"];\n    s.tmp_4 = r0;\n    r0 = (s.tmp_2 - s.tmp_4);\n    s.l___27551 = (r0);\n    s.tmp_1 = Sprite_top__P15474_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 18; return s.tmp_1;\n  case 18:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = s.arg1.fields[\"drawOffsetY\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_0 - s.tmp_2);\n    s.t___27555 = (r0);\n    r0 = s.arg0.fields[\"_image\"];\n    s.tmp_0 = r0;\n    r0 = pxsim_ImageMethods.drawTransparentImage(globals.screen___15305, s.tmp_0, s.l___27551, s.t___27555);\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 & 64);\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_0);\n    if (!r0) { step = 11; continue; }\n    s.font___27570 = (globals.font5___15269);\n    s.margin___27572 = (2);\n    s.tx___27573 = (s.l___27551);\n    s.tmp_2 = Sprite_bottom__P15476_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 19; return s.tmp_2;\n  case 19:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_1 + s.margin___27572);\n    s.tmp_0 = r0;\n    r0 = s.arg1.fields[\"drawOffsetY\"];\n    s.tmp_3 = r0;\n    r0 = (s.tmp_0 - s.tmp_3);\n    s.ty___27575 = (r0);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    r0 = pxsim_String_.mkEmpty();\n    s.tmp_3 = r0;\n    s.tmp_7 = Sprite_x__P15450_mk(s);\n    s.tmp_7.arg0 = s.arg0;\n    s.pc = 21; return s.tmp_7;\n  case 21:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 >> 0);\n    s.tmp_5 = r0;\n    if ((s.tmp_5) && (s.tmp_5).vtable) {\n    setupResume(s, 22);\n    pxsim_String__stringConv(s.tmp_5);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_5) + \"\"; }\n  case 22:\n    r0 = s.retval;\n    s.tmp_4 = r0;\n    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, \",\");\n    s.tmp_1 = r0;\n    s.tmp_11 = Sprite_y__P15452_mk(s);\n    s.tmp_11.arg0 = s.arg0;\n    s.pc = 23; return s.tmp_11;\n  case 23:\n    r0 = s.retval;\n    s.tmp_10 = r0;\n    r0 = (s.tmp_10 >> 0);\n    s.tmp_9 = r0;\n    if ((s.tmp_9) && (s.tmp_9).vtable) {\n    setupResume(s, 24);\n    pxsim_String__stringConv(s.tmp_9);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_9) + \"\"; }\n  case 24:\n    r0 = s.retval;\n    s.tmp_8 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_8);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.tx___27573;\n    s.tmp_0.arg3 = s.ty___27575;\n    s.tmp_0.arg4 = 1;\n    s.tmp_0.arg5 = s.font___27570;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 20; return s.tmp_0;\n  case 20:\n    r0 = s.retval;\n    s.tmp_0 = r0 = s.tx___27573;\n    s.tmp_2 = if_charWidth_1_mk(s);\n    s.tmp_2.arg0 = s.font___27570;\n    if (!s.tmp_2.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, \"charWidth\");\n    } else {\n    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface[\"charWidth\"];\n    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields[\"charWidth\"]; }\n    else { s.pc = 25; return s.tmp_2; }\n    }\n  case 25:\n    r0 = s.retval;\n    s.tmp_1 = r0;\n    r0 = (s.tmp_0 - s.tmp_1);\n    s.tx___27573 = (r0);\n    s.tmp_1 = Sprite_vx__P15454_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 26; return s.tmp_1;\n  case 26:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 3; continue; }\n    r0 = s.tmp_0;\n    { step = 4; continue; }\n  case 3:\n    s.tmp_2 = Sprite_vy__P15456_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 27; return s.tmp_2;\n  case 27:\n    r0 = s.retval;\n  case 4:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 5; continue; }\n    s.tmp_4 = r0 = s.ty___27575;\n    s.tmp_7 = if_charHeight_1_mk(s);\n    s.tmp_7.arg0 = s.font___27570;\n    if (!s.tmp_7.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, \"charHeight\");\n    } else {\n    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 28; return s.tmp_7; }\n    }\n  case 28:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + s.margin___27572);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 + s.tmp_5);\n    s.ty___27575 = (r0);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_6 = Sprite_vx__P15454_mk(s);\n    s.tmp_6.arg0 = s.arg0;\n    s.pc = 30; return s.tmp_6;\n  case 30:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 0);\n    s.tmp_4 = r0;\n    if ((s.tmp_4) && (s.tmp_4).vtable) {\n    setupResume(s, 31);\n    pxsim_String__stringConv(s.tmp_4);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_4) + \"\"; }\n  case 31:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_String__concat(\"v\", s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, \",\");\n    s.tmp_1 = r0;\n    s.tmp_10 = Sprite_vy__P15456_mk(s);\n    s.tmp_10.arg0 = s.arg0;\n    s.pc = 32; return s.tmp_10;\n  case 32:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 >> 0);\n    s.tmp_8 = r0;\n    if ((s.tmp_8) && (s.tmp_8).vtable) {\n    setupResume(s, 33);\n    pxsim_String__stringConv(s.tmp_8);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_8) + \"\"; }\n  case 33:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_7);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.tx___27573;\n    s.tmp_0.arg3 = s.ty___27575;\n    s.tmp_0.arg4 = 1;\n    s.tmp_0.arg5 = s.font___27570;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 29; return s.tmp_0;\n  case 29:\n    r0 = s.retval;\n  case 5:\n  case 6:\n    s.tmp_1 = Sprite_ax__P15458_mk(s);\n    s.tmp_1.arg0 = s.arg0;\n    s.pc = 34; return s.tmp_1;\n  case 34:\n    r0 = s.retval;\n    s.tmp_0 = r0;\n    r0 = pxsim_numops_toBool(s.tmp_0);\n    if (!r0) { step = 7; continue; }\n    r0 = s.tmp_0;\n    { step = 8; continue; }\n  case 7:\n    s.tmp_2 = Sprite_ay__P15460_mk(s);\n    s.tmp_2.arg0 = s.arg0;\n    s.pc = 35; return s.tmp_2;\n  case 35:\n    r0 = s.retval;\n  case 8:\n    // jmp value (already in r0)\n    s.tmp_3 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_3);\n    if (!r0) { step = 9; continue; }\n    s.tmp_4 = r0 = s.ty___27575;\n    s.tmp_7 = if_charHeight_1_mk(s);\n    s.tmp_7.arg0 = s.font___27570;\n    if (!s.tmp_7.arg0.vtable.iface) {\n      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, \"charHeight\");\n    } else {\n    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface[\"charHeight\"];\n    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields[\"charHeight\"]; }\n    else { s.pc = 36; return s.tmp_7; }\n    }\n  case 36:\n    r0 = s.retval;\n    s.tmp_6 = r0;\n    r0 = (s.tmp_6 + s.margin___27572);\n    s.tmp_5 = r0;\n    r0 = (s.tmp_4 + s.tmp_5);\n    s.ty___27575 = (r0);\n    s.tmp_0 = helpers_imagePrint__P15273_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_6 = Sprite_ax__P15458_mk(s);\n    s.tmp_6.arg0 = s.arg0;\n    s.pc = 38; return s.tmp_6;\n  case 38:\n    r0 = s.retval;\n    s.tmp_5 = r0;\n    r0 = (s.tmp_5 >> 0);\n    s.tmp_4 = r0;\n    if ((s.tmp_4) && (s.tmp_4).vtable) {\n    setupResume(s, 39);\n    pxsim_String__stringConv(s.tmp_4);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_4) + \"\"; }\n  case 39:\n    r0 = s.retval;\n    s.tmp_3 = r0;\n    r0 = pxsim_String__concat(\"a\", s.tmp_3);\n    s.tmp_2 = r0;\n    r0 = pxsim_String__concat(s.tmp_2, \",\");\n    s.tmp_1 = r0;\n    s.tmp_10 = Sprite_ay__P15460_mk(s);\n    s.tmp_10.arg0 = s.arg0;\n    s.pc = 40; return s.tmp_10;\n  case 40:\n    r0 = s.retval;\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 >> 0);\n    s.tmp_8 = r0;\n    if ((s.tmp_8) && (s.tmp_8).vtable) {\n    setupResume(s, 41);\n    pxsim_String__stringConv(s.tmp_8);\n    checkResumeConsumed();\n    return;\n    } else { s.retval = (s.tmp_8) + \"\"; }\n  case 41:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = pxsim_String__concat(s.tmp_1, s.tmp_7);\n    s.tmp_0.arg1 = r0;\n    s.tmp_0.arg2 = s.tx___27573;\n    s.tmp_0.arg3 = s.ty___27575;\n    s.tmp_0.arg4 = 1;\n    s.tmp_0.arg5 = s.font___27570;\n    s.tmp_0.arg6 = undefined;\n    s.pc = 37; return s.tmp_0;\n  case 37:\n    r0 = s.retval;\n  case 9:\n  case 10:\n  case 11:\n  case 12:\n    r0 = pxsim_numops_toBoolDecr(globals.debug___15839);\n    if (!r0) { step = 13; continue; }\n    s.tmp_0 = helpers_imageDrawRect__P15255_mk(s);\n    s.tmp_0.arg0 = globals.screen___15305;\n    s.tmp_3 = game_Hitbox_left__P15435_mk(s);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    s.tmp_3.arg0 = r0;\n    s.pc = 43; return s.tmp_3;\n  case 43:\n    r0 = s.retval;\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 + 128);\n    s.tmp_4 = r0;\n    r0 = (s.tmp_4 >> 8);\n    s.tmp_1 = r0;\n    r0 = s.arg1.fields[\"drawOffsetX\"];\n    s.tmp_5 = r0;\n    r0 = (s.tmp_1 - s.tmp_5);\n    s.tmp_0.arg1 = r0;\n    s.tmp_8 = game_Hitbox_top__P15436_mk(s);\n    r0 = s.arg0.fields[\"_hitbox\"];\n    s.tmp_8.arg0 = r0;\n    s.pc = 44; return s.tmp_8;\n  case 44:\n    r0 = s.retval;\n    s.tmp_7 = r0;\n    r0 = (s.tmp_7 + 128);\n    s.tmp_9 = r0;\n    r0 = (s.tmp_9 >> 8);\n    s.tmp_6 = r0;\n    r0 = s.arg1.fields[\"drawOffsetY\"];\n    s.tmp_10 = r0;\n    r0 = (s.tmp_6 - s.tmp_10);\n    s.tmp_0.arg2 = r0;\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"width\"];\n    s.tmp_0.arg3 = r0;\n    r0 = s.arg0.fields[\"_hitbox\"];\n    r0 = r0.fields[\"height\"];\n    s.tmp_0.arg4 = r0;\n    s.tmp_0.arg5 = 1;\n    s.pc = 42; return s.tmp_0;\n  case 42:\n    r0 = s.retval;\n  case 13:\n  case 14:\n  case 15:\n    r0 = undefined;\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite___drawCore__P15485.info = {\"start\":19088,\"length\":1262,\"line\":588,\"column\":4,\"endLine\":622,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"__drawCore\",\"argumentNames\":[\"this\",\"camera\"]}\n\nfunction Sprite___drawCore__P15485_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite___drawCore__P15485, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  tmp_5: undefined,\n  tmp_6: undefined,\n  tmp_7: undefined,\n  tmp_8: undefined,\n  tmp_9: undefined,\n  tmp_10: undefined,\n  tmp_11: undefined,\n  l___27551: undefined,\n  t___27555: undefined,\n  font___27570: undefined,\n  margin___27572: undefined,\n  tx___27573: undefined,\n  ty___27575: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\n\n\n\nfunction Sprite___visible__P15467(s) {\nlet r0 = s.r0, step = s.pc;\ns.pc = -1;\n\n\nwhile (true) {\nif (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;\nswitch (step) {\n  case 0:\n\n    if (s.lambdaArgs) {\n      s.arg0 = (s.lambdaArgs[0]);\n      s.lambdaArgs = null;\n    }\n    r0 = s.arg0;\n    if (!checkSubtype(r0, Sprite__C15448_VT)) failedCast(r0);\n    r0 = s.arg0.fields[\"flags\"];\n    s.tmp_2 = r0;\n    r0 = (s.tmp_2 & 128);\n    s.tmp_1 = r0;\n    r0 = pxsim_numops_toBoolDecr(s.tmp_1);\n    s.tmp_0 = r0;\n    r0 = pxsim_Boolean__bang(s.tmp_0);\n    return leave(s, r0)\n  default: oops()\n} } }\nSprite___visible__P15467.info = {\"start\":7151,\"length\":72,\"line\":254,\"column\":4,\"endLine\":256,\"endColumn\":5,\"fileName\":\"pxt_modules/game/sprite.ts\",\"functionName\":\"__visible\",\"argumentNames\":[\"this\"]}\n\nfunction Sprite___visible__P15467_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: Sprite___visible__P15467, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  arg0: undefined,\n} }\n\n\n\n\nfunction lambda_3_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\nfunction if_flags_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction particles_ParticleFactory__C16178_v0_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction particles_ParticleSource__C16126_v4_3_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\nfunction if_x_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_y_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_id_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction lambda_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_charWidth_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_charHeight_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_multiplier_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_data_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_xOffset_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_yOffset_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction PhysicsEngine__C15549_v2_4_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\nfunction PhysicsEngine__C15549_v4_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction if___update_3_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n} }\n\n\nfunction lambda_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction PhysicsEngine__C15549_v3_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if___draw_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction if_z_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_id_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_animations_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction if_animations_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction animation_SpriteAnimation__C16382_v0_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction PhysicsEngine__C15549_v0_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction if_startScreenEffect_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction game_GameOverDialog__C15824_v0_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction game_GameOverDialog__C15824_v1_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction lambda_5_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n  arg4: undefined,\n} }\n\n\nfunction PhysicsEngine__C15549_v1_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction lambda_4_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\nfunction if_padding_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_cardsPerRow_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_cardWidth_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_cardSpacing_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_cardsTop_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_headerText_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_headerFont_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_infoTop_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_infoFont_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_basicCard_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_selectedCard_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_activeCard_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_z_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction game_BaseDialog__C15793_v1_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction animation_PathNode__C16355_v0_4_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\nfunction if_tileIndex_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_height_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction particles_ParticleFactory__C16178_v1_4_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n  arg2: undefined,\n  arg3: undefined,\n} }\n\n\nfunction sprites_BaseSprite__C15349_v0_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction sprites_BaseSprite__C15349_v2_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction if_scene_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_state_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_up_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\n\nfunction if_yOffset_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction if_up_2_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n  arg1: undefined,\n} }\n\n\nfunction if_width_1_mk(s) {\n    checkStack(s.depth);\n    return {\n        parent: s, fn: null, depth: s.depth + 1,\n        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,\n  tmp_0: undefined,\n  tmp_1: undefined,\n  tmp_2: undefined,\n  tmp_3: undefined,\n  tmp_4: undefined,\n  arg0: undefined,\n} }\n\nconst controller_Button__C15379_VT = mkVTable({\n  name: \"Button\",\n  numFields: 8,\n  classNo: 16,\n  lastSubtypeNo: 16,\n  methods: {\n  },\n  iface: {\n    \"_owner\": null,\n    \"set/_owner\": null,\n    \"id\": null,\n    \"set/id\": null,\n    \"repeatDelay\": null,\n    \"set/repeatDelay\": null,\n    \"repeatInterval\": null,\n    \"set/repeatInterval\": null,\n    \"_pressed\": null,\n    \"set/_pressed\": null,\n    \"_pressedElasped\": null,\n    \"set/_pressedElasped\": null,\n    \"_repeatCount\": null,\n    \"set/_repeatCount\": null,\n    \"_buttonId\": null,\n    \"set/_buttonId\": null,\n    \"toString\": controller_Button_toString__P15380,\n    \"raiseButtonUp\": controller_Button_raiseButtonUp__P15381,\n    \"raiseButtonDown\": controller_Button_raiseButtonDown__P15382,\n    \"raiseButtonRepeat\": controller_Button_raiseButtonRepeat__P15383,\n    \"onEvent\": controller_Button_onEvent__P15384,\n    \"isPressed\": controller_Button_isPressed__P15386,\n    \"setPressed\": controller_Button_setPressed__P15387,\n    \"__update\": controller_Button___update__P15388,\n  },\n  toStringMethod: controller_Button_toString__P15380,\n});\nconst Math_FastRandom__C15997_VT = mkVTable({\n  name: \"FastRandom\",\n  numFields: 2,\n  classNo: 17,\n  lastSubtypeNo: 17,\n  methods: {\n  },\n  iface: {\n    \"lfsr\": null,\n    \"set/lfsr\": null,\n    \"seed\": null,\n    \"set/seed\": null,\n    \"next\": Math_FastRandom_next__P15998,\n    \"randomRange\": Math_FastRandom_randomRange__P15999,\n    \"pickRandom\": Math_FastRandom_pickRandom__P16000,\n  },\n});\nconst texteffects_TextEffect__C16289_VT = mkVTable({\n  name: \"TextEffect\",\n  numFields: 1,\n  classNo: 18,\n  lastSubtypeNo: 18,\n  methods: {\n  },\n  iface: {\n    \"getState\": null,\n    \"set/getState\": null,\n  },\n});\nconst sprites_BaseSprite__C15349_VT = mkVTable({\n  name: \"BaseSprite\",\n  numFields: 2,\n  classNo: 19,\n  lastSubtypeNo: 22,\n  methods: {\n    \"__visible\": sprites_BaseSprite___visible__P15350,\n    \"__draw\": sprites_BaseSprite___draw__P15353,\n    \"__drawCore\": sprites_BaseSprite___drawCore__P15354,\n    \"__update\": sprites_BaseSprite___update__P15355,\n  },\n  iface: {\n    \"_z\": null,\n    \"set/_z\": null,\n    \"id\": null,\n    \"set/id\": null,\n    \"__visible\": sprites_BaseSprite___visible__P15350,\n    \"z\": sprites_BaseSprite_z__P15351,\n    \"set/z\": sprites_BaseSprite_z__P15352,\n    \"__draw\": sprites_BaseSprite___draw__P15353,\n    \"__drawCore\": sprites_BaseSprite___drawCore__P15354,\n    \"__update\": sprites_BaseSprite___update__P15355,\n  },\n});\nconst Sprite__C15448_VT = mkVTable({\n  name: \"Sprite\",\n  numFields: 24,\n  classNo: 20,\n  lastSubtypeNo: 20,\n  methods: {\n    \"__visible\": Sprite___visible__P15467,\n    \"__draw\": sprites_BaseSprite___draw__P15353,\n    \"__drawCore\": Sprite___drawCore__P15485,\n    \"__update\": Sprite___update__P15486,\n  },\n  iface: {\n    \"_z\": null,\n    \"set/_z\": null,\n    \"id\": null,\n    \"set/id\": null,\n    \"_x\": null,\n    \"set/_x\": null,\n    \"_y\": null,\n    \"set/_y\": null,\n    \"_vx\": null,\n    \"set/_vx\": null,\n    \"_vy\": null,\n    \"set/_vy\": null,\n    \"_ax\": null,\n    \"set/_ax\": null,\n    \"_ay\": null,\n    \"set/_ay\": null,\n    \"_data\": null,\n    \"set/_data\": null,\n    \"_kind\": null,\n    \"set/_kind\": null,\n    \"layer\": null,\n    \"set/layer\": null,\n    \"_lastX\": null,\n    \"set/_lastX\": null,\n    \"_lastY\": null,\n    \"set/_lastY\": null,\n    \"_action\": null,\n    \"set/_action\": null,\n    \"lifespan\": null,\n    \"set/lifespan\": null,\n    \"_image\": null,\n    \"set/_image\": null,\n    \"_obstacles\": null,\n    \"set/_obstacles\": null,\n    \"updateSay\": null,\n    \"set/updateSay\": null,\n    \"sayBubbleSprite\": null,\n    \"set/sayBubbleSprite\": null,\n    \"_hitbox\": null,\n    \"set/_hitbox\": null,\n    \"_overlappers\": null,\n    \"set/_overlappers\": null,\n    \"_kindsOverlappedWith\": null,\n    \"set/_kindsOverlappedWith\": null,\n    \"flags\": null,\n    \"set/flags\": null,\n    \"destroyHandler\": null,\n    \"set/destroyHandler\": null,\n    \"x\": Sprite_x__P15450,\n    \"set/x\": Sprite_x__P15451,\n    \"y\": Sprite_y__P15452,\n    \"set/y\": Sprite_y__P15453,\n    \"vx\": Sprite_vx__P15454,\n    \"set/vx\": Sprite_vx__P15455,\n    \"vy\": Sprite_vy__P15456,\n    \"set/vy\": Sprite_vy__P15457,\n    \"ax\": Sprite_ax__P15458,\n    \"set/ax\": Sprite_ax__P15459,\n    \"ay\": Sprite_ay__P15460,\n    \"set/ay\": Sprite_ay__P15461,\n    \"data\": Sprite_data__P15462,\n    \"set/data\": Sprite_data__P15463,\n    \"image\": Sprite_image__P15465,\n    \"setImage\": Sprite_setImage__P15466,\n    \"__visible\": Sprite___visible__P15467,\n    \"width\": Sprite_width__P15468,\n    \"height\": Sprite_height__P15469,\n    \"left\": Sprite_left__P15470,\n    \"set/left\": Sprite_left__P15471,\n    \"right\": Sprite_right__P15472,\n    \"set/right\": Sprite_right__P15473,\n    \"top\": Sprite_top__P15474,\n    \"set/top\": Sprite_top__P15475,\n    \"bottom\": Sprite_bottom__P15476,\n    \"set/bottom\": Sprite_bottom__P15477,\n    \"kind\": Sprite_kind__P15478,\n    \"setKind\": Sprite_setKind__P15479,\n    \"setPosition\": Sprite_setPosition__P15480,\n    \"setVelocity\": Sprite_setVelocity__P15481,\n    \"isOutOfScreen\": Sprite_isOutOfScreen__P15484,\n    \"__drawCore\": Sprite___drawCore__P15485,\n    \"__update\": Sprite___update__P15486,\n    \"setFlag\": Sprite_setFlag__P15487,\n    \"overlapsWith\": Sprite_overlapsWith__P15488,\n    \"clearObstacles\": Sprite_clearObstacles__P15491,\n    \"registerObstacle\": Sprite_registerObstacle__P15492,\n    \"destroy\": Sprite_destroy__P15494,\n    \"_destroyCore\": Sprite__destroyCore__P15495,\n    \"toString\": Sprite_toString__P15497,\n    \"z\": sprites_BaseSprite_z__P15351,\n    \"set/z\": sprites_BaseSprite_z__P15352,\n    \"__draw\": sprites_BaseSprite___draw__P15353,\n  },\n  toStringMethod: Sprite_toString__P15497,\n});\nconst effects_ParticleEffect__C16245_VT = mkVTable({\n  name: \"ParticleEffect\",\n  numFields: 3,\n  classNo: 23,\n  lastSubtypeNo: 24,\n  methods: {\n  },\n  iface: {\n    \"sourceFactory\": null,\n    \"set/sourceFactory\": null,\n    \"defaultRate\": null,\n    \"set/defaultRate\": null,\n    \"defaultLifespan\": null,\n    \"set/defaultLifespan\": null,\n    \"start\": effects_ParticleEffect_start__P16246,\n    \"destroy\": effects_ParticleEffect_destroy__P16247,\n  },\n});\nconst effects_ScreenEffect__C16255_VT = mkVTable({\n  name: \"ScreenEffect\",\n  numFields: 5,\n  classNo: 24,\n  lastSubtypeNo: 24,\n  methods: {\n  },\n  iface: {\n    \"sourceFactory\": null,\n    \"set/sourceFactory\": null,\n    \"defaultRate\": null,\n    \"set/defaultRate\": null,\n    \"defaultLifespan\": null,\n    \"set/defaultLifespan\": null,\n    \"source\": null,\n    \"set/source\": null,\n    \"sceneDefaultRate\": null,\n    \"set/sceneDefaultRate\": null,\n    \"startScreenEffect\": effects_ScreenEffect_startScreenEffect__P16257,\n    \"endScreenEffect\": effects_ScreenEffect_endScreenEffect__P16258,\n    \"start\": effects_ParticleEffect_start__P16246,\n    \"destroy\": effects_ParticleEffect_destroy__P16247,\n  },\n});\nconst particles_ParticleSource__C16126_VT = mkVTable({\n  name: \"ParticleSource\",\n  numFields: 13,\n  classNo: 21,\n  lastSubtypeNo: 21,\n  methods: {\n    \"__visible\": sprites_BaseSprite___visible__P15350,\n    \"__draw\": particles_ParticleSource___draw__P16128,\n    \"__drawCore\": sprites_BaseSprite___drawCore__P15354,\n    \"__update\": sprites_BaseSprite___update__P15355,\n    \"updateParticle\": particles_ParticleSource_updateParticle__P16141,\n  },\n  iface: {\n    \"_z\": null,\n    \"set/_z\": null,\n    \"id\": null,\n    \"set/id\": null,\n    \"priority\": null,\n    \"set/priority\": null,\n    \"_dt\": null,\n    \"set/_dt\": null,\n    \"anchor\": null,\n    \"set/anchor\": null,\n    \"lifespan\": null,\n    \"set/lifespan\": null,\n    \"pFlags\": null,\n    \"set/pFlags\": null,\n    \"head\": null,\n    \"set/head\": null,\n    \"timer\": null,\n    \"set/timer\": null,\n    \"period\": null,\n    \"set/period\": null,\n    \"_factory\": null,\n    \"set/_factory\": null,\n    \"ax\": null,\n    \"set/ax\": null,\n    \"ay\": null,\n    \"set/ay\": null,\n    \"__draw\": particles_ParticleSource___draw__P16128,\n    \"_update\": particles_ParticleSource__update__P16129,\n    \"_prune\": particles_ParticleSource__prune__P16130,\n    \"setAcceleration\": particles_ParticleSource_setAcceleration__P16131,\n    \"enabled\": particles_ParticleSource_enabled__P16133,\n    \"set/enabled\": particles_ParticleSource_enabled__P16134,\n    \"destroy\": particles_ParticleSource_destroy__P16135,\n    \"clear\": particles_ParticleSource_clear__P16136,\n    \"setAnchor\": particles_ParticleSource_setAnchor__P16137,\n    \"setRate\": particles_ParticleSource_setRate__P16138,\n    \"setFactory\": particles_ParticleSource_setFactory__P16140,\n    \"updateParticle\": particles_ParticleSource_updateParticle__P16141,\n    \"drawParticle\": particles_ParticleSource_drawParticle__P16142,\n    \"__visible\": sprites_BaseSprite___visible__P15350,\n    \"z\": sprites_BaseSprite_z__P15351,\n    \"set/z\": sprites_BaseSprite_z__P15352,\n    \"__drawCore\": sprites_BaseSprite___drawCore__P15354,\n    \"__update\": sprites_BaseSprite___update__P15355,\n  },\n});\nconst particles_ParticleFactory__C16178_VT = mkVTable({\n  name: \"ParticleFactory\",\n  numFields: 0,\n  classNo: 25,\n  lastSubtypeNo: 29,\n  methods: {\n    \"createParticle\": particles_ParticleFactory_createParticle__P16179,\n    \"drawParticle\": particles_ParticleFactory_drawParticle__P16180,\n  },\n  iface: {\n    \"createParticle\": particles_ParticleFactory_createParticle__P16179,\n    \"drawParticle\": particles_ParticleFactory_drawParticle__P16180,\n  },\n});\nconst particles_SprayFactory__C16182_VT = mkVTable({\n  name: \"SprayFactory\",\n  numFields: 3,\n  classNo: 26,\n  lastSubtypeNo: 29,\n  methods: {\n    \"createParticle\": particles_SprayFactory_createParticle__P16184,\n    \"drawParticle\": particles_SprayFactory_drawParticle__P16185,\n  },\n  iface: {\n    \"speed\": null,\n    \"set/speed\": null,\n    \"minAngle\": null,\n    \"set/minAngle\": null,\n    \"spread\": null,\n    \"set/spread\": null,\n    \"createParticle\": particles_SprayFactory_createParticle__P16184,\n    \"drawParticle\": particles_SprayFactory_drawParticle__P16185,\n    \"setSpeed\": particles_SprayFactory_setSpeed__P16186,\n    \"setDirection\": particles_SprayFactory_setDirection__P16187,\n  },\n});\nconst particles_AreaFactory__C16189_VT = mkVTable({\n  name: \"AreaFactory\",\n  numFields: 8,\n  classNo: 27,\n  lastSubtypeNo: 29,\n  methods: {\n    \"createParticle\": particles_AreaFactory_createParticle__P16191,\n    \"drawParticle\": particles_AreaFactory_drawParticle__P16192,\n  },\n  iface: {\n    \"speed\": null,\n    \"set/speed\": null,\n    \"minAngle\": null,\n    \"set/minAngle\": null,\n    \"spread\": null,\n    \"set/spread\": null,\n    \"xRange\": null,\n    \"set/xRange\": null,\n    \"yRange\": null,\n    \"set/yRange\": null,\n    \"minLifespan\": null,\n    \"set/minLifespan\": null,\n    \"maxLifespan\": null,\n    \"set/maxLifespan\": null,\n    \"galois\": null,\n    \"set/galois\": null,\n    \"createParticle\": particles_AreaFactory_createParticle__P16191,\n    \"drawParticle\": particles_AreaFactory_drawParticle__P16192,\n    \"setSpeed\": particles_SprayFactory_setSpeed__P16186,\n    \"setDirection\": particles_SprayFactory_setDirection__P16187,\n  },\n});\nconst particles_ShapeFactory__C16199_VT = mkVTable({\n  name: \"ShapeFactory\",\n  numFields: 11,\n  classNo: 28,\n  lastSubtypeNo: 29,\n  methods: {\n    \"createParticle\": particles_ShapeFactory_createParticle__P16203,\n    \"drawParticle\": particles_ShapeFactory_drawParticle__P16202,\n  },\n  iface: {\n    \"speed\": null,\n    \"set/speed\": null,\n    \"minAngle\": null,\n    \"set/minAngle\": null,\n    \"spread\": null,\n    \"set/spread\": null,\n    \"xRange\": null,\n    \"set/xRange\": null,\n    \"yRange\": null,\n    \"set/yRange\": null,\n    \"minLifespan\": null,\n    \"set/minLifespan\": null,\n    \"maxLifespan\": null,\n    \"set/maxLifespan\": null,\n    \"galois\": null,\n    \"set/galois\": null,\n    \"sources\": null,\n    \"set/sources\": null,\n    \"ox\": null,\n    \"set/ox\": null,\n    \"oy\": null,\n    \"set/oy\": null,\n    \"addShape\": particles_ShapeFactory_addShape__P16201,\n    \"drawParticle\": particles_ShapeFactory_drawParticle__P16202,\n    \"createParticle\": particles_ShapeFactory_createParticle__P16203,\n    \"setSpeed\": particles_SprayFactory_setSpeed__P16186,\n    \"setDirection\": particles_SprayFactory_setDirection__P16187,\n  },\n});\nconst particles_ConfettiFactory__C16205_VT = mkVTable({\n  name: \"ConfettiFactory\",\n  numFields: 11,\n  classNo: 29,\n  lastSubtypeNo: 29,\n  methods: {\n    \"createParticle\": particles_ShapeFactory_createParticle__P16203,\n    \"drawParticle\": particles_ShapeFactory_drawParticle__P16202,\n  },\n  iface: {\n    \"speed\": null,\n    \"set/speed\": null,\n    \"minAngle\": null,\n    \"set/minAngle\": null,\n    \"spread\": null,\n    \"set/spread\": null,\n    \"xRange\": null,\n    \"set/xRange\": null,\n    \"yRange\": null,\n    \"set/yRange\": null,\n    \"minLifespan\": null,\n    \"set/minLifespan\": null,\n    \"maxLifespan\": null,\n    \"set/maxLifespan\": null,\n    \"galois\": null,\n    \"set/galois\": null,\n    \"sources\": null,\n    \"set/sources\": null,\n    \"ox\": null,\n    \"set/ox\": null,\n    \"oy\": null,\n    \"set/oy\": null,\n    \"addShape\": particles_ShapeFactory_addShape__P16201,\n    \"drawParticle\": particles_ShapeFactory_drawParticle__P16202,\n    \"createParticle\": particles_ShapeFactory_createParticle__P16203,\n    \"setSpeed\": particles_SprayFactory_setSpeed__P16186,\n    \"setDirection\": particles_SprayFactory_setDirection__P16187,\n  },\n});\nconst particles_Particle__C16124_VT = mkVTable({\n  name: \"Particle\",\n  numFields: 8,\n  classNo: 30,\n  lastSubtypeNo: 30,\n  methods: {\n  },\n  iface: {\n    \"_x\": null,\n    \"set/_x\": null,\n    \"_y\": null,\n    \"set/_y\": null,\n    \"vx\": null,\n    \"set/vx\": null,\n    \"vy\": null,\n    \"set/vy\": null,\n    \"lifespan\": null,\n    \"set/lifespan\": null,\n    \"next\": null,\n    \"set/next\": null,\n    \"data\": null,\n    \"set/data\": null,\n    \"color\": null,\n    \"set/color\": null,\n  },\n});\nconst scene_Scene__C15764_VT = mkVTable({\n  name: \"Scene\",\n  numFields: 21,\n  classNo: 31,\n  lastSubtypeNo: 31,\n  methods: {\n  },\n  iface: {\n    \"eventContext\": null,\n    \"set/eventContext\": null,\n    \"background\": null,\n    \"set/background\": null,\n    \"tileMap\": null,\n    \"set/tileMap\": null,\n    \"allSprites\": null,\n    \"set/allSprites\": null,\n    \"spriteNextId\": null,\n    \"set/spriteNextId\": null,\n    \"spritesByKind\": null,\n    \"set/spritesByKind\": null,\n    \"physicsEngine\": null,\n    \"set/physicsEngine\": null,\n    \"camera\": null,\n    \"set/camera\": null,\n    \"flags\": null,\n    \"set/flags\": null,\n    \"destroyedHandlers\": null,\n    \"set/destroyedHandlers\": null,\n    \"createdHandlers\": null,\n    \"set/createdHandlers\": null,\n    \"overlapHandlers\": null,\n    \"set/overlapHandlers\": null,\n    \"overlapMap\": null,\n    \"set/overlapMap\": null,\n    \"collisionHandlers\": null,\n    \"set/collisionHandlers\": null,\n    \"gameForeverHandlers\": null,\n    \"set/gameForeverHandlers\": null,\n    \"particleSources\": null,\n    \"set/particleSources\": null,\n    \"controlledSprites\": null,\n    \"set/controlledSprites\": null,\n    \"followingSprites\": null,\n    \"set/followingSprites\": null,\n    \"_millis\": null,\n    \"set/_millis\": null,\n    \"_data\": null,\n    \"set/_data\": null,\n    \"cachedRender\": null,\n    \"set/cachedRender\": null,\n    \"init\": scene_Scene_init__P15765,\n    \"data\": scene_Scene_data__P15766,\n    \"millis\": scene_Scene_millis__P15767,\n    \"addSprite\": scene_Scene_addSprite__P15768,\n    \"destroy\": scene_Scene_destroy__P15769,\n    \"renderCore\": scene_Scene_renderCore__P15771,\n  },\n});\nconst effects_SceneAnchor__C16249_VT = mkVTable({\n  name: \"SceneAnchor\",\n  numFields: 1,\n  classNo: 32,\n  lastSubtypeNo: 32,\n  methods: {\n  },\n  iface: {\n    \"camera\": null,\n    \"set/camera\": null,\n    \"x\": effects_SceneAnchor_x__P16250,\n    \"y\": effects_SceneAnchor_y__P16251,\n    \"width\": effects_SceneAnchor_width__P16252,\n    \"height\": effects_SceneAnchor_height__P16253,\n  },\n});\nconst info_PlayerInfo__C15664_VT = mkVTable({\n  name: \"PlayerInfo\",\n  numFields: 12,\n  classNo: 33,\n  lastSubtypeNo: 33,\n  methods: {\n  },\n  iface: {\n    \"_player\": null,\n    \"set/_player\": null,\n    \"bg\": null,\n    \"set/bg\": null,\n    \"border\": null,\n    \"set/border\": null,\n    \"fc\": null,\n    \"set/fc\": null,\n    \"showScore\": null,\n    \"set/showScore\": null,\n    \"showLife\": null,\n    \"set/showLife\": null,\n    \"visilibity\": null,\n    \"set/visilibity\": null,\n    \"showPlayer\": null,\n    \"set/showPlayer\": null,\n    \"x\": null,\n    \"set/x\": null,\n    \"y\": null,\n    \"set/y\": null,\n    \"left\": null,\n    \"set/left\": null,\n    \"up\": null,\n    \"set/up\": null,\n    \"init\": info_PlayerInfo_init__P15665,\n    \"getState\": info_PlayerInfo_getState__P15666,\n    \"id\": info_PlayerInfo_id__P15667,\n    \"score\": info_PlayerInfo_score__P15668,\n    \"setScore\": info_PlayerInfo_setScore__P15669,\n    \"changeScoreBy\": info_PlayerInfo_changeScoreBy__P15670,\n    \"hasScore\": info_PlayerInfo_hasScore__P15671,\n    \"hasLife\": info_PlayerInfo_hasLife__P15675,\n    \"raiseLifeZero\": info_PlayerInfo_raiseLifeZero__P15677,\n    \"drawPlayer\": info_PlayerInfo_drawPlayer__P15678,\n    \"drawScore\": info_PlayerInfo_drawScore__P15679,\n    \"drawLives\": info_PlayerInfo_drawLives__P15680,\n  },\n});\nconst info_PlayerState__C15581_VT = mkVTable({\n  name: \"PlayerState\",\n  numFields: 3,\n  classNo: 34,\n  lastSubtypeNo: 34,\n  methods: {\n  },\n  iface: {\n    \"score\": null,\n    \"set/score\": null,\n    \"life\": null,\n    \"set/life\": null,\n    \"lifeZeroHandler\": null,\n    \"set/lifeZeroHandler\": null,\n  },\n});\nconst info_InfoState__C15583_VT = mkVTable({\n  name: \"InfoState\",\n  numFields: 10,\n  classNo: 35,\n  lastSubtypeNo: 35,\n  methods: {\n  },\n  iface: {\n    \"playerStates\": null,\n    \"set/playerStates\": null,\n    \"visibilityFlag\": null,\n    \"set/visibilityFlag\": null,\n    \"gameEnd\": null,\n    \"set/gameEnd\": null,\n    \"heartImage\": null,\n    \"set/heartImage\": null,\n    \"multiplierImage\": null,\n    \"set/multiplierImage\": null,\n    \"bgColor\": null,\n    \"set/bgColor\": null,\n    \"borderColor\": null,\n    \"set/borderColor\": null,\n    \"fontColor\": null,\n    \"set/fontColor\": null,\n    \"countdownExpired\": null,\n    \"set/countdownExpired\": null,\n    \"countdownEndHandler\": null,\n    \"set/countdownEndHandler\": null,\n  },\n});\nconst scene_Renderable__C15731_VT = mkVTable({\n  name: \"Renderable\",\n  numFields: 4,\n  classNo: 22,\n  lastSubtypeNo: 22,\n  methods: {\n    \"__visible\": scene_Renderable___visible__P15733,\n    \"__draw\": sprites_BaseSprite___draw__P15353,\n    \"__drawCore\": scene_Renderable___drawCore__P15734,\n    \"__update\": sprites_BaseSprite___update__P15355,\n  },\n  iface: {\n    \"_z\": null,\n    \"set/_z\": null,\n    \"id\": null,\n    \"set/id\": null,\n    \"handler\": null,\n    \"set/handler\": null,\n    \"shouldBeVisible\": null,\n    \"set/shouldBeVisible\": null,\n    \"__visible\": scene_Renderable___visible__P15733,\n    \"__drawCore\": scene_Renderable___drawCore__P15734,\n    \"z\": sprites_BaseSprite_z__P15351,\n    \"set/z\": sprites_BaseSprite_z__P15352,\n    \"__draw\": sprites_BaseSprite___draw__P15353,\n    \"__update\": sprites_BaseSprite___update__P15355,\n  },\n});\nconst SpriteSet__C15517_VT = mkVTable({\n  name: \"SpriteSet\",\n  numFields: 1,\n  classNo: 36,\n  lastSubtypeNo: 36,\n  methods: {\n  },\n  iface: {\n    \"_sprites\": null,\n    \"set/_sprites\": null,\n    \"length\": SpriteSet_length__P15519,\n    \"add\": SpriteSet_add__P15521,\n    \"remove\": SpriteSet_remove__P15523,\n    \"contains\": SpriteSet_contains__P15524,\n    \"toString\": SpriteSet_toString__P15527,\n  },\n  toStringMethod: SpriteSet_toString__P15527,\n});\nconst PhysicsEngine__C15549_VT = mkVTable({\n  name: \"PhysicsEngine\",\n  numFields: 0,\n  classNo: 37,\n  lastSubtypeNo: 38,\n  methods: {\n    \"addSprite\": PhysicsEngine_addSprite__P15550,\n    \"removeSprite\": PhysicsEngine_removeSprite__P15551,\n    \"moveSprite\": PhysicsEngine_moveSprite__P15552,\n    \"draw\": PhysicsEngine_draw__P15553,\n    \"move\": PhysicsEngine_move__P15554,\n  },\n  iface: {\n    \"addSprite\": PhysicsEngine_addSprite__P15550,\n    \"removeSprite\": PhysicsEngine_removeSprite__P15551,\n    \"moveSprite\": PhysicsEngine_moveSprite__P15552,\n    \"draw\": PhysicsEngine_draw__P15553,\n    \"move\": PhysicsEngine_move__P15554,\n  },\n});\nconst scene_GameForeverHandler__C15743_VT = mkVTable({\n  name: \"GameForeverHandler\",\n  numFields: 2,\n  classNo: 39,\n  lastSubtypeNo: 39,\n  methods: {\n  },\n  iface: {\n    \"lock\": null,\n    \"set/lock\": null,\n    \"handler\": null,\n    \"set/handler\": null,\n  },\n});\nconst control_EventContext__C15061_VT = mkVTable({\n  name: \"EventContext\",\n  numFields: 8,\n  classNo: 40,\n  lastSubtypeNo: 40,\n  methods: {\n  },\n  iface: {\n    \"handlers\": null,\n    \"set/handlers\": null,\n    \"frameCallbacks\": null,\n    \"set/frameCallbacks\": null,\n    \"frameWorker\": null,\n    \"set/frameWorker\": null,\n    \"framesInSample\": null,\n    \"set/framesInSample\": null,\n    \"timeInSample\": null,\n    \"set/timeInSample\": null,\n    \"deltaTimeMillis\": null,\n    \"set/deltaTimeMillis\": null,\n    \"prevTimeMillis\": null,\n    \"set/prevTimeMillis\": null,\n    \"idleCallbacks\": null,\n    \"set/idleCallbacks\": null,\n    \"deltaTime\": control_EventContext_deltaTime__P15062,\n    \"runCallbacks\": control_EventContext_runCallbacks__P15063,\n    \"registerFrameCallbacks\": control_EventContext_registerFrameCallbacks__P15064,\n    \"register\": control_EventContext_register__P15065,\n    \"unregister\": control_EventContext_unregister__P15066,\n    \"registerFrameHandler\": control_EventContext_registerFrameHandler__P15067,\n    \"registerHandler\": control_EventContext_registerHandler__P15068,\n  },\n});\nconst ArcadePhysicsEngine__C15568_VT = mkVTable({\n  name: \"ArcadePhysicsEngine\",\n  numFields: 6,\n  classNo: 38,\n  lastSubtypeNo: 38,\n  methods: {\n    \"addSprite\": ArcadePhysicsEngine_addSprite__P15570,\n    \"removeSprite\": ArcadePhysicsEngine_removeSprite__P15571,\n    \"moveSprite\": ArcadePhysicsEngine_moveSprite__P15578,\n    \"draw\": ArcadePhysicsEngine_draw__P15572,\n    \"move\": ArcadePhysicsEngine_move__P15573,\n  },\n  iface: {\n    \"sprites\": null,\n    \"set/sprites\": null,\n    \"map\": null,\n    \"set/map\": null,\n    \"maxVelocity\": null,\n    \"set/maxVelocity\": null,\n    \"maxNegativeVelocity\": null,\n    \"set/maxNegativeVelocity\": null,\n    \"minSingleStep\": null,\n    \"set/minSingleStep\": null,\n    \"maxSingleStep\": null,\n    \"set/maxSingleStep\": null,\n    \"addSprite\": ArcadePhysicsEngine_addSprite__P15570,\n    \"removeSprite\": ArcadePhysicsEngine_removeSprite__P15571,\n    \"draw\": ArcadePhysicsEngine_draw__P15572,\n    \"move\": ArcadePhysicsEngine_move__P15573,\n    \"createMovingSprite\": ArcadePhysicsEngine_createMovingSprite__P15574,\n    \"spriteCollisions\": ArcadePhysicsEngine_spriteCollisions__P15575,\n    \"tilemapCollisions\": ArcadePhysicsEngine_tilemapCollisions__P15576,\n    \"moveSprite\": ArcadePhysicsEngine_moveSprite__P15578,\n    \"constrain\": ArcadePhysicsEngine_constrain__P15579,\n  },\n});\nconst scene_Background__C15687_VT = mkVTable({\n  name: \"Background\",\n  numFields: 4,\n  classNo: 41,\n  lastSubtypeNo: 41,\n  methods: {\n  },\n  iface: {\n    \"color\": null,\n    \"set/color\": null,\n    \"_image\": null,\n    \"set/_image\": null,\n    \"camera\": null,\n    \"set/camera\": null,\n    \"_layers\": null,\n    \"set/_layers\": null,\n    \"image\": scene_Background_image__P15689,\n    \"set/image\": scene_Background_image__P15690,\n    \"hasBackgroundImage\": scene_Background_hasBackgroundImage__P15691,\n    \"draw\": scene_Background_draw__P15692,\n  },\n});\nconst scene_Camera__C15727_VT = mkVTable({\n  name: \"Camera\",\n  numFields: 8,\n  classNo: 42,\n  lastSubtypeNo: 42,\n  methods: {\n  },\n  iface: {\n    \"offsetX\": null,\n    \"set/offsetX\": null,\n    \"offsetY\": null,\n    \"set/offsetY\": null,\n    \"drawOffsetX\": null,\n    \"set/drawOffsetX\": null,\n    \"drawOffsetY\": null,\n    \"set/drawOffsetY\": null,\n    \"sprite\": null,\n    \"set/sprite\": null,\n    \"shakeStartTime\": null,\n    \"set/shakeStartTime\": null,\n    \"shakeDuration\": null,\n    \"set/shakeDuration\": null,\n    \"shakeAmplitude\": null,\n    \"set/shakeAmplitude\": null,\n    \"update\": scene_Camera_update__P15729,\n  },\n});\nconst sprites_SpriteMap__C15500_VT = mkVTable({\n  name: \"SpriteMap\",\n  numFields: 5,\n  classNo: 43,\n  lastSubtypeNo: 43,\n  methods: {\n  },\n  iface: {\n    \"cellWidth\": null,\n    \"set/cellWidth\": null,\n    \"cellHeight\": null,\n    \"set/cellHeight\": null,\n    \"rowCount\": null,\n    \"set/rowCount\": null,\n    \"columnCount\": null,\n    \"set/columnCount\": null,\n    \"buckets\": null,\n    \"set/buckets\": null,\n    \"neighbors\": sprites_SpriteMap_neighbors__P15501,\n    \"overlaps\": sprites_SpriteMap_overlaps__P15502,\n    \"draw\": sprites_SpriteMap_draw__P15503,\n    \"resizeBuckets\": sprites_SpriteMap_resizeBuckets__P15504,\n    \"clear\": sprites_SpriteMap_clear__P15505,\n    \"key\": sprites_SpriteMap_key__P15506,\n    \"insertAtKey\": sprites_SpriteMap_insertAtKey__P15507,\n    \"isOob\": sprites_SpriteMap_isOob__P15508,\n    \"insertAABB\": sprites_SpriteMap_insertAABB__P15509,\n    \"mergeAtKey\": sprites_SpriteMap_mergeAtKey__P15510,\n    \"toString\": sprites_SpriteMap_toString__P15511,\n  },\n  toStringMethod: sprites_SpriteMap_toString__P15511,\n});\nconst scene_BackgroundLayer__C15694_VT = mkVTable({\n  name: \"BackgroundLayer\",\n  numFields: 6,\n  classNo: 44,\n  lastSubtypeNo: 44,\n  methods: {\n  },\n  iface: {\n    \"distance\": null,\n    \"set/distance\": null,\n    \"img\": null,\n    \"set/img\": null,\n    \"repeatX\": null,\n    \"set/repeatX\": null,\n    \"repeatY\": null,\n    \"set/repeatY\": null,\n    \"alignX\": null,\n    \"set/alignX\": null,\n    \"alignY\": null,\n    \"set/alignY\": null,\n    \"draw\": scene_BackgroundLayer_draw__P15695,\n  },\n});\nconst tiles_TileMap__C15706_VT = mkVTable({\n  name: \"TileMap\",\n  numFields: 4,\n  classNo: 45,\n  lastSubtypeNo: 45,\n  methods: {\n  },\n  iface: {\n    \"scale\": null,\n    \"set/scale\": null,\n    \"_layer\": null,\n    \"set/_layer\": null,\n    \"_map\": null,\n    \"set/_map\": null,\n    \"_tileSets\": null,\n    \"set/_tileSets\": null,\n    \"offsetX\": tiles_TileMap_offsetX__P15708,\n    \"offsetY\": tiles_TileMap_offsetY__P15709,\n    \"areaWidth\": tiles_TileMap_areaWidth__P15710,\n    \"areaHeight\": tiles_TileMap_areaHeight__P15711,\n    \"layer\": tiles_TileMap_layer__P15712,\n    \"enabled\": tiles_TileMap_enabled__P15714,\n    \"generateTile\": tiles_TileMap_generateTile__P15720,\n    \"isOutsideMap\": tiles_TileMap_isOutsideMap__P15721,\n    \"draw\": tiles_TileMap_draw__P15723,\n    \"isObstacle\": tiles_TileMap_isObstacle__P15724,\n    \"getObstacle\": tiles_TileMap_getObstacle__P15725,\n  },\n});\nconst controller_Controller__C15398_VT = mkVTable({\n  name: \"Controller\",\n  numFields: 4,\n  classNo: 46,\n  lastSubtypeNo: 46,\n  methods: {\n  },\n  iface: {\n    \"playerIndex\": null,\n    \"set/playerIndex\": null,\n    \"buttons\": null,\n    \"set/buttons\": null,\n    \"_id\": null,\n    \"set/_id\": null,\n    \"_connected\": null,\n    \"set/_connected\": null,\n    \"_controlledSprites\": controller_Controller__controlledSprites__P15399,\n    \"set/_controlledSprites\": controller_Controller__controlledSprites__P15400,\n    \"id\": controller_Controller_id__P15401,\n    \"left\": controller_Controller_left__P15403,\n    \"right\": controller_Controller_right__P15404,\n    \"up\": controller_Controller_up__P15405,\n    \"down\": controller_Controller_down__P15406,\n    \"button\": controller_Controller_button__P15411,\n    \"connected\": controller_Controller_connected__P15414,\n    \"set/connected\": controller_Controller_connected__P15415,\n    \"__preUpdate\": controller_Controller___preUpdate__P15419,\n    \"__update\": controller_Controller___update__P15420,\n  },\n});\nconst music_Melody__C15190_VT = mkVTable({\n  name: \"Melody\",\n  numFields: 2,\n  classNo: 47,\n  lastSubtypeNo: 47,\n  methods: {\n  },\n  iface: {\n    \"_text\": null,\n    \"set/_text\": null,\n    \"_player\": null,\n    \"set/_player\": null,\n    \"stop\": music_Melody_stop__P15193,\n    \"registerMelody\": music_Melody_registerMelody__P15194,\n    \"unregisterMelody\": music_Melody_unregisterMelody__P15195,\n    \"playCore\": music_Melody_playCore__P15196,\n    \"play\": music_Melody_play__P15198,\n    \"toString\": music_Melody_toString__P15200,\n  },\n  toStringMethod: music_Melody_toString__P15200,\n});\nconst control_EventHandler__C15056_VT = mkVTable({\n  name: \"EventHandler\",\n  numFields: 4,\n  classNo: 48,\n  lastSubtypeNo: 48,\n  methods: {\n  },\n  iface: {\n    \"src\": null,\n    \"set/src\": null,\n    \"value\": null,\n    \"set/value\": null,\n    \"handler\": null,\n    \"set/handler\": null,\n    \"flags\": null,\n    \"set/flags\": null,\n    \"register\": control_EventHandler_register__P15057,\n    \"unregister\": control_EventHandler_unregister__P15058,\n  },\n});\nconst control_FrameCallback__C15055_VT = mkVTable({\n  name: \"FrameCallback\",\n  numFields: 2,\n  classNo: 49,\n  lastSubtypeNo: 49,\n  methods: {\n  },\n  iface: {\n    \"order\": null,\n    \"set/order\": null,\n    \"handler\": null,\n    \"set/handler\": null,\n  },\n});\nconst animation_SpriteAnimation__C16382_VT = mkVTable({\n  name: \"SpriteAnimation\",\n  numFields: 3,\n  classNo: 50,\n  lastSubtypeNo: 52,\n  methods: {\n    \"update\": animation_SpriteAnimation_update__P16384,\n  },\n  iface: {\n    \"startedAt\": null,\n    \"set/startedAt\": null,\n    \"sprite\": null,\n    \"set/sprite\": null,\n    \"loop\": null,\n    \"set/loop\": null,\n    \"init\": animation_SpriteAnimation_init__P16383,\n    \"update\": animation_SpriteAnimation_update__P16384,\n  },\n});\nconst animation_ImageAnimation__C16386_VT = mkVTable({\n  name: \"ImageAnimation\",\n  numFields: 6,\n  classNo: 51,\n  lastSubtypeNo: 51,\n  methods: {\n    \"update\": animation_ImageAnimation_update__P16388,\n  },\n  iface: {\n    \"startedAt\": null,\n    \"set/startedAt\": null,\n    \"sprite\": null,\n    \"set/sprite\": null,\n    \"loop\": null,\n    \"set/loop\": null,\n    \"lastFrame\": null,\n    \"set/lastFrame\": null,\n    \"frames\": null,\n    \"set/frames\": null,\n    \"frameInterval\": null,\n    \"set/frameInterval\": null,\n    \"update\": animation_ImageAnimation_update__P16388,\n    \"init\": animation_SpriteAnimation_init__P16383,\n  },\n});\nconst animation_MovementAnimation__C16390_VT = mkVTable({\n  name: \"MovementAnimation\",\n  numFields: 5,\n  classNo: 52,\n  lastSubtypeNo: 52,\n  methods: {\n    \"update\": animation_MovementAnimation_update__P16392,\n  },\n  iface: {\n    \"startedAt\": null,\n    \"set/startedAt\": null,\n    \"sprite\": null,\n    \"set/sprite\": null,\n    \"loop\": null,\n    \"set/loop\": null,\n    \"path\": null,\n    \"set/path\": null,\n    \"nodeInterval\": null,\n    \"set/nodeInterval\": null,\n    \"update\": animation_MovementAnimation_update__P16392,\n    \"init\": animation_SpriteAnimation_init__P16383,\n  },\n});\nconst game_Hitbox__C15434_VT = mkVTable({\n  name: \"Hitbox\",\n  numFields: 5,\n  classNo: 53,\n  lastSubtypeNo: 53,\n  methods: {\n  },\n  iface: {\n    \"parent\": null,\n    \"set/parent\": null,\n    \"ox\": null,\n    \"set/ox\": null,\n    \"oy\": null,\n    \"set/oy\": null,\n    \"width\": null,\n    \"set/width\": null,\n    \"height\": null,\n    \"set/height\": null,\n    \"left\": game_Hitbox_left__P15435,\n    \"top\": game_Hitbox_top__P15436,\n    \"right\": game_Hitbox_right__P15437,\n    \"bottom\": game_Hitbox_bottom__P15438,\n  },\n});\nconst effects_ImageEffect__C16279_VT = mkVTable({\n  name: \"ImageEffect\",\n  numFields: 4,\n  classNo: 54,\n  lastSubtypeNo: 54,\n  methods: {\n  },\n  iface: {\n    \"preferredDelay\": null,\n    \"set/preferredDelay\": null,\n    \"effect\": null,\n    \"set/effect\": null,\n    \"fastRandom\": null,\n    \"set/fastRandom\": null,\n    \"times\": null,\n    \"set/times\": null,\n    \"applyTo\": effects_ImageEffect_applyTo__P16280,\n    \"change\": effects_ImageEffect_change__P16281,\n    \"startScreenEffect\": effects_ImageEffect_startScreenEffect__P16282,\n  },\n});\nconst game_BaseDialog__C15793_VT = mkVTable({\n  name: \"BaseDialog\",\n  numFields: 11,\n  classNo: 55,\n  lastSubtypeNo: 56,\n  methods: {\n    \"update\": game_BaseDialog_update__P15794,\n    \"drawTextCore\": game_BaseDialog_drawTextCore__P15796,\n  },\n  iface: {\n    \"image\": null,\n    \"set/image\": null,\n    \"frame\": null,\n    \"set/frame\": null,\n    \"cursor\": null,\n    \"set/cursor\": null,\n    \"columns\": null,\n    \"set/columns\": null,\n    \"rows\": null,\n    \"set/rows\": null,\n    \"unit\": null,\n    \"set/unit\": null,\n    \"innerLeft\": null,\n    \"set/innerLeft\": null,\n    \"innerTop\": null,\n    \"set/innerTop\": null,\n    \"cursorCount\": null,\n    \"set/cursorCount\": null,\n    \"font\": null,\n    \"set/font\": null,\n    \"textColor\": null,\n    \"set/textColor\": null,\n    \"update\": game_BaseDialog_update__P15794,\n    \"drawTextCore\": game_BaseDialog_drawTextCore__P15796,\n    \"drawCursorRow\": game_BaseDialog_drawCursorRow__P15797,\n    \"drawBorder\": game_BaseDialog_drawBorder__P15798,\n    \"clearInterior\": game_BaseDialog_clearInterior__P15799,\n    \"drawPartial\": game_BaseDialog_drawPartial__P15800,\n    \"cursorRowHeight\": game_BaseDialog_cursorRowHeight__P15801,\n    \"textAreaWidth\": game_BaseDialog_textAreaWidth__P15803,\n    \"textAreaHeight\": game_BaseDialog_textAreaHeight__P15804,\n  },\n});\nconst game_GameOverDialog__C15824_VT = mkVTable({\n  name: \"GameOverDialog\",\n  numFields: 16,\n  classNo: 56,\n  lastSubtypeNo: 56,\n  methods: {\n    \"update\": game_GameOverDialog_update__P15827,\n    \"drawTextCore\": game_GameOverDialog_drawTextCore__P15828,\n  },\n  iface: {\n    \"image\": null,\n    \"set/image\": null,\n    \"frame\": null,\n    \"set/frame\": null,\n    \"cursor\": null,\n    \"set/cursor\": null,\n    \"columns\": null,\n    \"set/columns\": null,\n    \"rows\": null,\n    \"set/rows\": null,\n    \"unit\": null,\n    \"set/unit\": null,\n    \"innerLeft\": null,\n    \"set/innerLeft\": null,\n    \"innerTop\": null,\n    \"set/innerTop\": null,\n    \"cursorCount\": null,\n    \"set/cursorCount\": null,\n    \"font\": null,\n    \"set/font\": null,\n    \"textColor\": null,\n    \"set/textColor\": null,\n    \"cursorOn\": null,\n    \"set/cursorOn\": null,\n    \"isNewHighScore\": null,\n    \"set/isNewHighScore\": null,\n    \"win\": null,\n    \"set/win\": null,\n    \"score\": null,\n    \"set/score\": null,\n    \"highScore\": null,\n    \"set/highScore\": null,\n    \"displayCursor\": game_GameOverDialog_displayCursor__P15826,\n    \"update\": game_GameOverDialog_update__P15827,\n    \"drawTextCore\": game_GameOverDialog_drawTextCore__P15828,\n    \"drawCursorRow\": game_BaseDialog_drawCursorRow__P15797,\n    \"drawBorder\": game_BaseDialog_drawBorder__P15798,\n    \"clearInterior\": game_BaseDialog_clearInterior__P15799,\n    \"drawPartial\": game_BaseDialog_drawPartial__P15800,\n    \"cursorRowHeight\": game_BaseDialog_cursorRowHeight__P15801,\n    \"textAreaWidth\": game_BaseDialog_textAreaWidth__P15803,\n    \"textAreaHeight\": game_BaseDialog_textAreaHeight__P15804,\n  },\n});\nconst music_MelodyPlayer__C15204_VT = mkVTable({\n  name: \"MelodyPlayer\",\n  numFields: 2,\n  classNo: 57,\n  lastSubtypeNo: 57,\n  methods: {\n  },\n  iface: {\n    \"melody\": null,\n    \"set/melody\": null,\n    \"onPlayFinished\": null,\n    \"set/onPlayFinished\": null,\n    \"stop\": music_MelodyPlayer_stop__P15205,\n    \"play\": music_MelodyPlayer_play__P15206,\n  },\n});\nconst scene_OverlapHandler__C15741_VT = mkVTable({\n  name: \"OverlapHandler\",\n  numFields: 3,\n  classNo: 58,\n  lastSubtypeNo: 58,\n  methods: {\n  },\n  iface: {\n    \"kind\": null,\n    \"set/kind\": null,\n    \"otherKind\": null,\n    \"set/otherKind\": null,\n    \"handler\": null,\n    \"set/handler\": null,\n  },\n});\nconst scene_systemMenu_PauseMenu__C16017_VT = mkVTable({\n  name: \"PauseMenu\",\n  numFields: 7,\n  classNo: 59,\n  lastSubtypeNo: 59,\n  methods: {\n  },\n  iface: {\n    \"options\": null,\n    \"set/options\": null,\n    \"theme\": null,\n    \"set/theme\": null,\n    \"selection\": null,\n    \"set/selection\": null,\n    \"scrollRow\": null,\n    \"set/scrollRow\": null,\n    \"scrollTarget\": null,\n    \"set/scrollTarget\": null,\n    \"scrollOffset\": null,\n    \"set/scrollOffset\": null,\n    \"generator\": null,\n    \"set/generator\": null,\n    \"show\": scene_systemMenu_PauseMenu_show__P16018,\n    \"onUpdate\": scene_systemMenu_PauseMenu_onUpdate__P16019,\n    \"setSelection\": scene_systemMenu_PauseMenu_setSelection__P16020,\n    \"drawText\": scene_systemMenu_PauseMenu_drawText__P16021,\n    \"dispose\": scene_systemMenu_PauseMenu_dispose__P16022,\n    \"updateScrollTarget\": scene_systemMenu_PauseMenu_updateScrollTarget__P16023,\n  },\n});\nconst scene_systemMenu_MenuOption__C16008_VT = mkVTable({\n  name: \"MenuOption\",\n  numFields: 8,\n  classNo: 60,\n  lastSubtypeNo: 60,\n  methods: {\n  },\n  iface: {\n    \"card\": null,\n    \"set/card\": null,\n    \"icon\": null,\n    \"set/icon\": null,\n    \"top\": null,\n    \"set/top\": null,\n    \"state\": null,\n    \"set/state\": null,\n    \"theme\": null,\n    \"set/theme\": null,\n    \"iconImage\": null,\n    \"set/iconImage\": null,\n    \"getText\": null,\n    \"set/getText\": null,\n    \"action\": null,\n    \"set/action\": null,\n    \"show\": scene_systemMenu_MenuOption_show__P16009,\n    \"position\": scene_systemMenu_MenuOption_position__P16010,\n    \"setOffset\": scene_systemMenu_MenuOption_setOffset__P16011,\n    \"setTheme\": scene_systemMenu_MenuOption_setTheme__P16012,\n    \"setState\": scene_systemMenu_MenuOption_setState__P16013,\n    \"dispose\": scene_systemMenu_MenuOption_dispose__P16014,\n    \"updateCard\": scene_systemMenu_MenuOption_updateCard__P16015,\n  },\n});\nconst animation_Path__C16347_VT = mkVTable({\n  name: \"Path\",\n  numFields: 2,\n  classNo: 61,\n  lastSubtypeNo: 61,\n  methods: {\n  },\n  iface: {\n    \"nodes\": null,\n    \"set/nodes\": null,\n    \"lastNode\": null,\n    \"set/lastNode\": null,\n    \"run\": animation_Path_run__P16353,\n  },\n});\nconst animation_PathNode__C16355_VT = mkVTable({\n  name: \"PathNode\",\n  numFields: 1,\n  classNo: 62,\n  lastSubtypeNo: 62,\n  methods: {\n    \"apply\": animation_PathNode_apply__P16356,\n  },\n  iface: {\n    \"setStart\": null,\n    \"set/setStart\": null,\n    \"apply\": animation_PathNode_apply__P16356,\n  },\n});\nconst tiles_TileSet__C15697_VT = mkVTable({\n  name: \"TileSet\",\n  numFields: 4,\n  classNo: 63,\n  lastSubtypeNo: 63,\n  methods: {\n  },\n  iface: {\n    \"obstacle\": null,\n    \"set/obstacle\": null,\n    \"map\": null,\n    \"set/map\": null,\n    \"originalImage\": null,\n    \"set/originalImage\": null,\n    \"cachedImage\": null,\n    \"set/cachedImage\": null,\n    \"image\": tiles_TileSet_image__P15698,\n  },\n});\nconst MovingSprite__C15566_VT = mkVTable({\n  name: \"MovingSprite\",\n  numFields: 7,\n  classNo: 64,\n  lastSubtypeNo: 64,\n  methods: {\n  },\n  iface: {\n    \"sprite\": null,\n    \"set/sprite\": null,\n    \"cachedVx\": null,\n    \"set/cachedVx\": null,\n    \"cachedVy\": null,\n    \"set/cachedVy\": null,\n    \"dx\": null,\n    \"set/dx\": null,\n    \"dy\": null,\n    \"set/dy\": null,\n    \"xStep\": null,\n    \"set/xStep\": null,\n    \"yStep\": null,\n    \"set/yStep\": null,\n  },\n});\nconst sprites_StaticObstacle__C15541_VT = mkVTable({\n  name: \"StaticObstacle\",\n  numFields: 5,\n  classNo: 65,\n  lastSubtypeNo: 65,\n  methods: {\n  },\n  iface: {\n    \"layer\": null,\n    \"set/layer\": null,\n    \"image\": null,\n    \"set/image\": null,\n    \"tileIndex\": null,\n    \"set/tileIndex\": null,\n    \"top\": null,\n    \"set/top\": null,\n    \"left\": null,\n    \"set/left\": null,\n    \"x\": sprites_StaticObstacle_x__P15542,\n    \"y\": sprites_StaticObstacle_y__P15543,\n    \"height\": sprites_StaticObstacle_height__P15544,\n    \"width\": sprites_StaticObstacle_width__P15545,\n  },\n});\n\nconst breakpoints = setupDebugger(1, [\"Obstacle___29641\",\"bunny___29649\",\"gravity___29656\",\"bird___29683\",\"difficultyFactor___29778\",\"osbstacleSpeed___29777\",\"numObstacles___29776\",\"newObstacle___29774\",\"obstacles___29686\",\"projectile___29772\",\"grass___29770\",\"grassImages___29702\",\"tree___29731\",\"trees___29693\",\"cloud___29747\",\"clouds___29717\",\"birdFrames___29659\"])\n\nreturn _main___P29931\n})\n`","import * as events from './svgEvents'\n\nexport type Map<T> = {\n    [index: string]: T;\n};\n\nexport type PointerHandler = () => void;\n\nexport enum PatternUnits {\n    userSpaceOnUse = 0,\n    objectBoundingBox = 1,\n}\n\nexport enum LengthUnit {\n    em,\n    ex,\n    px,\n    in,\n    cm,\n    mm,\n    pt,\n    pc,\n    percent\n}\n\nconst XLINK_NAMESPACE = \"http://www.w3.org/1999/xlink\";\n\nexport class BaseElement<T extends SVGElement> {\n    el: T;\n    protected titleElement: SVGTitleElement;\n    constructor(type: string) {\n        this.el = elt(type) as T;\n    }\n    attr(attributes: Map<string | number | boolean>): this {\n        Object.keys(attributes).forEach(at => {\n            this.setAttribute(at, attributes[at]);\n        });\n        return this;\n    }\n\n    setAttribute(name: string, value: string | number | boolean): this {\n        this.el.setAttribute(name, value.toString());\n        return this;\n    }\n\n    setAttributeNS(ns: string, name: string, value: string | number | boolean): this {\n        this.el.setAttributeNS(ns, name, value.toString());\n        return this;\n    }\n\n    id(id: string): this {\n        return this.setAttribute(\"id\", id);\n    }\n\n    setClass(...classes: string[]): this {\n        return this.setAttribute(\"class\", classes.join(\" \"));\n    }\n\n\n\n    addClassInternal(el: SVGElement | HTMLElement, classes: string) {\n        classes\n            .split(/\\s+/)\n            .forEach(cls => addSingleClass(el, cls));\n\n        function addSingleClass(el: SVGElement | HTMLElement, cls: string) {\n            if (el.classList) {\n                el.classList.add(cls);\n            } else {\n                const classes = (el.className + \"\").split(/\\s+/);\n                if (classes.indexOf(cls) < 0) {\n                    el.className.baseVal += \" \" + cls;\n                }\n            }\n        }\n    }\n\n    removeClassInternal(el: SVGElement | HTMLElement, classes: string) {\n        classes\n            .split(/\\s+/)\n            .forEach(cls => removeSingleClass(el, cls));\n\n        function removeSingleClass(el: SVGElement | HTMLElement, cls: string) {\n            if (el.classList) {\n                el.classList.remove(cls);\n            } else {\n                el.className.baseVal = (el.className + \"\")\n                    .split(/\\s+/)\n                    .filter(c => c != cls)\n                    .join(\" \");\n            }\n        }\n    }\n\n\n    appendClass(className: string): this {\n        this.addClassInternal(this.el, className);\n        return this;\n    }\n\n    removeClass(className: string): void {\n        this.removeClassInternal(this.el, className);\n    }\n\n    title(text: string) {\n        if (!this.titleElement) {\n            this.titleElement = elt(\"title\");\n\n            // Title has to be the first child in the DOM\n            if (this.el.firstChild) {\n                this.el.insertBefore(this.titleElement, this.el.firstChild)\n            }\n            else {\n                this.el.appendChild(this.titleElement);\n            }\n        }\n        this.titleElement.textContent = text;\n    }\n\n    setVisible(visible: boolean): this {\n        return this.setAttribute(\"visibility\", visible ? \"visible\" : \"hidden\");\n    }\n}\n\nexport class DrawContext<T extends SVGElement> extends BaseElement<T> {\n    draw(type: \"text\"): Text;\n    draw(type: \"circle\"): Circle;\n    draw(type: \"rect\"): Rect;\n    draw(type: \"line\"): Line;\n    draw(type: \"polygon\"): Polygon;\n    draw(type: \"polyline\"): Polyline;\n    draw(type: \"path\"): Path;\n    draw(type: string): Drawable<SVGElement> {\n        const el = drawable(type as any /*FIXME?*/);\n        this.el.appendChild(el.el);\n        return el;\n    }\n\n    element(type: \"text\", cb: (newElement: Text) => void): this;\n    element(type: \"circle\", cb: (newElement: Circle) => void): this;\n    element(type: \"rect\", cb: (newElement: Rect) => void): this;\n    element(type: \"line\", cb: (newElement: Line) => void): this;\n    element(type: \"polygon\", cb: (newElement: Polygon) => void): this;\n    element(type: \"polyline\", cb: (newElement: Polyline) => void): this;\n    element(type: \"path\", cb: (newElement: Path) => void): this;\n    element(type: string, cb: (newElement: any) => void): this {\n        cb(this.draw(type as any /*FIXME?*/));\n        return this;\n    }\n\n    group(): Group {\n        const g = new Group();\n        this.el.appendChild(g.el);\n        return g;\n    }\n\n    appendChild<T extends SVGElement>(child: BaseElement<T>): void {\n        this.el.appendChild(child.el);\n    }\n\n    onDown(handler: PointerHandler): this {\n        events.down(this.el, handler);\n        return this;\n    }\n\n    onUp(handler: PointerHandler): this {\n        events.up(this.el, handler);\n        return this;\n    }\n\n    onMove(handler: PointerHandler): this {\n        events.move(this.el, handler);\n        return this;\n    }\n\n    onEnter(handler: (isDown: boolean) => void): this {\n        events.enter(this.el, handler);\n        return this;\n    }\n\n    onLeave(handler: PointerHandler): this {\n        events.leave(this.el, handler);\n        return this;\n    }\n\n    onClick(handler: PointerHandler): this {\n        events.click(this.el, handler);\n        return this;\n    }\n}\n\nexport class SVG extends DrawContext<SVGSVGElement> {\n    defs: DefsElement;\n    constructor(parent?: Element) {\n        super(\"svg\");\n        if (parent) {\n            parent.appendChild(this.el);\n        }\n    }\n\n    define(cb: (defs: DefsElement) => void): this {\n        if (!this.defs) {\n            this.defs = new DefsElement(this.el);\n        }\n        cb(this.defs);\n        return this;\n    }\n}\n\nexport class Group extends DrawContext<SVGGElement> {\n    top: number;\n    left: number;\n    scaleFactor: number;\n\n    constructor(parent?: SVGElement) {\n        super(\"g\");\n        if (parent) {\n            parent.appendChild(this.el);\n        }\n    }\n\n    translate(x: number, y: number): this {\n        this.left = x;\n        this.top = y;\n        return this.updateTransform();\n    }\n\n    scale(factor: number): this {\n        this.scaleFactor = factor;\n        return this.updateTransform();\n    }\n\n    def() {\n        return new DefsElement(this.el);\n    }\n\n    style() {\n        return new StyleElement(this.el);\n    }\n\n    private updateTransform(): this {\n        let transform = \"\";\n        if (this.left != undefined) {\n            transform += `translate(${this.left} ${this.top})`\n        }\n        if (this.scaleFactor != undefined) {\n            transform += ` scale(${this.scaleFactor})`\n        }\n        this.setAttribute(\"transform\", transform);\n        return this;\n    }\n}\n\nexport class Pattern extends DrawContext<SVGPatternElement> {\n    constructor() {\n        super(\"pattern\");\n    }\n\n    units(kind: PatternUnits): this {\n        return this.setAttribute(\"patternUnits\", kind === PatternUnits.objectBoundingBox ? \"objectBoundingBox\" : \"userSpaceOnUse\")\n    }\n\n    contentUnits(kind: PatternUnits): this {\n        return this.setAttribute(\"patternContentUnits\", kind === PatternUnits.objectBoundingBox ? \"objectBoundingBox\" : \"userSpaceOnUse\")\n    }\n\n    size(width: number, height: number): this {\n        this.setAttribute(\"width\", width);\n        this.setAttribute(\"height\", height);\n        return this;\n    }\n}\n\nexport class DefsElement extends BaseElement<SVGDefsElement> {\n    constructor(parent: SVGElement) {\n        super(\"defs\");\n        parent.appendChild(this.el);\n    }\n\n    create(type: \"path\", id: string): Path;\n    create(type: \"pattern\", id: string): Pattern;\n    create(type: \"radialGradient\", id: string): RadialGradient;\n    create(type: \"linearGradient\", id: string): LinearGradient;\n    create(type: \"clipPath\", id: string): ClipPath;\n    create(type: string, id: string): BaseElement<any> {\n        let el: BaseElement<SVGElement>;\n        switch (type) {\n            case \"path\": el = new Path(); break;\n            case \"pattern\": el = new Pattern(); break;\n            case \"radialGradient\": el = new RadialGradient(); break;\n            case \"linearGradient\": el = new LinearGradient(); break;\n            case \"clipPath\": el = new ClipPath(); break;\n            default: el = new BaseElement(type);\n        }\n        el.id(id);\n        this.el.appendChild(el.el);\n        return el;\n    }\n}\n\nexport class StyleElement extends BaseElement<SVGStyleElement> {\n    constructor(parent: SVGElement) {\n        super(\"style\");\n        parent.appendChild(this.el);\n    }\n\n    content(css: string) {\n        this.el.textContent = css;\n    }\n}\n\nexport class Drawable<T extends SVGElement> extends DrawContext<T> {\n    at(x: number, y: number): this {\n        this.setAttribute(\"x\", x);\n        this.setAttribute(\"y\", y);\n        return this;\n    }\n\n    moveTo(x: number, y: number): this {\n        return this.at(x, y);\n    }\n\n    fill(color: string, opacity?: number): this {\n        this.setAttribute(\"fill\", color);\n        if (opacity != undefined) {\n            this.opacity(opacity);\n        }\n        return this;\n    }\n\n    opacity(opacity: number): this {\n        return this.setAttribute(\"fill-opacity\", opacity);\n    }\n\n    stroke(color: string, width?: number): this {\n        this.setAttribute(\"stroke\", color);\n        if (width != undefined) {\n            this.strokeWidth(width);\n        }\n        return this;\n    }\n\n    strokeWidth(width: number): this {\n        return this.setAttribute(\"stroke-width\", width);\n    }\n\n    strokeOpacity(opacity: number): this {\n        return this.setAttribute(\"stroke-opacity\", opacity);\n    }\n\n    clipPath(url: string): this {\n        return this.setAttribute(\"clip-path\", url);\n    }\n}\n\nexport class Text extends Drawable<SVGTextElement> {\n    constructor(text?: string) {\n        super(\"text\");\n\n        if (text != undefined) {\n            this.text(text);\n        }\n    }\n\n    text(text: string): this {\n        this.el.textContent = text;\n        return this;\n    }\n\n    fontFamily(family: string) {\n        return this.setAttribute(\"font-family\", family);\n    }\n\n    fontSize(size: number, units: LengthUnit) {\n        return this.setAttribute(\"font-size\", lengthWithUnits(size, units));\n    }\n\n    offset(dx: number, dy: number, units: LengthUnit) {\n        if (dx !== 0) {\n            this.setAttribute(\"dx\", lengthWithUnits(dx, units));\n        }\n        if (dy !== 0) {\n            this.setAttribute(\"dy\", lengthWithUnits(dy, units));\n        }\n        return this;\n    }\n\n    anchor(type: \"start\" | \"middle\" | \"end\" | \"inherit\") {\n        return this.setAttribute(\"text-anchor\", type);\n    }\n}\n\nexport class Rect extends Drawable<SVGRectElement> {\n    constructor() { super(\"rect\") };\n\n    width(width: number, unit = LengthUnit.px): this {\n        return this.setAttribute(\"width\", lengthWithUnits(width, unit));\n    }\n\n    height(height: number, unit = LengthUnit.px): this {\n        return this.setAttribute(\"height\", lengthWithUnits(height, unit));\n    }\n\n    corner(radius: number): this {\n        return this.corners(radius, radius);\n    }\n\n    corners(rx: number, ry: number): this {\n        this.setAttribute(\"rx\", rx);\n        this.setAttribute(\"ry\", ry);\n        return this;\n    }\n\n    size(width: number, height: number, unit = LengthUnit.px): this {\n        this.width(width, unit);\n        this.height(height, unit);\n        return this;\n    }\n}\n\nexport class Circle extends Drawable<SVGCircleElement> {\n    constructor() { super(\"circle\"); }\n\n    at(cx: number, cy: number): this {\n        this.setAttribute(\"cx\", cx);\n        this.setAttribute(\"cy\", cy);\n        return this;\n    }\n\n    radius(r: number): this {\n        return this.setAttribute(\"r\", r);\n    }\n}\n\nclass Ellipse extends Drawable<SVGEllipseElement> {\n    constructor() { super(\"ellipse\"); }\n\n    at(cx: number, cy: number): this {\n        this.setAttribute(\"cx\", cx);\n        this.setAttribute(\"cy\", cy);\n        return this;\n    }\n\n    radius(rx: number, ry: number): this {\n        this.setAttribute(\"rx\", rx);\n        this.setAttribute(\"ry\", ry);\n        return this;\n    }\n}\n\nexport class Line extends Drawable<SVGLineElement> {\n    constructor() { super(\"line\"); }\n\n    at(x1: number, y1: number, x2?: number, y2?: number): this {\n        this.from(x1, y1);\n        if (x2 != undefined && y2 != undefined) {\n            this.to(x2, y2);\n        }\n        return this;\n    }\n\n    from(x1: number, y1: number): this {\n        this.setAttribute(\"x1\", x1);\n        this.setAttribute(\"y1\", y1);\n        return this;\n    }\n\n    to(x2: number, y2: number): this {\n        this.setAttribute(\"x2\", x2);\n        this.setAttribute(\"y2\", y2);\n        return this;\n    }\n}\n\nexport class PolyElement<T extends SVGPolygonElement | SVGPolylineElement> extends Drawable<T> {\n    points(points: string): this {\n        return this.setAttribute(\"points\", points);\n    }\n\n    with(points: {\n        x: number;\n        y: number;\n    }[]): this {\n        return this.points(points.map(({ x, y }) => x + \" \" + y).join(\",\"))\n    }\n}\n\nexport class Polyline extends PolyElement<SVGPolylineElement> {\n    constructor() { super(\"polyline\") }\n}\n\nexport class Polygon extends PolyElement<SVGPolygonElement> {\n    constructor() { super(\"polygon\") }\n}\n\nexport class Path extends Drawable<SVGPathElement> {\n    d: PathContext;\n\n    constructor() {\n        super(\"path\");\n        this.d = new PathContext();\n    }\n\n    update(): this {\n        return this.setAttribute(\"d\", this.d.toAttribute());\n    }\n\n    path(cb: (d: PathContext) => void): this {\n        cb(this.d);\n        return this.update();\n    }\n}\n\nexport class Image extends Drawable<SVGImageElement> {\n    constructor() { super(\"image\") }\n\n    src(url: string) {\n        return this.setAttributeNS(XLINK_NAMESPACE, \"href\", url);\n    }\n\n    width(width: number, unit = LengthUnit.px): this {\n        return this.setAttribute(\"width\", lengthWithUnits(width, unit));\n    }\n\n    height(height: number, unit = LengthUnit.px): this {\n        return this.setAttribute(\"height\", lengthWithUnits(height, unit));\n    }\n\n    size(width: number, height: number, unit = LengthUnit.px): this {\n        this.width(width, unit);\n        this.height(height, unit);\n        return this;\n    }\n}\n\nexport class Gradient<T extends SVGGradientElement> extends BaseElement<T> {\n    units(kind: PatternUnits): this {\n        return this.setAttribute(\"gradientUnits\", kind === PatternUnits.objectBoundingBox ? \"objectBoundingBox\" : \"userSpaceOnUse\")\n    }\n\n    stop(offset: number, color?: string, opacity?: string): this {\n        const s = elt(\"stop\");\n        s.setAttribute(\"offset\", offset + \"%\");\n        if (color != undefined) {\n            s.setAttribute(\"stop-color\", color);\n        }\n\n        if (opacity != undefined) {\n            s.setAttribute(\"stop-opacity\", opacity);\n        }\n\n        this.el.appendChild(s);\n        return this;\n    }\n}\n\nexport class LinearGradient extends Gradient<SVGLinearGradientElement> {\n    constructor() { super(\"linearGradient\"); }\n\n    start(x1: number, y1: number): this {\n        this.setAttribute(\"x1\", x1);\n        this.setAttribute(\"y1\", y1);\n        return this;\n    }\n\n    end(x2: number, y2: number): this {\n        this.setAttribute(\"x2\", x2);\n        this.setAttribute(\"y2\", y2);\n        return this;\n    }\n}\n\nexport class RadialGradient extends Gradient<SVGRadialGradientElement> {\n    constructor() { super(\"radialGradient\"); }\n\n    center(cx: number, cy: number): this {\n        this.setAttribute(\"cx\", cx);\n        this.setAttribute(\"cy\", cy);\n        return this;\n    }\n\n    focus(fx: number, fy: number, fr: number): this {\n        this.setAttribute(\"fx\", fx);\n        this.setAttribute(\"fy\", fy);\n        this.setAttribute(\"fr\", fr);\n        return this;\n    }\n\n    radius(r: number): this {\n        return this.setAttribute(\"r\", r);\n    }\n}\n\nexport class ClipPath extends DrawContext<SVGClipPathElement> {\n    constructor() { super(\"clipPath\") }\n\n    clipPathUnits(objectBoundingBox: boolean) {\n        if (objectBoundingBox) {\n            return this.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n        }\n        else {\n            return this.setAttribute(\"clipPathUnits\", \"userSpaceOnUse\");\n        }\n    }\n}\n\nfunction elt(type: string): SVGElement {\n    let el = document.createElementNS(\"http://www.w3.org/2000/svg\", type);\n    return el;\n}\n\nfunction drawable(type: \"text\"): Text;\nfunction drawable(type: \"circle\"): Circle;\nfunction drawable(type: \"rect\"): Rect;\nfunction drawable(type: \"line\"): Line;\nfunction drawable(type: \"polygon\"): Polygon;\nfunction drawable(type: \"polyline\"): Polyline;\nfunction drawable(type: \"path\"): Path;\nfunction drawable(type: string): Drawable<SVGElement> {\n    switch (type) {\n        case \"text\": return new Text();\n        case \"circle\": return new Circle();\n        case \"rect\": return new Rect();\n        case \"line\": return new Line();\n        case \"polygon\": return new Polygon();\n        case \"polyline\": return new Polyline();\n        case \"path\": return new Path();\n        default: return new Drawable(type);\n    }\n}\n\nexport type OperatorSymbol = \"m\" | \"M\" | \"l\" | \"L\" | \"c\" | \"C\" | \"q\" | \"Q\" | \"T\" | \"t\" | \"S\" | \"s\" | \"z\" | \"Z\" | \"A\" | \"a\";\nexport interface PathOp {\n    op: OperatorSymbol;\n    args: number[];\n}\nexport class PathContext {\n    private ops: PathOp[] = [];\n\n    clear(): void {\n        this.ops = [];\n    }\n\n    moveTo(x: number, y: number): this {\n        return this.op(\"M\", x, y);\n    }\n\n    moveBy(dx: number, dy: number): this {\n        return this.op(\"m\", dx, dy);\n    }\n\n    lineTo(x: number, y: number): this {\n        return this.op(\"L\", x, y);\n    }\n\n    lineBy(dx: number, dy: number): this {\n        return this.op(\"l\", dx, dy);\n    }\n\n    cCurveTo(c1x: number, c1y: number, c2x: number, c2y: number, x: number, y: number): this {\n        return this.op(\"C\", c1x, c1y, c2x, c2y, x, y);\n    }\n\n    cCurveBy(dc1x: number, dc1y: number, dc2x: number, dc2y: number, dx: number, dy: number): this {\n        return this.op(\"c\", dc1x, dc1y, dc2x, dc2y, dx, dy);\n    }\n\n    qCurveTo(cx: number, cy: number, x: number, y: number): this {\n        return this.op(\"Q\", cx, cy, x, y);\n    }\n\n    qCurveBy(dcx: number, dcy: number, dx: number, dy: number): this {\n        return this.op(\"q\", dcx, dcy, dx, dy);\n    }\n\n    sCurveTo(cx: number, cy: number, x: number, y: number): this {\n        return this.op(\"S\", cx, cy, x, y);\n    }\n\n    sCurveBy(dcx: number, dcy: number, dx: number, dy: number): this {\n        return this.op(\"s\", dcx, dcy, dx, dy);\n    }\n\n    tCurveTo(x: number, y: number): this {\n        return this.op(\"T\", x, y);\n    }\n\n    tCurveBy(dx: number, dy: number): this {\n        return this.op(\"t\", dx, dy);\n    }\n\n    arcTo(rx: number, ry: number, xRotate: number, large: boolean, sweepClockwise: boolean, x: number, y: number): this {\n        return this.op(\"A\", rx, ry, xRotate, large ? 1 : 0, sweepClockwise ? 1 : 0, x, y);\n    }\n\n    arcBy(rx: number, ry: number, xRotate: number, large: boolean, sweepClockwise: boolean, x: number, y: number): this {\n        return this.op(\"a\", rx, ry, xRotate, large ? 1 : 0, sweepClockwise ? 1 : 0, x, y);\n    }\n\n    close(): this {\n        return this.op(\"z\");\n    }\n\n    toAttribute(): string {\n        return this.ops.map(op => op.op + \" \" + op.args.join(\" \")).join(\" \");\n    }\n\n    private op(op: OperatorSymbol, ...args: number[]) {\n        this.ops.push({\n            op,\n            args\n        });\n        return this;\n    }\n}\n\nfunction lengthWithUnits(value: number, unit: LengthUnit) {\n    switch (unit) {\n        case LengthUnit.em: return value + \"em\";\n        case LengthUnit.ex: return value + \"ex\";\n        case LengthUnit.px: return value + \"px\";\n        case LengthUnit.in: return value + \"in\";\n        case LengthUnit.cm: return value + \"cm\";\n        case LengthUnit.mm: return value + \"mm\";\n        case LengthUnit.pt: return value + \"pt\";\n        case LengthUnit.pc: return value + \"pc\";\n        case LengthUnit.percent: return value + \"%\";\n        default: return value.toString();\n    }\n}","\n\nexport function isTouchEnabled(): boolean {\n    return typeof window !== \"undefined\" &&\n        ('ontouchstart' in window                              // works on most browsers\n            || (navigator && navigator.maxTouchPoints > 0));       // works on IE10/11 and Surface);\n}\n\nexport function hasPointerEvents(): boolean {\n    return typeof window != \"undefined\" && !!(window as any).PointerEvent;\n}\n\nexport function down(el: SVGElement, handler: () => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointerdown\", handler);\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"mousedown\", handler);\n        el.addEventListener(\"touchstart\", handler);\n    }\n    else {\n        el.addEventListener(\"mousedown\", handler);\n    }\n}\n\nexport function up(el: SVGElement, handler: () => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointerup\", handler);\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"mouseup\", handler);\n    }\n    else {\n        el.addEventListener(\"mouseup\", handler);\n    }\n}\n\nexport function enter(el: SVGElement, handler: (isDown: boolean) => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointerover\", e => {\n            handler(!!(e.buttons & 1))\n        });\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"touchstart\", e => {\n            handler(true);\n        });\n    }\n    else {\n        el.addEventListener(\"mouseover\", e => {\n            handler(!!(e.buttons & 1))\n        });\n    }\n}\n\nexport function leave(el: SVGElement, handler: () => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointerleave\", handler);\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"touchend\", handler);\n    }\n    else {\n        el.addEventListener(\"mouseleave\", handler);\n    }\n}\n\nexport function move(el: SVGElement, handler: () => void) {\n    if (hasPointerEvents()) {\n        el.addEventListener(\"pointermove\", handler);\n    }\n    else if (isTouchEnabled()) {\n        el.addEventListener(\"touchmove\", handler);\n    }\n    else {\n        el.addEventListener(\"mousemove\", handler);\n    }\n}\n\nexport function click(el: SVGElement, handler: () => void) {\n    el.addEventListener(\"click\", handler);\n}","export const DRAG_RADIUS = 3;\n\nexport function hasPointerEvents(): boolean {\n    return typeof window != \"undefined\" && !!(window as any).PointerEvent;\n}\n\nexport function isTouchEnabled(): boolean {\n    return typeof window !== \"undefined\" &&\n        ('ontouchstart' in window                              // works on most browsers\n            || (navigator && navigator.maxTouchPoints > 0));       // works on IE10/11 and Surface);\n}\n\nexport enum MapTools {\n    Pan,\n    Stamp,\n    Erase\n}\n\nexport class Bitmask {\n    protected mask: Uint8Array;\n\n    constructor(public width: number, public height: number) {\n        this.mask = new Uint8Array(Math.ceil(width * height / 8));\n    }\n\n    set(col: number, row: number) {\n        const cellIndex = col + this.width * row;\n        const index = cellIndex >> 3;\n        const offset = cellIndex & 7;\n        this.mask[index] |= (1 << offset);\n    }\n\n    get(col: number, row: number) {\n        const cellIndex = col + this.width * row;\n        const index = cellIndex >> 3;\n        const offset = cellIndex & 7;\n        return (this.mask[index] >> offset) & 1;\n    }\n}\n\nexport interface IPointerEvents {\n    up: string,\n    down: string[],\n    move: string,\n    enter: string,\n    leave: string\n}\n\nexport const pointerEvents: IPointerEvents = (() => {\n    if (hasPointerEvents()) {\n        return {\n            up: \"pointerup\",\n            down: [\"pointerdown\"],\n            move: \"pointermove\",\n            enter: \"pointerenter\",\n            leave: \"pointerleave\"\n        }\n    } else if (isTouchEnabled()) {\n        return {\n            up: \"mouseup\",\n            down: [\"mousedown\", \"touchstart\"],\n            move: \"touchmove\",\n            enter: \"touchenter\",\n            leave: \"touchend\"\n        }\n    } else {\n        return {\n            up: \"mouseup\",\n            down: [\"mousedown\"],\n            move: \"mousemove\",\n            enter: \"mouseenter\",\n            leave: \"mouseleave\"\n        }\n    }\n})();\n\nexport interface ClientCoordinates {\n    clientX: number;\n    clientY: number;\n}\n\nexport function clientCoord(ev: PointerEvent | MouseEvent | TouchEvent): ClientCoordinates {\n    if ((ev as TouchEvent).touches) {\n        const te = ev as TouchEvent;\n        if (te.touches.length) {\n            return te.touches[0];\n        }\n        return te.changedTouches[0];\n    }\n    return (ev as PointerEvent | MouseEvent);\n}\n\nexport async function loadImageAsync(src: string) {\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n        const el = document.createElement(\"img\");\n\n        el.onload = () => resolve(el);\n        el.onerror = () => reject('');\n\n        el.src = src;\n    })\n}\n\nexport interface GestureTarget {\n    onClick(coord: ClientCoordinates): void;\n    onDragStart(coord: ClientCoordinates): void;\n    onDragMove(coord: ClientCoordinates): void;\n    onDragEnd(coord: ClientCoordinates): void;\n}\n\nexport class GestureState {\n    startX: number;\n    startY: number;\n\n    currentX: number;\n    currentY: number;\n\n    isDrag: boolean;\n\n    constructor(protected target: GestureTarget, coord: ClientCoordinates) {\n        this.startX = coord.clientX;\n        this.startY = coord.clientY;\n\n        this.currentX = coord.clientX;\n        this.currentY = coord.clientY;\n    }\n\n    update(coord: ClientCoordinates) {\n        this.currentX = coord.clientX;\n        this.currentY = coord.clientY;\n\n        if (!this.isDrag && this.distance() > DRAG_RADIUS) {\n            this.isDrag = true;\n            this.target.onDragStart(coord);\n        }\n        else if (this.isDrag) {\n            this.target.onDragMove(coord);\n        }\n    }\n\n    end(coord?: ClientCoordinates) {\n        if (coord) {\n            this.update(coord);\n        }\n\n        coord = coord || { clientX: this.currentX, clientY: this.currentY };\n\n        if (this.isDrag) {\n            this.target.onDragEnd(coord);\n        }\n        else {\n            this.target.onClick(coord);\n        }\n    }\n\n    distance() {\n        return Math.sqrt(Math.pow(this.currentX - this.startX, 2) + Math.pow(this.currentY - this.startY, 2));\n    }\n}\n\nexport function bindGestureEvents(el: HTMLElement, target: GestureTarget) {\n    let state: GestureState;\n\n    let upHandler = (ev: MouseEvent) => {\n        endGesture(ev);\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    let leaveHandler = (ev: MouseEvent) => {\n        endGesture(ev);\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    let moveHandler = (ev: MouseEvent) => {\n        if (state) state.update(clientCoord(ev));\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    let startGesture = (ev: MouseEvent | PointerEvent | TouchEvent) => {\n        if (state) state.end();\n\n        state = new GestureState(target, clientCoord(ev));\n\n        document.addEventListener(pointerEvents.move, <EventListener>moveHandler);\n        document.addEventListener(pointerEvents.up, <EventListener>upHandler);\n\n        if (isTouchEnabled() && !hasPointerEvents()) {\n            document.addEventListener(\"touchend\", <EventListener>upHandler);\n            document.addEventListener(\"touchcancel\", <EventListener>leaveHandler);\n        }\n        else {\n            document.addEventListener(pointerEvents.leave, <EventListener>leaveHandler);\n        }\n    }\n\n    let endGesture = (ev: MouseEvent | PointerEvent | TouchEvent) => {\n        if (state) state.end(clientCoord(ev));\n\n        state = undefined;\n\n        document.removeEventListener(pointerEvents.move, <EventListener>moveHandler);\n        document.removeEventListener(pointerEvents.up, <EventListener>upHandler);\n        document.removeEventListener(pointerEvents.leave, <EventListener>leaveHandler);\n\n        if (isTouchEnabled() && !hasPointerEvents()) {\n            document.removeEventListener(\"touchend\", <EventListener>upHandler);\n            document.removeEventListener(\"touchcancel\", <EventListener>leaveHandler);\n        }\n        else {\n            document.removeEventListener(pointerEvents.leave, <EventListener>leaveHandler);\n        }\n    }\n\n    pointerEvents.down.forEach(evId => {\n        el.addEventListener(evId, <EventListener>startGesture);\n    });\n}","import { CanvasState } from './canvasState'\nimport { Coord } from './bitmap';\nimport { Bitmask } from './util';\n\nexport enum PaintTool {\n    Normal = 0,\n    Rectangle = 1,\n    Outline = 2,\n    Circle = 3,\n    Fill = 4,\n    Line = 5,\n    Erase = 6,\n    Marquee = 7,\n}\n\nexport function getPaintToolShortcut(tool: PaintTool) {\n    switch (tool) {\n        case PaintTool.Normal:\n            return \"p\";\n        case PaintTool.Rectangle:\n            return \"r\";\n        case PaintTool.Circle:\n            return \"c\";\n        case PaintTool.Fill:\n            return \"b\";\n        case PaintTool.Line:\n            return \"l\";\n        case PaintTool.Erase:\n            return \"e\";\n        case PaintTool.Marquee:\n            return \"s\";\n        default:\n            return undefined;\n    }\n}\n\nexport class Cursor {\n    offsetX: number;\n    offsetY: number;\n    constructor(public readonly width: number, public readonly height: number) {\n        this.offsetX = -(width >> 1);\n        this.offsetY = -(height >> 1);\n    }\n}\n\nexport abstract class Edit {\n    protected startCol: number;\n    protected startRow: number;\n    isStarted: boolean;\n    showPreview: boolean;\n\n    constructor(protected canvasWidth: number, protected canvasHeight: number, public color: number, protected toolWidth: number) {\n    }\n\n    public abstract update(col: number, row: number): void;\n    protected abstract doEditCore(state: CanvasState): void;\n\n    public doEdit(state: CanvasState): void {\n        if (this.isStarted) {\n            this.doEditCore(state);\n        }\n    }\n\n\n    start(cursorCol: number, cursorRow: number, state: CanvasState) {\n        this.isStarted = true;\n        this.startCol = cursorCol;\n        this.startRow = cursorRow;\n\n        state.mergeFloatingLayer();\n    }\n\n\n    end(col: number, row: number, state: CanvasState): void {\n\n    }\n\n\n    getCursor(): Cursor {\n        return new Cursor(this.toolWidth, this.toolWidth);\n    }\n\n    drawCursor(col: number, row: number, draw: (c: number, r: number) => void) {\n        draw(col, row);\n    }\n}\n\nexport abstract class SelectionEdit extends Edit {\n    protected endCol: number;\n    protected endRow: number;\n    protected isDragged: boolean;\n\n    update(col: number, row: number) {\n        this.endCol = col;\n        this.endRow = row;\n\n        if (!this.isDragged && !(col == this.startCol && row == this.startRow)) {\n            this.isDragged = true;\n        }\n    }\n\n    protected topLeft(): Coord {\n        return {\n            x: Math.min(this.startCol, this.endCol),\n            y: Math.min(this.startRow, this.endRow)\n        };\n    }\n\n    protected bottomRight(): Coord {\n        return {\n            x: Math.max(this.startCol, this.endCol),\n            y: Math.max(this.startRow, this.endRow)\n        };\n    }\n}\n\n/**\n * Regular old drawing tool\n */\nexport class PaintEdit extends Edit {\n    protected mask: Bitmask;\n    showPreview = true;\n\n    constructor(canvasWidth: number, canvasHeight: number, color: number, toolWidth: number) {\n        super(canvasWidth, canvasHeight, color, toolWidth);\n        this.mask = new Bitmask(canvasWidth, canvasHeight);\n    }\n\n    update(col: number, row: number) {\n        // Interpolate (Draw a line) from startCol, startRow to col, row\n        this.interpolate(this.startCol, this.startRow, col, row);\n\n        this.startCol = col;\n        this.startRow = row;\n    }\n\n    // https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm\n    protected interpolate(x0: number, y0: number, x1: number, y1: number) {\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n        const draw = (c: number, r: number) => this.mask.set(c, r);\n        if (dx === 0) {\n            const startY = dy >= 0 ? y0 : y1;\n            const endY = dy >= 0 ? y1 : y0;\n            for (let y = startY; y <= endY; y++) {\n                this.drawCore(x0, y, draw);\n            }\n            return;\n        }\n\n        const xStep = dx > 0 ? 1 : -1;\n        const yStep = dy > 0 ? 1 : -1;\n        const dErr = Math.abs(dy / dx);\n\n        let err = 0;\n        let y = y0;\n        for (let x = x0; xStep > 0 ? x <= x1 : x >= x1; x += xStep) {\n            this.drawCore(x, y, draw);\n            err += dErr;\n            while (err >= 0.5) {\n                if (yStep > 0 ? y <= y1 : y >= y1) {\n                    this.drawCore(x, y, draw);\n                }\n                y += yStep;\n                err -= 1;\n            }\n        }\n    }\n\n    protected doEditCore(state: CanvasState) {\n        for (let c = 0; c < state.width; c++) {\n            for (let r = 0; r < state.height; r++) {\n                if (this.mask.get(c, r)) {\n                    state.image.set(c, r, this.color);\n                }\n            }\n        }\n    }\n\n    drawCursor(col: number, row: number, draw: (c: number, r: number) => void) {\n        this.drawCore(col, row, draw);\n    }\n\n    protected drawCore(col: number, row: number, setPixel: (col: number, row: number) => void) {\n        col = col - Math.floor(this.toolWidth / 2);\n        row = row - Math.floor(this.toolWidth / 2);\n        for (let i = 0; i < this.toolWidth; i++) {\n            for (let j = 0; j < this.toolWidth; j++) {\n                const c = col + i;\n                const r = row + j;\n\n                if (c >= 0 && c < this.canvasWidth && r >= 0 && r < this.canvasHeight) {\n                    setPixel(col + i, row + j);\n                }\n            }\n        }\n    }\n}\n\n/**\n * Tool for drawing filled rectangles\n */\nexport class RectangleEdit extends SelectionEdit {\n    showPreview = true;\n\n    protected doEditCore(state: CanvasState) {\n        const tl = this.topLeft();\n        const br = this.bottomRight();\n        for (let c = tl.x; c <= br.x; c++) {\n            for (let r = tl.y; r <= br.y; r++) {\n                state.image.set(c, r, this.color);\n            }\n        }\n    }\n}\n\n/**\n * Tool for drawing empty rectangles\n */\nexport class OutlineEdit extends SelectionEdit {\n    showPreview = true;\n\n    protected doEditCore(state: CanvasState) {\n        let tl = this.topLeft();\n        tl.x -= this.toolWidth >> 1;\n        tl.y -= this.toolWidth >> 1;\n\n        let br = this.bottomRight();\n        br.x += this.toolWidth >> 1;\n        br.y += this.toolWidth >> 1;\n\n        for (let i = 0; i < this.toolWidth; i++) {\n            this.drawRectangle(state,\n                { x: tl.x + i, y: tl.y + i },\n                { x: br.x - i, y: br.y - i }\n            );\n        }\n    }\n\n    protected drawRectangle(state: CanvasState, tl: Coord, br: Coord) {\n        if (tl.x > br.x || tl.y > br.y) return;\n\n        for (let c = tl.x; c <= br.x; c++) {\n            state.image.set(c, tl.y, this.color);\n            state.image.set(c, br.y, this.color);\n        }\n        for (let r = tl.y; r <= br.y; r++) {\n            state.image.set(tl.x, r, this.color);\n            state.image.set(br.x, r, this.color);\n        }\n    }\n\n    drawCursor(col: number, row: number, draw: (c: number, r: number) => void) {\n        this.drawCore(col, row, draw);\n    }\n\n    protected drawCore(col: number, row: number, setPixel: (col: number, row: number) => void) {\n        col = col - Math.floor(this.toolWidth / 2);\n        row = row - Math.floor(this.toolWidth / 2);\n        for (let i = 0; i < this.toolWidth; i++) {\n            for (let j = 0; j < this.toolWidth; j++) {\n                const c = col + i;\n                const r = row + j;\n\n                if (c >= 0 && c < this.canvasWidth && r >= 0 && r < this.canvasHeight) {\n                    setPixel(col + i, row + j);\n                }\n            }\n        }\n    }\n\n}\n\n/**\n * Tool for drawing straight lines\n */\nexport class LineEdit extends SelectionEdit {\n    showPreview = true;\n\n    protected doEditCore(state: CanvasState) {\n        this.bresenham(this.startCol, this.startRow, this.endCol, this.endRow, state);\n    }\n\n    // https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm\n    protected bresenham(x0: number, y0: number, x1: number, y1: number, state: CanvasState) {\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n        const draw = (c: number, r: number) => state.image.set(c, r, this.color);\n        if (dx === 0) {\n            const startY = dy >= 0 ? y0 : y1;\n            const endY = dy >= 0 ? y1 : y0;\n            for (let y = startY; y <= endY; y++) {\n                this.drawCore(x0, y, draw);\n            }\n            return;\n        }\n\n        const xStep = dx > 0 ? 1 : -1;\n        const yStep = dy > 0 ? 1 : -1;\n        const dErr = Math.abs(dy / dx);\n\n        let err = 0;\n        let y = y0;\n        for (let x = x0; xStep > 0 ? x <= x1 : x >= x1; x += xStep) {\n            this.drawCore(x, y, draw);\n            err += dErr;\n            while (err >= 0.5) {\n                if (yStep > 0 ? y <= y1 : y >= y1) {\n                    this.drawCore(x, y, draw);\n                }\n                y += yStep;\n                err -= 1;\n            }\n        }\n    }\n\n    drawCursor(col: number, row: number, draw: (c: number, r: number) => void) {\n        this.drawCore(col, row, draw);\n    }\n\n    // This is surely not the most efficient approach for drawing thick lines...\n    protected drawCore(col: number, row: number, draw: (c: number, r: number) => void) {\n        col = col - Math.floor(this.toolWidth / 2);\n        row = row - Math.floor(this.toolWidth / 2);\n        for (let i = 0; i < this.toolWidth; i++) {\n            for (let j = 0; j < this.toolWidth; j++) {\n                const c = col + i;\n                const r = row + j;\n\n                draw(c, r);\n            }\n        }\n    }\n}\n\n/**\n * Tool for circular outlines\n */\nexport class CircleEdit extends SelectionEdit {\n    showPreview = true;\n\n    protected doEditCore(state: CanvasState) {\n        const tl = this.topLeft();\n        const br = this.bottomRight();\n        const dx = br.x - tl.x;\n        const dy = br.y - tl.y;\n\n        const radius = Math.floor(Math.hypot(dx, dy));\n        const cx = this.startCol;\n        const cy = this.startRow;\n\n        this.midpoint(cx, cy, radius, state);\n    }\n\n    // https://en.wikipedia.org/wiki/Midpoint_circle_algorithm\n    midpoint(cx: number, cy: number, radius: number, state: CanvasState) {\n        let x = radius - 1;\n        let y = 0;\n        let dx = 1;\n        let dy = 1;\n        let err = dx - (radius * 2);\n        while (x >= y) {\n            state.image.set(cx + x, cy + y, this.color);\n            state.image.set(cx + x, cy - y, this.color);\n            state.image.set(cx + y, cy + x, this.color);\n            state.image.set(cx + y, cy - x, this.color);\n            state.image.set(cx - y, cy + x, this.color);\n            state.image.set(cx - y, cy - x, this.color);\n            state.image.set(cx - x, cy + y, this.color);\n            state.image.set(cx - x, cy - y, this.color);\n            if (err <= 0) {\n                y++;\n                err += dy;\n                dy += 2;\n            }\n            if (err > 0) {\n                x--;\n                dx += 2;\n                err += dx - (radius * 2);\n            }\n        }\n    }\n\n    getCursor(): Cursor {\n        return new Cursor(1, 1);\n    }\n}\n\n\nexport class FillEdit extends Edit {\n    protected col: number;\n    protected row: number;\n    showPreview = true;\n\n    start(col: number, row: number, state: CanvasState) {\n        this.isStarted = true;\n        this.col = col;\n        this.row = row;\n\n        state.mergeFloatingLayer();\n    }\n\n    update(col: number, row: number) {\n        this.col = col;\n        this.row = row;\n    }\n\n    protected doEditCore(state: CanvasState) {\n        const replColor = state.image.get(this.col, this.row);\n        if (replColor === this.color) {\n            return;\n        }\n\n        const mask = new Bitmask(state.width, state.height);\n        mask.set(this.col, this.row);\n        const q: Coord[] = [{ x: this.col, y: this.row }];\n        while (q.length) {\n            const curr = q.pop();\n            if (state.image.get(curr.x, curr.y) === replColor) {\n                state.image.set(curr.x, curr.y, this.color);\n                tryPush(curr.x + 1, curr.y);\n                tryPush(curr.x - 1, curr.y);\n                tryPush(curr.x, curr.y + 1);\n                tryPush(curr.x, curr.y - 1);\n            }\n        }\n\n        function tryPush(x: number, y: number) {\n            if (x >= 0 && x < mask.width && y >= 0 && y < mask.height && !mask.get(x, y)) {\n                mask.set(x, y);\n                q.push({ x: x, y: y });\n            }\n        }\n    }\n\n    getCursor(): Cursor {\n        return new Cursor(1, 1);\n    }\n}\n\n\nexport class MarqueeEdit extends SelectionEdit {\n    protected isMove = false;\n    showPreview = false;\n\n    start(cursorCol: number, cursorRow: number, state: CanvasState) {\n        this.isStarted = true;\n        this.startCol = cursorCol;\n        this.startRow = cursorRow;\n        if (state.floatingLayer) {\n            if (state.inFloatingLayer(cursorCol, cursorRow)) {\n                this.isMove = true;\n            } else {\n                state.mergeFloatingLayer();\n            }\n        }\n    }\n\n    end(cursorCol: number, cursorRow: number, state: CanvasState) {\n        if (!this.isDragged && state.floatingLayer) {\n            state.mergeFloatingLayer();\n        }\n    }\n\n    protected doEditCore(state: CanvasState): void {\n        const tl = this.topLeft();\n        const br = this.bottomRight();\n\n        if (this.isDragged) {\n            if (this.isMove) {\n                state.layerOffsetX = state.floatingLayer.x0 + this.endCol - this.startCol;\n                state.layerOffsetY = state.floatingLayer.y0 + this.endRow - this.startRow;\n            }\n            else {\n                state.copyToLayer(tl.x, tl.y, br.x - tl.x + 1, br.y - tl.y + 1, true);\n            }\n        }\n    }\n\n    getCursor(): Cursor {\n        return undefined;\n    }\n}","import * as svg from './svgUtil'\n\nexport interface ButtonGroup {\n    root: svg.Group;\n    cx: number;\n    cy: number;\n}\n\nconst TOGGLE_WIDTH = 200;\nconst TOGGLE_HEIGHT = 40;\nconst TOGGLE_BORDER_WIDTH = 2;\nconst TOGGLE_CORNER_RADIUS = 4;\n\nconst BUTTON_CORNER_RADIUS = 2;\nconst BUTTON_BORDER_WIDTH = 1;\nconst BUTTON_BOTTOM_BORDER_WIDTH = 2;\n\nexport interface ToggleProps {\n    baseColor: string;\n    borderColor: string;\n    backgroundColor: string;\n    switchColor: string;\n    unselectedTextColor: string;\n    selectedTextColor: string;\n\n    leftText: string;\n    leftIcon: string;\n\n    rightText: string;\n    rightIcon: string;\n}\n\nexport class Toggle {\n    protected leftElement: svg.Group;\n    protected leftText: svg.Text;\n    protected rightElement: svg.Group;\n    protected rightText: svg.Text;\n\n    protected switch: svg.Rect;\n    protected root: svg.Group;\n    protected props: ToggleProps;\n\n    protected isLeft: boolean;\n    protected changeHandler: (left: boolean) => void;\n\n    constructor(parent: svg.SVG, props: Partial<ToggleProps>) {\n        this.props = defaultColors(props);\n        this.root = parent.group();\n        this.buildDom();\n        this.isLeft = true;\n    }\n\n    protected buildDom() {\n        // Our css minifier mangles animation names so they need to be injected manually\n        this.root.style().content(`\n            .toggle-left {\n                transform: translateX(0px);\n                animation: mvleft 0.2s 0s ease;\n            }\n\n            .toggle-right {\n                transform: translateX(100px);\n                animation: mvright 0.2s 0s ease;\n            }\n\n            @keyframes mvright {\n                0% {\n                    transform: translateX(0px);\n                }\n                100% {\n                    transform: translateX(100px);\n                }\n            }\n\n            @keyframes mvleft {\n                0% {\n                    transform: translateX(100px);\n                }\n                100% {\n                    transform: translateX(0px);\n                }\n            }\n            `);\n\n\n        // The outer border has an inner-stroke so we need to clip out the outer part\n        // because SVG's don't support \"inner borders\"\n        const clip = this.root.def().create(\"clipPath\", \"sprite-editor-toggle-border\")\n            .clipPathUnits(true);\n\n        clip.draw(\"rect\")\n            .at(0, 0)\n            .corners(TOGGLE_CORNER_RADIUS / TOGGLE_WIDTH, TOGGLE_CORNER_RADIUS / TOGGLE_HEIGHT)\n            .size(1, 1);\n\n        // Draw the outer border\n        this.root.draw(\"rect\")\n            .size(TOGGLE_WIDTH, TOGGLE_HEIGHT)\n            .fill(this.props.baseColor)\n            .stroke(this.props.borderColor, TOGGLE_BORDER_WIDTH * 2)\n            .corners(TOGGLE_CORNER_RADIUS, TOGGLE_CORNER_RADIUS)\n            .clipPath(\"url(#sprite-editor-toggle-border)\");\n\n\n        // Draw the background\n        this.root.draw(\"rect\")\n            .at(TOGGLE_BORDER_WIDTH, TOGGLE_BORDER_WIDTH)\n            .size(TOGGLE_WIDTH - TOGGLE_BORDER_WIDTH * 2, TOGGLE_HEIGHT - TOGGLE_BORDER_WIDTH * 2)\n            .fill(this.props.backgroundColor)\n            .corners(TOGGLE_CORNER_RADIUS, TOGGLE_CORNER_RADIUS);\n\n        // Draw the switch\n        this.switch = this.root.draw(\"rect\")\n            .at(TOGGLE_BORDER_WIDTH, TOGGLE_BORDER_WIDTH)\n            .size((TOGGLE_WIDTH - TOGGLE_BORDER_WIDTH * 2) / 2, TOGGLE_HEIGHT - TOGGLE_BORDER_WIDTH * 2)\n            .fill(this.props.switchColor)\n            .corners(TOGGLE_CORNER_RADIUS, TOGGLE_CORNER_RADIUS);\n\n        // Draw the left option\n        this.leftElement = this.root.group();\n        this.leftText = mkText(this.props.leftText)\n            .appendClass(\"sprite-editor-text\")\n            .fill(this.props.selectedTextColor);\n        this.leftElement.appendChild(this.leftText);\n\n        // Draw the right option\n        this.rightElement = this.root.group();\n        this.rightText = mkText(this.props.rightText)\n            .appendClass(\"sprite-editor-text\")\n            .fill(this.props.unselectedTextColor);\n        this.rightElement.appendChild(this.rightText);\n\n        this.root.onClick(() => this.toggle());\n    }\n\n    toggle(quiet = false) {\n        if (this.isLeft) {\n            this.switch.removeClass(\"toggle-left\");\n            this.switch.appendClass(\"toggle-right\");\n            this.leftText.fill(this.props.unselectedTextColor);\n            this.rightText.fill(this.props.selectedTextColor);\n        }\n        else {\n            this.switch.removeClass(\"toggle-right\");\n            this.switch.appendClass(\"toggle-left\");\n            this.leftText.fill(this.props.selectedTextColor);\n            this.rightText.fill(this.props.unselectedTextColor);\n        }\n        this.isLeft = !this.isLeft;\n\n        if (!quiet && this.changeHandler) {\n            this.changeHandler(this.isLeft);\n        }\n    }\n\n    onStateChange(handler: (left: boolean) => void) {\n        this.changeHandler = handler;\n    }\n\n    layout() {\n        const centerOffset = (TOGGLE_WIDTH - TOGGLE_BORDER_WIDTH * 2) / 4;\n        this.leftText.moveTo(centerOffset + TOGGLE_BORDER_WIDTH, TOGGLE_HEIGHT / 2);\n        this.rightText.moveTo(TOGGLE_WIDTH - TOGGLE_BORDER_WIDTH - centerOffset, TOGGLE_HEIGHT / 2)\n    }\n\n    translate(x: number, y: number) {\n        this.root.translate(x, y);\n    }\n\n    height() {\n        return TOGGLE_HEIGHT;\n    }\n\n    width() {\n        return TOGGLE_WIDTH;\n    }\n}\n\nexport class Button {\n    cx: number;\n    cy: number;\n    root: svg.Group;\n    clickHandler: () => void;\n    private _title: string;\n    private _shortcut: string;\n\n    constructor(root: svg.Group, cx: number, cy: number) {\n        this.root = root;\n        this.cx = cx;\n        this.cy = cy;\n        this.root.onClick(() => this.clickHandler && this.clickHandler());\n        this.root.appendClass(\"sprite-editor-button\");\n    }\n\n    public getElement() {\n        return this.root;\n    }\n\n    public addClass(className: string) {\n        this.root.appendClass(className);\n    }\n\n    public removeClass(className: string) {\n        this.root.removeClass(className);\n    }\n\n    public onClick(clickHandler: () => void) {\n        this.clickHandler = clickHandler;\n    }\n\n    public translate(x: number, y: number) {\n        this.root.translate(x, y);\n    }\n\n    public title(text: string) {\n        this._title = text;\n        this.setRootTitle();\n    }\n\n    public shortcut(text: string) {\n        this._shortcut = text;\n        this.setRootTitle();\n    }\n\n    private setRootTitle() {\n        this.root.title(this._title + (this._shortcut ? \" (\" + this._shortcut + \")\" : \"\"));\n    }\n\n    public setDisabled(disabled: boolean) {\n        this.editClass(\"disabled\", disabled);\n    }\n\n    public setSelected(selected: boolean) {\n        this.editClass(\"selected\", selected);\n    }\n\n    protected layout() { /* subclass */ }\n\n    protected editClass(className: string, add: boolean) {\n        if (add) {\n            this.root.appendClass(className);\n        }\n        else {\n            this.root.removeClass(className);\n        }\n    }\n}\n\nexport class TextButton extends Button {\n    protected textEl: svg.Text;\n\n    constructor(button: ButtonGroup, text: string, className: string) {\n        super(button.root, button.cx, button.cy);\n\n        this.textEl = mkText(text)\n            .appendClass(className);\n\n        this.textEl.moveTo(this.cx, this.cy);\n\n        this.root.appendChild(this.textEl);\n    }\n\n    setText(text: string) {\n        this.textEl.text(text);\n        this.textEl.moveTo(this.cx, this.cy);\n    }\n\n    getComputedTextLength() {\n        try {\n            return this.textEl.el.getComputedTextLength();\n        }\n        catch (e) {\n            // Internet Explorer and Microsoft Edge throw if the element\n            // is not visible. The best we can do is approximate\n            return this.textEl.el.textContent.length * 8;\n        }\n    }\n}\n\nexport class StandaloneTextButton extends TextButton {\n    protected padding = 30;\n\n    constructor(text: string, readonly height: number) {\n        super(drawSingleButton(65, height), text, \"sprite-editor-text\");\n        this.addClass(\"sprite-editor-label\");\n    }\n\n    layout() {\n        const newBG = drawSingleButton(this.width(), this.height);\n\n        while (this.root.el.hasChildNodes()) {\n            this.root.el.removeChild(this.root.el.firstChild);\n        }\n\n        while (newBG.root.el.hasChildNodes()) {\n            const el = newBG.root.el.firstChild;\n            newBG.root.el.removeChild(el);\n            this.root.el.appendChild(el);\n        }\n\n        this.cx = newBG.cx;\n        this.cy = newBG.cy;\n\n        this.root.appendChild(this.textEl);\n        this.textEl.moveTo(this.cx, this.cy);\n    }\n\n    width() {\n        return this.getComputedTextLength() + this.padding * 2;\n    }\n}\n\nexport class CursorButton extends Button {\n    constructor(root: svg.Group, cx: number, cy: number, width: number) {\n        super(root, cx, cy);\n\n        this.root.draw(\"rect\")\n            .fill(\"white\")\n            .size(width, width)\n            .at(Math.floor(this.cx - width / 2), Math.floor(this.cy - width / 2))\n    }\n}\n\nexport function mkIconButton(icon: string, width: number, height = width + BUTTON_BOTTOM_BORDER_WIDTH - BUTTON_BORDER_WIDTH) {\n    const g = drawSingleButton(width, height);\n    return new TextButton(g, icon, \"sprite-editor-icon\");\n}\n\nexport function mkXIconButton(icon: string, width: number, height = width + BUTTON_BOTTOM_BORDER_WIDTH - BUTTON_BORDER_WIDTH) {\n    const g = drawSingleButton(width, height);\n    return new TextButton(g, icon, \"sprite-editor-xicon\");\n}\n\nexport function mkTextButton(text: string, width: number, height: number) {\n    const g = drawSingleButton(width, height);\n    const t = new TextButton(g, text, \"sprite-editor-text\");\n    t.addClass(\"sprite-editor-label\");\n    return t;\n}\n\n/**\n * Draws a button suitable for the left end of a button group.\n *\n * @param width The total width of the result (including border)\n * @param height The total height of the resul (including border and lip)\n * @param lip  The width of the bottom border\n * @param border The width of the outer border (except bottom)\n * @param r The corner radius\n */\nfunction drawLeftButton(width: number, height: number, lip: number, border: number, r: number): ButtonGroup {\n    const root = new svg.Group().appendClass(\"sprite-editor-button\");\n    const bg = root.draw(\"path\")\n        .appendClass(\"sprite-editor-button-bg\");\n    bg.d.moveTo(r, 0)\n        .lineBy(width - r, 0)\n        .lineBy(0, height)\n        .lineBy(-(width - r), 0)\n        .arcBy(r, r, 0, false, true, -r, -r)\n        .lineBy(0, -(height - (r << 1)))\n        .arcBy(r, r, 0, false, true, r, -r)\n        .close();\n    bg.update();\n\n    const fg = root.draw(\"path\")\n        .appendClass(\"sprite-editor-button-fg\");\n    fg.d.moveTo(border + r, border)\n        .lineBy(width - border - r, 0)\n        .lineBy(0, height - lip - border)\n        .lineBy(-(width - border - r), 0)\n        .arcBy(r, r, 0, false, true, -r, -r)\n        .lineBy(0, -(height - lip - border - (r << 1)))\n        .arcBy(r, r, 0, false, true, r, -r)\n        .close();\n    fg.update();\n\n    return {\n        root,\n        cx: border + (width - border) / 2,\n        cy: border + (height - lip) / 2\n    };\n}\n\nexport class CursorMultiButton {\n    root: svg.Group;\n    selected: number;\n    buttons: Button[];\n\n    indexHandler: (index: number) => void;\n\n    constructor(parent: svg.Group, width: number) {\n        this.root = parent.group();\n        const widths = [4, 7, 10]\n\n        this.buttons = buttonGroup(65, 21, 3).map((b, i) => new CursorButton(b.root, b.cx, b.cy, widths[i]));\n        this.buttons.forEach((button, index) => {\n            button.onClick(() => this.handleClick(index));\n            button.title(sizeAdjective(index));\n            this.root.appendChild(button.getElement());\n        });\n    }\n\n    protected handleClick(index: number) {\n        if (index === this.selected) return;\n\n        if (this.selected != undefined) {\n            this.buttons[this.selected].setSelected(false);\n        }\n\n        this.selected = index;\n\n        if (this.selected != undefined) {\n            this.buttons[this.selected].setSelected(true);\n        }\n\n        if (this.indexHandler) this.indexHandler(index);\n    }\n\n    onSelected(cb: (index: number) => void) {\n        this.indexHandler = cb;\n    }\n}\n\nexport interface UndoRedoHost {\n    undo(): void;\n    redo(): void;\n}\n\nexport class UndoRedoGroup {\n    root: svg.Group;\n    undo: TextButton;\n    redo: TextButton;\n\n    host: UndoRedoHost;\n\n    constructor(parent: svg.Group, host: UndoRedoHost, width: number, height: number) {\n        this.root = parent.group();\n        this.host = host;\n        const [undo, redo] = buttonGroup(width, height, 2);\n\n        this.undo = new TextButton(undo, \"\\uf118\", \"sprite-editor-xicon\");\n        this.undo.onClick(() => this.host.undo());\n        this.root.appendChild(this.undo.getElement());\n\n\n        this.redo = new TextButton(redo, \"\\uf111\", \"sprite-editor-xicon\");\n        this.redo.onClick(() => this.host.redo());\n        this.root.appendChild(this.redo.getElement());\n    }\n\n    translate(x: number, y: number) {\n        this.root.translate(x, y);\n    }\n\n    updateState(undo: boolean, redo: boolean) {\n        this.undo.setDisabled(undo);\n        this.redo.setDisabled(redo);\n    }\n}\n\n\nfunction defaultColors(props: Partial<ToggleProps>): ToggleProps {\n    if (!props.baseColor) props.baseColor = \"#e95153\";\n    if (!props.backgroundColor) props.backgroundColor = \"rgba(52,73,94,.2)\";\n    if (!props.borderColor) props.borderColor = \"rgba(52,73,94,.4)\";\n    if (!props.selectedTextColor) props.selectedTextColor = props.baseColor;\n    if (!props.unselectedTextColor) props.unselectedTextColor = \"hsla(0,0%,100%,.9)\";\n    if (!props.switchColor) props.switchColor = \"#ffffff\";\n\n    return props as ToggleProps;\n}\n\nfunction sizeAdjective(cursorIndex: number) {\n    switch (cursorIndex) {\n        case 0: return \"Small Cursor\";\n        case 1: return \"Medium Cursor\";\n        case 2: return \"Large Cursor\";\n    }\n\n    return undefined;\n}\n\n/**\n* Draws a button suitable for the interior of a button group.\n*\n* @param width The total width of the result (including border)\n* @param height The total height of the resul (including border and lip)\n* @param lip  The width of the bottom border\n* @param border The width of the outer border (except bottom)\n*/\nfunction drawMidButton(width: number, height: number, lip: number, border: number): ButtonGroup {\n    const root = new svg.Group().appendClass(\"sprite-editor-button\");\n    const bg = root.draw(\"rect\")\n        .appendClass(\"sprite-editor-button-bg\")\n        .size(width, height)\n\n    const fg = root.draw(\"rect\")\n        .appendClass(\"sprite-editor-button-fg\")\n        .size(width - border, height - lip - border)\n        .at(border, border);\n\n    return {\n        root,\n        cx: border + (width - border) / 2,\n        cy: border + (height - lip) / 2\n    };\n}\n\n/**\n * Draws a button suitable for the right end of a button group.\n *\n * @param width The total width of the result (including border)\n * @param height The total height of the resul (including border and lip)\n * @param lip  The width of the bottom border\n * @param border The width of the outer border (except bottom)\n * @param r The corner radius\n */\nfunction drawRightButton(width: number, height: number, lip: number, border: number, r: number): ButtonGroup {\n    const root = new svg.Group().appendClass(\"sprite-editor-button\");\n    const bg = root.draw(\"path\")\n        .appendClass(\"sprite-editor-button-bg\");\n    bg.d.moveTo(0, 0)\n        .lineBy(width - r, 0)\n        .arcBy(r, r, 0, false, true, r, r)\n        .lineBy(0, height - (r << 1))\n        .arcBy(r, r, 0, false, true, -r, r)\n        .lineBy(-(width - r), 0)\n        .lineBy(0, -height)\n        .close();\n    bg.update();\n\n    const fg = root.draw(\"path\")\n        .appendClass(\"sprite-editor-button-fg\");\n    fg.d.moveTo(border, border)\n        .lineBy(width - border - r, 0)\n        .arcBy(r, r, 0, false, true, r, r)\n        .lineBy(0, height - border - lip - (r << 1))\n        .arcBy(r, r, 0, false, true, -r, r)\n        .lineBy(-(width - border - r), 0)\n        .lineBy(0, -(height - border - lip))\n        .close();\n    fg.update();\n\n    const content = root.group().id(\"sprite-editor-button-content\");\n    content.translate(border + (width - (border << 1)) >> 1, (height - lip - border) >> 1);\n\n    return {\n        root,\n        cx: width / 2,\n        cy: border + (height - lip) / 2\n    };\n}\n\n/**\n * Draws a standalone button.\n *\n * @param width The total width of the result (including border)\n * @param height The total height of the resul (including border and lip)\n * @param lip  The width of the bottom border\n * @param border The width of the outer border (except bottom)\n * @param r The corner radius\n */\nfunction drawSingleButton(width: number, height: number, lip = BUTTON_BOTTOM_BORDER_WIDTH, border = BUTTON_BORDER_WIDTH, r = BUTTON_CORNER_RADIUS): ButtonGroup {\n    const root = new svg.Group().appendClass(\"sprite-editor-button\");\n    root.draw(\"rect\")\n        .size(width, height)\n        .corners(r, r)\n        .appendClass(\"sprite-editor-button-bg\");\n\n    root.draw(\"rect\")\n        .at(border, border)\n        .size(width - (border << 1), height - lip - border)\n        .corners(r, r)\n        .appendClass(\"sprite-editor-button-fg\");\n\n    return {\n        root,\n        cx: width / 2,\n        cy: border + (height - lip) / 2\n    };\n}\n\nfunction buttonGroup(width: number, height: number, segments: number, lip = BUTTON_BOTTOM_BORDER_WIDTH, border = BUTTON_BORDER_WIDTH, r = BUTTON_CORNER_RADIUS): ButtonGroup[] {\n    const available = width - (segments + 1) * border;\n    const segmentWidth = Math.floor(available / segments);\n\n    const result: ButtonGroup[] = [];\n    for (let i = 0; i < segments; i++) {\n        if (i === 0) {\n            result.push(drawLeftButton(segmentWidth + border, height, lip, border, r));\n        }\n        else if (i === segments - 1) {\n            const b = drawRightButton(segmentWidth + (border << 1), height, lip, border, r);\n            b.root.translate((border + segmentWidth) * i, 0);\n            result.push(b);\n        }\n        else {\n            const b = drawMidButton(segmentWidth + border, height, lip, border);\n            b.root.translate((border + segmentWidth) * i, 0);\n            result.push(b);\n        }\n    }\n\n    return result;\n}\n\nexport function mkText(text: string) {\n    return new svg.Text(text)\n        .anchor(\"middle\")\n        .setAttribute(\"dominant-baseline\", \"middle\")\n        .setAttribute(\"dy\", (false /*IE or edge*/) ? \"0.3em\" : \"0.1em\")\n}","import { PaintTool, getPaintToolShortcut } from \"./tools\";\nimport {\n    Button, CursorMultiButton,\n    mkXIconButton, mkIconButton, UndoRedoGroup, UndoRedoHost\n} from \"./buttons\";\nimport * as svg from './svgUtil'\n\nexport interface SideBarHost {\n    setActiveTool(tool: PaintTool): void;\n    setActiveColor(color: number): void;\n    setToolWidth(width: number): void;\n    setIconsToDefault(): void;\n}\n\nexport const TOOLBAR_WIDTH = 65;\nconst INNER_BUTTON_MARGIN = 3;\nconst PALETTE_BORDER_WIDTH = 1;\nconst BUTTON_GROUP_SPACING = 3;\nconst SELECTED_BORDER_WIDTH = 2;\nconst COLOR_PREVIEW_HEIGHT = 30;\nconst COLOR_MARGIN = 7;\n\nconst UNDO_REDO_START = 430;\nconst UNDO_REDO_WIDTH = 65;\nconst UNDO_REDO_HEIGHT = 31;\nexport const TOOLBAR_HEIGHT = UNDO_REDO_START + UNDO_REDO_HEIGHT\n\nconst TOOL_BUTTON_WIDTH = (TOOLBAR_WIDTH - INNER_BUTTON_MARGIN) / 2;\nconst PALLETTE_SWATCH_WIDTH = (TOOLBAR_WIDTH - PALETTE_BORDER_WIDTH * 3) / 2;\nconst TOOL_BUTTON_TOP = TOOLBAR_WIDTH / 3 + BUTTON_GROUP_SPACING;\nconst PALETTE_TOP = TOOL_BUTTON_TOP + TOOL_BUTTON_WIDTH * 3 + INNER_BUTTON_MARGIN + COLOR_MARGIN;\n\nexport class SideBar {\n    root: svg.Group;\n    host: SideBarHost;\n    palette: string[];\n\n    protected colorSwatches: svg.Rect[];\n    protected pencilTool: Button;\n    protected eraseTool: Button;\n    protected rectangleTool: Button;\n    protected fillTool: Button;\n    protected marqueeTool: Button;\n\n    protected sizeGroup: svg.Group;\n    protected buttonGroup: svg.Group;\n    protected paletteGroup: svg.Group;\n\n    protected selectedTool: Button;\n    protected selectedSwatch: svg.Rect;\n    protected colorPreview: svg.Rect;\n\n    public undoRedo: UndoRedoGroup;\n\n    constructor(palette: string[], host: SideBarHost & UndoRedoHost, parent: svg.Group) {\n        this.palette = palette;\n        this.host = host;\n        this.root = parent.group().id(\"sprite-editor-sidebar\");\n\n        this.undoRedo = new UndoRedoGroup(this.root, host, UNDO_REDO_WIDTH, UNDO_REDO_HEIGHT);\n\n        this.initSizes();\n        this.initTools();\n        this.initPalette();\n    }\n\n    updateUndoRedo(undo: boolean, redo: boolean) {\n        this.undoRedo.updateState(undo, redo);\n    }\n\n    public setTool(tool: PaintTool) {\n        this.host.setActiveTool(tool);\n\n        if (this.selectedTool) {\n            this.selectedTool.removeClass(\"selected\");\n        }\n\n        this.selectedTool = this.getButtonForTool(tool);\n\n        if (this.selectedTool) {\n            this.selectedTool.addClass(\"selected\");\n        }\n    }\n\n    public setColor(color: number) {\n        this.host.setActiveColor(color);\n\n        if (this.selectedSwatch) {\n            this.selectedSwatch.stroke(\"none\");\n        }\n\n        this.selectedSwatch = this.colorSwatches[color];\n\n        if (this.selectedSwatch) {\n            // Border is multiplied by 2 and the excess is clipped away\n            this.selectedSwatch.stroke(\"orange\", SELECTED_BORDER_WIDTH * 2);\n            this.colorPreview.fill(this.palette[color]);\n        }\n\n        // FIXME: Switch the tool to pencil\n    }\n\n    public setCursorSize(size: number) {\n        this.host.setToolWidth(size);\n    }\n\n    public setWidth(width: number) {\n        this.root.scale(width / TOOLBAR_WIDTH);\n    }\n\n    public translate(left: number, top: number) {\n        this.root.translate(left, top);\n    }\n\n    protected initSizes() {\n        this.sizeGroup = this.root.group().id(\"sprite-editor-cursor-buttons\");\n        const buttonGroup = new CursorMultiButton(this.sizeGroup, TOOLBAR_WIDTH);\n        buttonGroup.onSelected(index => {\n            this.setCursorSize(1 + (index * 2));\n        });\n        // Sets the first button to show as selected\n        buttonGroup.selected = 0;\n        buttonGroup.buttons[0].setSelected(true);\n    }\n\n    protected initTools() {\n        this.buttonGroup = this.root.group()\n            .id(\"sprite-editor-tools\")\n            .translate(0, TOOL_BUTTON_TOP);\n\n        this.pencilTool = this.initButton((\"Pencil\"), \"\\uf040\", PaintTool.Normal);\n\n        this.eraseTool = this.initButton((\"Erase\"), \"\\uf12d\", PaintTool.Erase);\n        this.eraseTool.translate(1 + TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN, 0);\n\n        this.fillTool = this.initButton((\"Fill\"), \"\\uf102\", PaintTool.Fill, true);\n        this.fillTool.translate(0, TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN);\n\n        this.rectangleTool = this.initButton((\"Rectangle\"), \"\\uf096\", PaintTool.Rectangle);\n        this.rectangleTool.translate(1 + TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN, TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN);\n\n        this.marqueeTool = this.initButton((\"Marquee\"), \"\\uf113\", PaintTool.Marquee, true);\n        this.marqueeTool.translate(0, (TOOL_BUTTON_WIDTH + INNER_BUTTON_MARGIN) << 1);\n\n        this.setTool(PaintTool.Normal);\n        this.undoRedo.translate(0, UNDO_REDO_START);\n    }\n\n    protected initPalette() {\n        this.paletteGroup = this.root.group().id(\"sprite-editor-palette\")\n            .translate(0, PALETTE_TOP);\n\n        // Draw the background/borders for the entire palette\n        const bgHeight = COLOR_PREVIEW_HEIGHT + PALETTE_BORDER_WIDTH * 2;\n        this.paletteGroup.draw(\"rect\")\n            .fill(\"#000000\")\n            .size(TOOLBAR_WIDTH, bgHeight);\n\n        this.paletteGroup.draw(\"rect\")\n            .fill(\"#000000\")\n            .at(0, bgHeight + COLOR_MARGIN)\n            .size(TOOLBAR_WIDTH, PALETTE_BORDER_WIDTH + (this.palette.length >> 1) * (PALLETTE_SWATCH_WIDTH + PALETTE_BORDER_WIDTH));\n\n        // The highlighted swatch has an inner border. The only way to do that in SVG\n        // is to set the stroke to double the border width and clip the excess away\n        const clip = this.paletteGroup.def().create(\"clipPath\", \"sprite-editor-selected-color\")\n            .clipPathUnits(true);\n\n        clip.draw(\"rect\")\n            .at(0, 0)\n            .size(1, 1);\n\n        // Draw a preview of the current color\n        this.colorPreview = this.paletteGroup.draw(\"rect\")\n            .at(PALETTE_BORDER_WIDTH, PALETTE_BORDER_WIDTH)\n            .size(TOOLBAR_WIDTH - PALETTE_BORDER_WIDTH * 2, COLOR_PREVIEW_HEIGHT);\n\n        // Draw the swatches for each color\n        this.colorSwatches = []\n        for (let i = 0; i < this.palette.length; i++) {\n            const col = i % 2;\n            const row = Math.floor(i / 2);\n\n            const swatch = this.paletteGroup\n                .draw(\"rect\")\n                .size(PALLETTE_SWATCH_WIDTH, PALLETTE_SWATCH_WIDTH)\n                .at(col ? PALETTE_BORDER_WIDTH * 2 + PALLETTE_SWATCH_WIDTH : PALETTE_BORDER_WIDTH, bgHeight + COLOR_MARGIN + PALETTE_BORDER_WIDTH + row * (PALETTE_BORDER_WIDTH + PALLETTE_SWATCH_WIDTH))\n                .fill(this.palette[i])\n                .clipPath(\"url(#sprite-editor-selected-color)\")\n                .onClick(() => this.setColor(i));\n            swatch.title(`${i}`)\n\n            this.colorSwatches.push(swatch);\n        }\n\n        this.setColor(0);\n    }\n\n    protected initButton(title: string, icon: string, tool: PaintTool, xicon = false) {\n        const btn = xicon ? mkXIconButton(icon, TOOL_BUTTON_WIDTH) : mkIconButton(icon, TOOL_BUTTON_WIDTH);\n        const shortcut = getPaintToolShortcut(tool);\n        if (shortcut) btn.shortcut(shortcut);\n        btn.title(title);\n\n        btn.onClick(() => {\n            this.host.setIconsToDefault();\n            this.setTool(tool);\n        });\n        this.buttonGroup.appendChild(btn.getElement());\n        return btn;\n    }\n\n    getButtonForTool(tool: PaintTool) {\n        switch (tool) {\n            case PaintTool.Normal:\n            case PaintTool.Line: return this.pencilTool;\n            case PaintTool.Erase: return this.eraseTool;\n            case PaintTool.Fill: return this.fillTool;\n            case PaintTool.Rectangle:\n            case PaintTool.Circle: return this.rectangleTool;\n            case PaintTool.Marquee: return this.marqueeTool;\n            default: return undefined;\n        }\n    }\n}","import { CanvasState } from './canvasState'\nimport { Edit } from './tools'\nimport * as utils from './util'\n\nconst alphaCellWidth = 5;\nconst dropdownPaddding = 4;\nconst lightModeBackground = \"#dedede\";\n\nexport class CanvasGrid {\n    protected cellWidth: number = 16;\n    protected cellHeight: number = 16;\n\n    private gesture: GestureState;\n    private context: CanvasRenderingContext2D;\n    private fadeAnimation: Fade;\n    private selectAnimation: number;\n\n    protected backgroundLayer: HTMLCanvasElement;\n    protected paintLayer: HTMLCanvasElement;\n    protected overlayLayer: HTMLCanvasElement;\n\n    mouseCol: number;\n    mouseRow: number;\n\n    scale: number;\n\n    constructor(protected palette: string[], public state: CanvasState, protected lightMode = false, scale: number) {\n        this.scale = scale;\n        this.paintLayer = document.createElement(\"canvas\");\n        this.paintLayer.setAttribute(\"class\", \"sprite-editor-canvas\");\n        this.overlayLayer = document.createElement(\"canvas\")\n        this.overlayLayer.setAttribute(\"class\", \"sprite-editor-canvas\")\n\n        if (!this.lightMode) {\n            this.backgroundLayer = document.createElement(\"canvas\");\n            this.backgroundLayer.setAttribute(\"class\", \"sprite-editor-canvas\")\n            this.context = this.paintLayer.getContext(\"2d\");\n        }\n        else {\n            this.context = this.paintLayer.getContext(\"2d\", { alpha: false });\n            this.context.fillStyle = lightModeBackground;\n            this.context.fill();\n        }\n\n        this.hideOverlay();\n    }\n\n\n    get image() {\n        return this.state.image;\n    }\n\n    setEyedropperMouse(on: boolean) {\n        /* TODO\n        const eyedropperClass = \"sprite-editor-eyedropper\";\n\n        const toApply = on ? utils.addClass : utils.removeClass;\n        toApply(this.paintLayer, eyedropperClass);\n        toApply(this.overlayLayer, eyedropperClass);\n        if (!this.lightMode) {\n            toApply(this.backgroundLayer, eyedropperClass);\n        }\n        */\n    }\n\n    repaint(): void {\n        this.clearContext(this.context);\n        this.drawImage();\n        if (this.state.floatingLayer) this.drawFloatingLayer();\n        else this.hideOverlay();\n    }\n\n    applyEdit(edit: Edit, cursorCol: number, cursorRow: number, gestureEnd = false) {\n        edit.doEdit(this.state);\n        this.drawCursor(edit, cursorCol, cursorRow);\n    }\n\n    drawCursor(edit: Edit, col: number, row: number) {\n        const cursor = edit.getCursor();\n\n        if (cursor) {\n            this.repaint();\n            if (edit.showPreview) {\n                edit.drawCursor(col, row, (c, r) => {\n                    this.drawColor(c, r, edit.color);\n                });\n            }\n            this.context.strokeStyle = \"#898989\";\n            this.context.strokeRect((col + cursor.offsetX) * this.cellWidth, (row + cursor.offsetY) * this.cellHeight, cursor.width * this.cellWidth, cursor.height * this.cellHeight);\n        }\n        else if (edit.isStarted) {\n            this.repaint();\n        }\n    }\n\n    bitmap() {\n        return this.image;\n    }\n\n    outerWidth(): number {\n        return this.paintLayer.getBoundingClientRect().width;\n    }\n\n    outerHeight(): number {\n        return this.paintLayer.getBoundingClientRect().height;\n    }\n\n    writeColor(col: number, row: number, color: number) {\n        this.image.set(col, row, color);\n        this.drawColor(col, row, color);\n    }\n\n    drawColor(col: number, row: number, color: number, context = this.context, transparency = !this.lightMode) {\n        const x = col * this.cellWidth;\n        const y = row * this.cellHeight;\n\n        if (color) {\n            context.fillStyle = this.palette[color - 1];\n            context.fillRect(x, y, this.cellWidth, this.cellHeight);\n        }\n        else if (!transparency) {\n            context.fillStyle = lightModeBackground;\n            context.fillRect(x, y, this.cellWidth, this.cellHeight);\n        }\n    }\n\n    restore(state: CanvasState, repaint = false) {\n        if (state.height != this.image.height || state.width != this.image.width) {\n            this.state = state.copy();\n            this.resizeGrid(state.width, state.width * state.height);\n        }\n        else {\n            this.state = state.copy();\n        }\n\n        if (repaint) {\n            this.repaint();\n        }\n    }\n\n    showResizeOverlay(): void {\n        if (this.lightMode) return;\n\n        if (this.fadeAnimation) {\n            this.fadeAnimation.kill();\n        }\n        this.showOverlay();\n        this.stopSelectAnimation();\n\n        const w = this.overlayLayer.width;\n        const h = this.overlayLayer.height;\n        const context = this.overlayLayer.getContext(\"2d\");\n        const toastWidth = 100;\n        const toastHeight = 40;\n        const toastLeft = w / 2 - toastWidth / 2;\n        const toastTop = h / 2 - toastWidth / 4;\n\n        this.fadeAnimation = new Fade((opacity, dead) => {\n            if (dead) {\n                this.drawFloatingLayer();\n                return;\n            }\n\n            this.clearContext(context);\n            context.globalAlpha = opacity;\n            context.fillStyle = \"#898989\";\n\n            // After 32x32 the grid isn't easy to see anymore so skip it\n            if (this.image.width <= 32 && this.image.height <= 32) {\n                for (let c = 1; c < this.image.width; c++) {\n                    context.fillRect(c * this.cellWidth, 0, 1, h);\n                }\n                for (let r = 1; r < this.image.height; r++) {\n                    context.fillRect(0, r * this.cellHeight, w, 1);\n                }\n            }\n\n            context.fillRect(toastLeft, toastTop, toastWidth, toastHeight);\n            context.fillStyle = \"#ffffff\";\n            context.font = \"30px sans-serif\";\n            context.textBaseline = \"middle\";\n            context.textAlign = \"center\";\n\n            context.fillText(this.image.width.toString(), toastLeft + toastWidth / 2 - 25, toastTop + toastHeight / 2);\n            context.fillText(\"x\", toastLeft + 50, toastTop + toastHeight / 2, 10);\n            context.fillText(this.image.height.toString(), toastLeft + toastWidth / 2 + 25, toastTop + toastHeight / 2);\n        }, 750, 500);\n    }\n\n    showOverlay() {\n        this.overlayLayer.style.visibility = \"visible\";\n    }\n\n    hideOverlay() {\n        this.stopSelectAnimation();\n\n        this.overlayLayer.style.visibility = \"hidden\";\n\n        if (this.fadeAnimation) {\n            this.fadeAnimation.kill();\n        }\n    }\n\n    resizeGrid(rowLength: number, numCells: number): void {\n        this.repaint();\n    }\n\n    setCellDimensions(width: number, height: number): void {\n        this.cellWidth = width | 0;\n        this.cellHeight = height | 0;\n\n        const canvasWidth = this.cellWidth * this.image.width // * this.scale;\n        const canvasHeight = this.cellHeight * this.image.height // * this.scale;\n\n        this.paintLayer.width = canvasWidth;\n        this.paintLayer.height = canvasHeight;\n        this.overlayLayer.width = canvasWidth;\n        this.overlayLayer.height = canvasHeight;\n\n        if (!this.lightMode) {\n            this.backgroundLayer.width = canvasWidth;\n            this.backgroundLayer.height = canvasHeight;\n        }\n    }\n\n    setGridDimensions(width: number, height = width, lockAspectRatio = true): void {\n        const maxCellWidth = width / this.image.width;\n        const maxCellHeight = height / this.image.height;\n\n        if (lockAspectRatio) {\n            const aspectRatio = this.cellWidth / this.cellHeight;\n\n            if (aspectRatio >= 1) {\n                const w = Math.min(maxCellWidth, maxCellHeight * aspectRatio);\n                this.setCellDimensions(w, w * aspectRatio);\n            }\n            else {\n                const h = Math.min(maxCellHeight, maxCellWidth / aspectRatio)\n                this.setCellDimensions(h / aspectRatio, h);\n            }\n        }\n        else {\n            this.setCellDimensions(maxCellWidth, maxCellHeight);\n        }\n    }\n\n    down(handler: (col: number, row: number) => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Down, handler);\n    }\n\n    up(handler: (col: number, row: number) => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Up, handler);\n    }\n\n    drag(handler: (col: number, row: number) => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Drag, handler);\n    }\n\n    move(handler: (col: number, row: number) => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Move, handler);\n    }\n\n    leave(handler: () => void): void {\n        this.initDragSurface();\n        this.gesture.subscribe(GestureType.Leave, handler);\n    }\n\n    updateBounds(top: number, left: number, width: number, height: number) {\n        this.layoutCanvas(this.paintLayer, top, left, width, height);\n        this.layoutCanvas(this.overlayLayer, top, left, width, height);\n\n        if (!this.lightMode) {\n            this.layoutCanvas(this.backgroundLayer, top, left, width, height);\n        }\n\n        this.drawImage();\n        this.drawBackground();\n    }\n\n    render(parent: HTMLDivElement) {\n        if (!this.lightMode) {\n            parent.appendChild(this.backgroundLayer);\n        }\n\n        parent.appendChild(this.paintLayer);\n        parent.appendChild(this.overlayLayer);\n    }\n\n    removeMouseListeners() {\n        this.stopSelectAnimation();\n        if (this.fadeAnimation) this.fadeAnimation.kill();\n\n        this.endDrag();\n    }\n\n    onEditStart(col: number, row: number, edit: Edit) {\n        edit.start(col, row, this.state);\n    }\n\n    onEditEnd(col: number, row: number, edit: Edit) {\n        edit.end(col, row, this.state);\n        this.drawFloatingLayer();\n    }\n\n    protected drawImage(image = this.image, context = this.context, left = 0, top = 0, transparency = !this.lightMode) {\n        for (let c = 0; c < image.width; c++) {\n            for (let r = 0; r < image.height; r++) {\n                this.drawColor(left + c, top + r, image.get(c, r), context, transparency);\n            }\n        }\n    }\n\n    protected drawBackground() {\n        if (this.lightMode) return;\n        const context = this.backgroundLayer.getContext(\"2d\", { alpha: false });\n        const alphaCols = Math.ceil(this.paintLayer.width / alphaCellWidth);\n        const alphaRows = Math.ceil(this.paintLayer.height / alphaCellWidth);\n        context.fillStyle = \"#ffffff\";\n        context.fillRect(0, 0, this.paintLayer.width, this.paintLayer.height);\n\n        context.fillStyle = \"#dedede\";\n        for (let ac = 0; ac < alphaCols; ac++) {\n            for (let ar = 0; ar < alphaRows; ar++) {\n                if ((ac + ar) % 2) {\n                    context.fillRect(ac * alphaCellWidth, ar * alphaCellWidth, alphaCellWidth, alphaCellWidth);\n                }\n            }\n        }\n    }\n\n    /**\n     * This calls getBoundingClientRect() so don't call it in a loop!\n     */\n    protected clientEventToCell(ev: MouseEvent) {\n        const coord = clientCoord(ev);\n        const bounds = this.paintLayer.getBoundingClientRect();\n        const left = bounds.left + (window.scrollX !== null ? window.scrollX : window.pageXOffset);\n        const top = bounds.top + (window.scrollY !== null ? window.scrollY : window.pageYOffset);\n\n        let cellW = bounds.width / this.image.width\n        let cellH = bounds.width / this.image.width\n\n        this.mouseCol = Math.floor((coord.clientX - left) / cellW);\n        this.mouseRow = Math.floor((coord.clientY - top) / cellH);\n\n        return [\n            this.mouseCol,\n            this.mouseRow\n        ];\n    }\n    protected drawFloatingLayer() {\n        if (!this.state.floatingLayer) {\n            return;\n        }\n        this.drawImage(this.state.floatingLayer, this.context, this.state.layerOffsetX, this.state.layerOffsetY, true);\n\n        this.drawSelectionAnimation();\n    }\n\n    protected drawSelectionAnimation(dashOffset = 0) {\n        if (!this.state.floatingLayer) {\n            this.hideOverlay();\n            return;\n        }\n        this.showOverlay();\n        const context = this.overlayLayer.getContext(\"2d\");\n        this.clearContext(context);\n        context.globalAlpha = 1;\n        context.strokeStyle = \"#303030\";\n        context.lineWidth = 2;\n        context.setLineDash([5, 3]);\n        context.lineDashOffset = dashOffset;\n        context.strokeRect(this.state.layerOffsetX * this.cellWidth, this.state.layerOffsetY * this.cellHeight, this.state.floatingLayer.width * this.cellWidth, this.state.floatingLayer.height * this.cellHeight);\n\n\n        if (!this.lightMode && !this.selectAnimation && (!this.fadeAnimation || this.fadeAnimation.dead)) {\n            let drawLayer = () => {\n                dashOffset++\n                requestAnimationFrame(() => this.drawSelectionAnimation(dashOffset));\n            };\n\n            this.selectAnimation = window.setInterval(drawLayer, 40)\n        }\n    }\n\n    private clearContext(context: CanvasRenderingContext2D) {\n        // Paint Layer has the same dimensions as all other contexts\n        context.clearRect(0, 0, this.paintLayer.width, this.paintLayer.height);\n    }\n\n    private initDragSurface() {\n\n        if (!this.gesture) {\n            this.gesture = new GestureState();\n\n            this.bindEvents(this.paintLayer);\n            this.bindEvents(this.overlayLayer);\n\n            document.addEventListener(utils.pointerEvents.move, <EventListener>this.hoverHandler);\n        }\n\n    }\n\n    private bindEvents(surface: HTMLElement) {\n        utils.pointerEvents.down.forEach(evId => {\n            surface.addEventListener(evId, <EventListener>((ev: MouseEvent) => {\n                this.startDrag();\n                const [col, row] = this.clientEventToCell(ev);\n                this.gesture.handle(InputEvent.Down, col, row);\n            }));\n        })\n\n\n        // surface.addEventListener(\"click\", (ev: MouseEvent) => {\n        //     const [col, row] = this.clientEventToCell(ev);\n        //     this.gesture.handle(InputEvent.Down, col, row);\n        //     this.gesture.handle(InputEvent.Up, col, row);\n        // });\n    }\n\n    private upHandler = (ev: MouseEvent) => {\n        this.endDrag();\n        const [col, row] = this.clientEventToCell(ev);\n        this.gesture.handle(InputEvent.Up, col, row);\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    }\n\n    private leaveHandler = (ev: MouseEvent) => {\n        this.endDrag();\n        const [col, row] = this.clientEventToCell(ev);\n        this.gesture.handle(InputEvent.Leave, col, row);\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    private moveHandler = (ev: MouseEvent) => {\n        const [col, row] = this.clientEventToCell(ev);\n        if (col >= 0 && row >= 0 && col < this.image.width && row < this.image.height) {\n            if (ev.buttons & 1) {\n                this.gesture.handle(InputEvent.Down, col, row);\n            }\n            this.gesture.handle(InputEvent.Move, col, row);\n        }\n\n        ev.stopPropagation();\n        ev.preventDefault();\n    }\n\n    private hoverHandler = (ev: MouseEvent) => {\n        const [col, row] = this.clientEventToCell(ev);\n        if (col >= 0 && row >= 0 && col < this.image.width && row < this.image.height) {\n            this.gesture.handle(InputEvent.Move, col, row);\n            this.gesture.isHover = true;\n        }\n        else if (this.gesture.isHover) {\n            this.gesture.isHover = false;\n            this.gesture.handle(InputEvent.Leave, -1, -1);\n        }\n    }\n\n    private startDrag() {\n        document.removeEventListener(utils.pointerEvents.move, <EventListener>this.hoverHandler);\n        document.addEventListener(utils.pointerEvents.move, <EventListener>this.moveHandler);\n        document.addEventListener(utils.pointerEvents.up, <EventListener>this.upHandler);\n\n        if (utils.isTouchEnabled() && !utils.hasPointerEvents()) {\n            document.addEventListener(\"touchend\", <EventListener>this.upHandler);\n            document.addEventListener(\"touchcancel\", <EventListener>this.leaveHandler);\n        }\n        else {\n            document.addEventListener(utils.pointerEvents.leave, <EventListener>this.leaveHandler);\n        }\n\n    }\n\n    private endDrag() {\n\n        document.addEventListener(utils.pointerEvents.move, <EventListener>this.hoverHandler);\n        document.removeEventListener(utils.pointerEvents.move, <EventListener>this.moveHandler);\n        document.removeEventListener(utils.pointerEvents.up, <EventListener>this.upHandler);\n        document.removeEventListener(utils.pointerEvents.leave, <EventListener>this.leaveHandler);\n\n        if (utils.isTouchEnabled() && !utils.hasPointerEvents()) {\n            document.removeEventListener(\"touchend\", <EventListener>this.upHandler);\n            document.removeEventListener(\"touchcancel\", <EventListener>this.leaveHandler);\n        }\n        else {\n            document.removeEventListener(utils.pointerEvents.leave, <EventListener>this.leaveHandler);\n        }\n\n    }\n\n    private layoutCanvas(canvas: HTMLCanvasElement, top: number, left: number, width: number, height: number) {\n        // canvas.style.position = \"absolute\";\n        // canvas.style.top = `0px`\n        // canvas.style.left = `0px`\n\n        // if (this.image.width === this.image.height) {\n        //     canvas.style.top = top + \"px\";\n        //     canvas.style.left = left + \"px\";\n        // }\n        // else if (this.image.width > this.image.height) {\n        //     canvas.style.top = (top + dropdownPaddding + (height - canvas.height) / 2) + \"px\";\n        //     canvas.style.left = left + \"px\";\n        // }\n        // else {\n        //     canvas.style.top = top + \"px\";\n        //     canvas.style.left = (left + dropdownPaddding + (width - canvas.width) / 2) + \"px\";\n        // }\n    }\n\n    private stopSelectAnimation() {\n        if (this.selectAnimation) {\n            clearInterval(this.selectAnimation);\n            this.selectAnimation = undefined;\n        }\n\n    }\n}\n\nenum InputEvent {\n    Up,\n    Down,\n    Move,\n    Leave\n}\n\nenum GestureType {\n    Up,\n    Down,\n    Move,\n    Drag,\n    Leave\n}\n\ntype GestureHandler = (col: number, row: number) => void;\n\nclass GestureState {\n    lastCol: number;\n    lastRow: number;\n\n    isDown = false;\n    isHover = false;\n\n    handlers: { [index: number]: GestureHandler } = {};\n\n    handle(event: InputEvent, col: number, row: number) {\n        switch (event) {\n            case InputEvent.Up:\n                this.update(col, row);\n                this.isDown = false;\n                this.fire(GestureType.Up);\n                break;\n            case InputEvent.Down:\n                if (!this.isDown) {\n                    this.update(col, row);\n                    this.isDown = true;\n                    this.fire(GestureType.Down);\n                }\n                break;\n            case InputEvent.Move:\n                if (col === this.lastCol && row === this.lastRow) return;\n                this.update(col, row);\n                if (this.isDown) {\n                    this.fire(GestureType.Drag);\n                }\n                else {\n                    this.fire(GestureType.Move);\n                }\n                break;\n\n            case InputEvent.Leave:\n                this.update(col, row);\n                this.isDown = false;\n                this.fire(GestureType.Leave);\n                break;\n        }\n    }\n\n    subscribe(type: GestureType, handler: GestureHandler) {\n        this.handlers[type] = handler;\n    }\n\n    protected update(col: number, row: number) {\n        this.lastCol = col;\n        this.lastRow = row;\n    }\n\n    protected fire(type: GestureType) {\n        if (this.handlers[type]) {\n            this.handlers[type](this.lastCol, this.lastRow);\n        }\n    }\n}\n\nclass Fade {\n    start: number;\n    end: number;\n    slope: number;\n    dead: boolean;\n\n    constructor(protected draw: (opacity: number, dead: boolean) => void, delay: number, duration: number) {\n        this.start = Date.now() + delay;\n        this.end = this.start + duration;\n        this.slope = 1 / duration;\n        this.dead = false;\n\n        draw(1, false);\n\n        setTimeout(() => requestAnimationFrame(() => this.frame()), delay);\n    }\n\n    frame() {\n        if (this.dead) return;\n        const now = Date.now();\n        if (now < this.end) {\n            const v = 1 - (this.slope * (now - this.start));\n            this.draw(v, false);\n            requestAnimationFrame(() => this.frame());\n        }\n        else {\n            this.kill();\n            this.draw(0, true);\n        }\n    }\n\n    kill() {\n        this.dead = true;\n    }\n}\n\nexport interface ClientCoordinates {\n    clientX: number;\n    clientY: number;\n}\n\nfunction clientCoord(ev: PointerEvent | MouseEvent | TouchEvent): ClientCoordinates {\n    if ((ev as TouchEvent).touches) {\n        const te = ev as TouchEvent;\n        if (te.touches.length) {\n            return te.touches[0];\n        }\n        return te.changedTouches[0];\n    }\n    return (ev as PointerEvent | MouseEvent);\n}","import { Bitmap } from './bitmap'\n\nexport class CanvasState {\n    image: Bitmap;\n    floatingLayer: Bitmap;\n    layerOffsetX: number;\n    layerOffsetY: number;\n\n    constructor(bitmap?: Bitmap) {\n        this.image = bitmap;\n        this.layerOffsetX = 0;\n        this.layerOffsetY = 0;\n    }\n\n    get width() {\n        return this.image.width;\n    }\n\n    get height() {\n        return this.image.height;\n    }\n\n    copy() {\n        const res = new CanvasState();\n        res.image = this.image.copy();\n\n        if (this.floatingLayer) {\n            res.floatingLayer = this.floatingLayer.copy();\n            res.floatingLayer.x0 = this.layerOffsetX;\n            res.floatingLayer.y0 = this.layerOffsetY;\n        }\n        res.layerOffsetX = this.layerOffsetX;\n        res.layerOffsetY = this.layerOffsetY;\n\n        return res;\n    }\n\n    equals(other: CanvasState) {\n        if (!this.image.equals(other.image) || (this.floatingLayer && !other.floatingLayer) || (!this.floatingLayer && other.floatingLayer)) return false;\n\n        if (this.floatingLayer) return this.floatingLayer.equals(other.floatingLayer) && this.layerOffsetX === other.layerOffsetX && this.layerOffsetY === other.layerOffsetY;\n\n        return true;\n    }\n\n    mergeFloatingLayer() {\n        if (!this.floatingLayer) return;\n\n        this.floatingLayer.x0 = this.layerOffsetX;\n        this.floatingLayer.y0 = this.layerOffsetY;\n\n        this.image.apply(this.floatingLayer, true);\n        this.floatingLayer = undefined;\n    }\n\n    copyToLayer(left: number, top: number, width: number, height: number, cut = false) {\n        if (width === 0 || height === 0) return;\n\n        if (width < 0) {\n            left += width;\n            width = -width;\n        }\n\n        if (height < 0) {\n            top += height;\n            height = -height;\n        }\n\n        this.floatingLayer = this.image.copy(left, top, width, height);\n        this.layerOffsetX = this.floatingLayer.x0;\n        this.layerOffsetY = this.floatingLayer.y0;\n\n        if (cut) {\n            for (let c = 0; c < width; c++) {\n                for (let r = 0; r < height; r++) {\n                    this.image.set(left + c, top + r, 0);\n                }\n            }\n        }\n    }\n\n    inFloatingLayer(col: number, row: number) {\n        if (!this.floatingLayer) return false;\n\n        col = col - this.layerOffsetX;\n        row = row - this.layerOffsetY;\n\n        return col >= 0 && col < this.floatingLayer.width && row >= 0 && row < this.floatingLayer.height;\n    }\n}","import * as svg from './svgUtil'\nimport { SideBarHost, SideBar } from './sidebar';\nimport { SpriteHeaderHost, SpriteHeader } from './header';\nimport { CanvasGrid } from './canvasGrid';\nimport { ReporterBar } from './reporterBar';\nimport {\n    Edit, PaintTool, getPaintToolShortcut,\n    PaintEdit, OutlineEdit, LineEdit, CircleEdit, FillEdit, MarqueeEdit\n} from './tools';\nimport { Bitmap, resizeBitmap } from './bitmap';\nimport { CanvasState } from './canvasState';\nimport { TextButton, UndoRedoGroup } from './buttons';\nimport { tickEvent } from '../telemetry/appinsights';\n\nexport const TOTAL_HEIGHT = 465;\n\nconst PADDING = 10;\n\nconst DROP_DOWN_PADDING = 4;\n\n// Height of toolbar (the buttons above the canvas)\nexport const HEADER_HEIGHT = 0;\n\n// Spacing between the toolbar and the canvas\nconst HEADER_CANVAS_MARGIN = 10;\n\n// Height of the bar that displays editor size and info below the canvas\nconst REPORTER_BAR_HEIGHT = 31;\n\n// Spacing between the canvas and reporter bar\nconst REPORTER_BAR_CANVAS_MARGIN = 5;\n\n// Spacing between palette and paint surface\nconst SIDEBAR_CANVAS_MARGIN = 10;\n\nconst SIDEBAR_WIDTH = 65;\n\n// Total allowed height of paint surface\nconst CANVAS_HEIGHT = 500 - HEADER_HEIGHT - HEADER_CANVAS_MARGIN\n    - REPORTER_BAR_HEIGHT - REPORTER_BAR_CANVAS_MARGIN - PADDING + DROP_DOWN_PADDING * 2;\n\nconst WIDTH = PADDING + SIDEBAR_WIDTH + SIDEBAR_CANVAS_MARGIN + CANVAS_HEIGHT + PADDING - DROP_DOWN_PADDING * 2;\n\nexport const COLORS = [\n    \"#ffffff\",\n    \"#ff2121\",\n    \"#ff93c4\",\n    \"#ff8135\",\n    \"#fff609\",\n    \"#249ca3\",\n    \"#78dc52\",\n    \"#003fad\",\n    \"#87f2ff\",\n    \"#8e2ec4\",\n    \"#a4839f\",\n    \"#5c406c\",\n    \"#e5cdc4\",\n    \"#91463d\",\n    \"#000000\"\n];\n\nexport class SpriteEditor implements SideBarHost, SpriteHeaderHost {\n    private group: svg.Group;\n    private toolbarRoot: svg.SVG;\n\n    private paintSurface: CanvasGrid;\n    private sidebar: SideBar;\n    private header: SpriteHeader;\n    // private bottomBar: ReporterBar;\n    // private gallery: Gallery;\n\n    private state: CanvasState;\n\n    // When changing the size, keep the old bitmap around so that we can restore it\n    private cachedState: CanvasState;\n\n    private edit: Edit;\n    private activeTool: PaintTool = PaintTool.Normal;\n    private toolWidth = 1;\n    public color = 1;\n\n    private cursorCol = 0;\n    private cursorRow = 0;\n\n    private undoStack: CanvasState[] = [];\n    private redoStack: CanvasState[] = [];\n    private undoRedo: UndoRedoGroup = undefined;\n\n    private columns: number = 16;\n    private rows: number = 16;\n\n    private shiftDown: boolean = false;\n    private altDown: boolean = false;\n    private mouseDown: boolean = false;\n\n    private closeHandler: () => void;\n\n    constructor(bitmap: Bitmap, blocksInfo?: {}, protected lightMode = false, public scale = 1) {\n\n        this.columns = bitmap.width;\n        this.rows = bitmap.height;\n\n        this.state = new CanvasState(bitmap.copy())\n\n        this.toolbarRoot = new svg.SVG();\n        this.toolbarRoot.setClass(\"sprite-canvas-controls\");\n        this.group = this.toolbarRoot.group();\n        this.createDefs();\n\n        this.paintSurface = new CanvasGrid(COLORS, this.state.copy(), this.lightMode, this.scale);\n\n        this.paintSurface.drag((col, row) => {\n            this.debug(\"gesture (\" + PaintTool[this.activeTool] + \")\");\n            if (!this.altDown) {\n                this.setCell(col, row, this.color, false);\n            }\n\n            // this.bottomBar.updateCursor(col, row);\n        });\n\n        this.paintSurface.up((col, row) => {\n            this.debug(\"gesture end (\" + PaintTool[this.activeTool] + \")\");\n            if (this.altDown) {\n                const color = this.state.image.get(col, row);\n                this.sidebar.setColor(color);\n            } else {\n                this.paintSurface.onEditEnd(col, row, this.edit);\n                if (this.state.floatingLayer && !this.paintSurface.state.floatingLayer) {\n                    this.pushState(true);\n                    this.state = this.paintSurface.state.copy();\n                    this.rePaint();\n                }\n                tickEvent(\"shareExperiment.mod.image\");\n                this.commit();\n                this.shiftAction();\n            }\n\n            this.mouseDown = false;\n        });\n\n        this.paintSurface.down((col, row) => {\n            if (!this.altDown) {\n                this.setCell(col, row, this.color, false);\n            }\n            this.mouseDown = true;\n        });\n\n        this.paintSurface.move((col, row) => {\n            this.drawCursor(col, row);\n            this.shiftAction()\n            // this.bottomBar.updateCursor(col, row);\n        });\n\n        this.paintSurface.leave(() => {\n            if (this.edit) {\n                this.rePaint();\n                if (this.edit.isStarted && !this.shiftDown) {\n                    this.commit();\n                }\n            }\n            // this.bottomBar.hideCursor();\n        });\n\n        this.sidebar = new SideBar(['url(\"#alpha-background\")'].concat(COLORS), this, this.group);\n        this.sidebar.setColor(COLORS.length >= 3 ? 3 : 1); // colors omits 0\n\n        // this.header = new SpriteHeader(this);\n        // this.gallery = new Gallery(blocksInfo);\n        // this.bottomBar = new ReporterBar(this.group, this, REPORTER_BAR_HEIGHT);\n\n        this.updateUndoRedo();\n\n        // Sets canvas scale\n        this.scale = scale;\n    }\n\n    setSidebarColor(color: number) {\n        this.sidebar.setColor(color);\n    }\n\n    setCell(col: number, row: number, color: number, commit: boolean): void {\n        if (commit) {\n            this.state.image.set(col, row, color);\n            this.paintCell(col, row, color);\n        }\n        else if (this.edit) {\n            if (!this.edit.isStarted) {\n                this.paintSurface.onEditStart(col, row, this.edit);\n\n                if (this.state.floatingLayer && !this.paintSurface.state.floatingLayer) {\n                    this.pushState(true);\n                    this.state = this.paintSurface.state.copy();\n                }\n            }\n            this.edit.update(col, row);\n            this.cursorCol = col;\n            this.cursorRow = row;\n            this.paintEdit(this.edit, col, row);\n        }\n    }\n\n    render(el: HTMLDivElement): void {\n        // el.appendChild(this.header.getElement());\n        // el.appendChild(this.gallery.getElement());\n        el.appendChild(this.toolbarRoot.el);\n        this.layout();\n        // this.toolbarRoot.attr({ \"width\": `${65}px`, \"height\": this.outerHeight() + \"px\" });\n        // this.toolbarRoot.el.style.position = \"absolute\";\n        // this.toolbarRoot.el.style.top = \"0px\";\n        // this.toolbarRoot.el.style.left = \"0px\";\n\n        let canvasHolder = document.createElement(\"div\")\n        canvasHolder.setAttribute(\"class\", \"sprite-canvas-container\")\n        el.appendChild(canvasHolder)\n        this.paintSurface.render(canvasHolder);\n    }\n\n    layout(): void {\n        if (!this.toolbarRoot) {\n            return;\n        }\n\n        this.paintSurface.setGridDimensions(CANVAS_HEIGHT);\n\n        // The width of the palette + editor\n        const paintAreaTop = (HEADER_HEIGHT + HEADER_CANVAS_MARGIN);\n        const paintAreaLeft = (PADDING + SIDEBAR_WIDTH + SIDEBAR_CANVAS_MARGIN);\n\n        // this.sidebar.translate(PADDING, paintAreaTop);\n        // TODO(dz): hacky scaling\n        this.paintSurface.updateBounds(paintAreaTop, paintAreaLeft, CANVAS_HEIGHT, CANVAS_HEIGHT);\n        // this.bottomBar.layout(\n        //     HEADER_HEIGHT + HEADER_CANVAS_MARGIN + (CANVAS_HEIGHT + REPORTER_BAR_CANVAS_MARGIN),\n        //     PADDING + SIDEBAR_WIDTH + SIDEBAR_CANVAS_MARGIN, CANVAS_HEIGHT);\n\n        // this.gallery.layout(0, HEADER_HEIGHT, TOTAL_HEIGHT - HEADER_HEIGHT);\n        // this.header.layout();\n    }\n\n    rePaint() {\n        this.paintSurface.repaint();\n    }\n\n    setActiveColor(color: number, setPalette = false) {\n        if (setPalette) {\n        }\n        else if (this.color != color) {\n            this.color = color;\n\n            // If the user is erasing, go back to pencil\n            if (this.activeTool === PaintTool.Erase) {\n                this.sidebar.setTool(PaintTool.Normal);\n            } else {\n                this.updateEdit();\n            }\n        }\n    }\n\n    setActiveTool(tool: PaintTool) {\n        if (this.activeTool != tool) {\n            this.activeTool = tool;\n            this.updateEdit()\n        }\n    }\n\n    setToolWidth(width: number) {\n        if (this.toolWidth != width) {\n            this.toolWidth = width;\n            this.updateEdit();\n        }\n    }\n\n    initializeUndoRedo(undoStack: CanvasState[], redoStack: CanvasState[]) {\n        if (undoStack) {\n            this.undoStack = undoStack;\n        }\n        if (redoStack) {\n            this.redoStack = redoStack;\n        }\n        this.updateUndoRedo();\n    }\n\n    getUndoStack() {\n        return this.undoStack.slice();\n    }\n\n    getRedoStack() {\n        return this.redoStack.slice();\n    }\n\n    undo() {\n        if (this.undoStack.length) {\n            this.debug(\"undo\");\n            const todo = this.undoStack.pop();\n            this.pushState(false);\n\n            // The current state is at the top of the stack unless the user has pressed redo, so\n            // we need to discard it\n            if (todo.equals(this.state)) {\n                this.undo();\n                return;\n            }\n            this.restore(todo);\n        }\n        this.updateUndoRedo();\n    }\n\n    redo() {\n        if (this.redoStack.length) {\n            this.debug(\"redo\");\n            const todo = this.redoStack.pop();\n            this.pushState(true);\n            this.restore(todo);\n        }\n        this.updateUndoRedo();\n    }\n\n    resize(width: number, height: number) {\n        if (!this.cachedState) {\n            this.cachedState = this.state.copy();\n            this.undoStack.push(this.cachedState)\n            this.redoStack = [];\n        }\n        this.state.image = resizeBitmap(this.cachedState.image, width, height);\n        this.afterResize(true);\n    }\n\n    setSizePresets(presets: [number, number][]) {\n        // this.bottomBar.setSizePresets(presets, this.columns, this.rows);\n    }\n\n    canvasWidth() {\n        return this.columns;\n    }\n\n    canvasHeight() {\n        return this.rows;\n    }\n\n    outerWidth() {\n        return WIDTH;\n    }\n\n    outerHeight() {\n        return TOTAL_HEIGHT;\n    }\n\n    bitmap() {\n        return this.state;\n    }\n\n    showGallery() {\n        /*\n        this.gallery.show((result: Bitmap, err?: string) => {\n            if (err && err !== \"cancelled\") {\n                console.error(err);\n            }\n            else if (result) {\n                this.redoStack = [];\n                this.pushState(true);\n                this.restore(new CanvasState(result));\n                this.hideGallery();\n                this.header.toggle.toggle(true);\n            }\n        });*/\n    }\n\n    hideGallery() {\n        //this.gallery.hide();\n    }\n\n    closeEditor() {\n        if (this.closeHandler) {\n            const ch = this.closeHandler;\n            this.closeHandler = undefined;\n            ch();\n        }\n        if (this.state.floatingLayer) {\n            this.state.mergeFloatingLayer();\n            this.pushState(true);\n        }\n    }\n\n    onClose(handler: () => void) {\n        this.closeHandler = handler;\n    }\n\n    switchIconTo(tool: PaintTool) {\n        if (this.activeTool === tool) return;\n\n        const btn = this.sidebar.getButtonForTool(tool) as TextButton;\n\n        switch (tool) {\n            case PaintTool.Rectangle:\n                updateIcon(btn, \"\\uf096\", (\"Rectangle\"));\n                break;\n            case PaintTool.Circle:\n                updateIcon(btn, \"\\uf10c\", (\"Circle\"));\n                break;\n            case PaintTool.Normal:\n                updateIcon(btn, \"\\uf040\", (\"Pencil\"));\n                break;\n            case PaintTool.Line:\n                updateIcon(btn, \"\\uf07e\", (\"Line\"));\n                break;\n            default:  // no alternate icon, do not change\n                return;\n        }\n\n        btn.onClick(() => {\n            if (tool != PaintTool.Circle && tool != PaintTool.Line) {\n                this.setIconsToDefault();\n                this.sidebar.setTool(tool);\n            }\n        });\n\n        function updateIcon(button: TextButton, text: string, title: string) {\n            const shortcut = getPaintToolShortcut(tool);\n\n            button.setText(text);\n            button.title(title);\n            button.shortcut(shortcut);\n        }\n    }\n\n    setIconsToDefault() {\n        this.switchIconTo(PaintTool.Rectangle);\n        this.switchIconTo(PaintTool.Normal);\n    }\n\n    private keyDown = (event: KeyboardEvent) => {\n        if (event.keyCode == 16) { // Shift\n            this.shiftDown = true;\n            this.shiftAction();\n        }\n\n        if (event.keyCode === 18) { // Alt\n            this.discardEdit();\n            this.paintSurface.setEyedropperMouse(true);\n            this.altDown = true;\n        }\n\n        if (this.state.floatingLayer) {\n            let didSomething = true;\n\n            switch (event.keyCode) {\n                case 8: // backspace\n                case 46: // delete\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.state.floatingLayer = undefined;\n                    break;\n                case 37: // Left arrow\n                    this.state.layerOffsetX--;\n                    break;\n                case 38: // Up arrow\n                    this.state.layerOffsetY--;\n                    break;\n                case 39: // Right arrow\n                    this.state.layerOffsetX++;\n                    break;\n                case 40: // Down arrow\n                    this.state.layerOffsetY++;\n                    break;\n                default:\n                    didSomething = false;\n            }\n\n            if (didSomething) {\n                this.updateEdit();\n                this.pushState(true);\n                this.paintSurface.restore(this.state, true);\n            }\n        }\n\n        const tools = [\n            PaintTool.Fill,\n            PaintTool.Normal,\n            PaintTool.Rectangle,\n            PaintTool.Erase,\n            PaintTool.Circle,\n            PaintTool.Line,\n            PaintTool.Marquee\n        ]\n\n        tools.forEach(tool => {\n            if (event.key === getPaintToolShortcut(tool)) {\n                this.setIconsToDefault();\n                this.switchIconTo(tool);\n                this.sidebar.setTool(tool);\n            }\n        });\n\n        const zeroKeyCode = 48;\n        const nineKeyCode = 57;\n\n        if (event.keyCode >= zeroKeyCode && event.keyCode <= nineKeyCode) {\n            let color = event.keyCode - zeroKeyCode;\n            if (this.shiftDown) {\n                color += 9;\n            }\n            if (color <= COLORS.length) { // colors omits 0\n                this.sidebar.setColor(color);\n            }\n        }\n    }\n\n    private keyUp = (event: KeyboardEvent) => {\n        // If not drawing a circle, switch back to Rectangle and Pencil\n        if (event.keyCode === 16) { // Shift\n            this.shiftDown = false;\n            this.clearShiftAction();\n        } else if (event.keyCode === 18) { // Alt\n            this.altDown = false;\n            this.paintSurface.setEyedropperMouse(false);\n            this.updateEdit();\n        }\n    }\n\n    private undoRedoEvent = (event: KeyboardEvent) => {\n        const controlOrMeta = event.ctrlKey || event.metaKey; // ctrl on windows, meta on mac\n        if (event.key === \"Undo\" || (controlOrMeta && event.key === \"z\")) {\n            this.undo();\n            event.preventDefault();\n            event.stopPropagation();\n        } else if (event.key === \"Redo\" || (controlOrMeta && event.key === \"y\")) {\n            this.redo();\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    addKeyListeners() {\n        document.addEventListener(\"keydown\", this.keyDown);\n        document.addEventListener(\"keyup\", this.keyUp);\n        document.addEventListener(\"keydown\", this.undoRedoEvent, true);\n    }\n\n    removeKeyListeners() {\n        document.removeEventListener(\"keydown\", this.keyDown);\n        document.removeEventListener(\"keyup\", this.keyUp);\n        document.removeEventListener(\"keydown\", this.undoRedoEvent, true);\n        this.paintSurface.removeMouseListeners();\n    }\n\n    private afterResize(showOverlay: boolean) {\n        this.columns = this.state.width;\n        this.rows = this.state.height;\n        this.paintSurface.restore(this.state, true);\n        // this.bottomBar.updateDimensions(this.columns, this.rows);\n        this.layout();\n\n        if (showOverlay) this.paintSurface.showResizeOverlay();\n\n        // Canvas size changed and some edits rely on that (like paint)\n        this.updateEdit();\n    }\n\n    private drawCursor(col: number, row: number) {\n        if (this.edit) {\n            this.paintSurface.drawCursor(this.edit, col, row);\n        }\n    }\n\n    private paintEdit(edit: Edit, col: number, row: number, gestureEnd = false) {\n        this.paintSurface.restore(this.state);\n        this.paintSurface.applyEdit(edit, col, row, gestureEnd);\n    }\n\n    public commit() {\n        if (this.edit) {\n            if (this.cachedState) {\n                this.cachedState = undefined;\n            }\n            this.pushState(true);\n            this.paintEdit(this.edit, this.cursorCol, this.cursorRow, true);\n            this.state = this.paintSurface.state.copy();\n            this.updateEdit();\n            this.redoStack = [];\n        }\n    }\n\n    private pushState(undo: boolean) {\n        const stack = undo ? this.undoStack : this.redoStack;\n        if (stack.length && this.state.equals(stack[stack.length - 1])) {\n            // Don't push empty commits\n            return;\n        }\n\n        stack.push(this.state.copy());\n        this.updateUndoRedo();\n    }\n\n    private discardEdit() {\n        if (this.edit) {\n            this.edit = undefined;\n            this.rePaint();\n        }\n    }\n\n    private updateEdit() {\n        if (!this.altDown) {\n            this.edit = this.newEdit();\n        }\n    }\n\n    private restore(state: CanvasState) {\n        if (state.width !== this.state.width || state.height !== this.state.height) {\n            this.state = state;\n            this.afterResize(false);\n        }\n        else {\n            this.state = state.copy();\n            this.paintSurface.restore(state, true);\n        }\n    }\n\n    private updateUndoRedo() {\n        // this.bottomBar.updateUndoRedo(this.undoStack.length === 0, this.redoStack.length === 0)\n        this.sidebar.updateUndoRedo(this.undoStack.length === 0, this.redoStack.length === 0)\n    }\n\n    private paintCell(col: number, row: number, color: number) {\n        this.paintSurface.writeColor(col, row, color);\n    }\n\n    private newEdit() {\n        switch (this.activeTool) {\n            case PaintTool.Normal:\n                return new PaintEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Rectangle:\n                return new OutlineEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Outline:\n                return new OutlineEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Line:\n                return new LineEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Circle:\n                return new CircleEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Erase:\n                return new PaintEdit(this.columns, this.rows, 0, this.toolWidth);\n            case PaintTool.Fill:\n                return new FillEdit(this.columns, this.rows, this.color, this.toolWidth);\n            case PaintTool.Marquee:\n                return new MarqueeEdit(this.columns, this.rows, this.color, this.toolWidth);\n        }\n    }\n\n    private shiftAction() {\n        if (!this.shiftDown || this.altDown)\n            return;\n\n        switch (this.activeTool) {\n            case PaintTool.Line:\n            case PaintTool.Rectangle:\n            case PaintTool.Circle:\n                this.setCell(this.paintSurface.mouseCol, this.paintSurface.mouseRow, this.color, false);\n                break;\n        }\n    }\n\n    private clearShiftAction() {\n        if (this.mouseDown)\n            return;\n\n        switch (this.activeTool) {\n            case PaintTool.Line:\n            case PaintTool.Rectangle:\n            case PaintTool.Circle:\n                this.updateEdit();\n                this.paintSurface.restore(this.state, true);\n                break;\n        }\n    }\n\n    private debug(msg: string) {\n        // if (this.debugText) {\n        //     this.debugText.text(\"DEBUG: \" + msg);\n        // }\n    }\n\n    private createDefs() {\n        this.toolbarRoot.define(defs => {\n            const p = defs.create(\"pattern\", \"alpha-background\")\n                .size(10, 10)\n                .units(svg.PatternUnits.userSpaceOnUse);\n\n            p.draw(\"rect\")\n                .at(0, 0)\n                .size(10, 10)\n                .fill(\"white\");\n            p.draw(\"rect\")\n                .at(0, 0)\n                .size(5, 5)\n                .fill(\"#dedede\");\n            p.draw(\"rect\")\n                .at(5, 5)\n                .size(5, 5)\n                .fill(\"#dedede\");\n        })\n    }\n}","import React, { CSSProperties } from 'react';\n\nimport '../css/SpriteGallery.css';\nimport { Bitmap } from '../sprite-editor/bitmap';\nimport { bitmapToUrl } from '../bitmap_helpers';\n\nexport interface SpriteGalleryProps {\n    height: number,\n    options: Bitmap[],\n    onClick: (b: Bitmap) => void,\n}\ninterface SpriteGalleryState {\n}\n\ninterface ItemProps {\n    onClick: () => void,\n    img: Bitmap\n}\nconst Item: React.FC<ItemProps> = (props: ItemProps) => {\n    let style: CSSProperties = {\n        backgroundColor: \"blue\"\n    }\n    let classes = `item`\n    let data = bitmapToUrl(props.img)\n    return (\n        <div className={classes} style={style} onClick={props.onClick}>\n            <img src={data}>\n            </img>\n        </div>\n    );\n}\nexport class SpriteGallery extends React.Component<SpriteGalleryProps, SpriteGalleryState>\n{\n    private spriteGallery: HTMLDivElement | undefined;\n\n    constructor(props: SpriteGalleryProps) {\n        super(props);\n\n        this.state = {\n        }\n\n    }\n\n    componentDidMount() {\n        this.spriteGallery = this.refs[\"sprite-gallery\"] as HTMLDivElement\n\n        // this.spriteGallery.setAttribute(\"style\", `height:${this.props.height}px`)\n    }\n    componentWillUnmount() {\n        this.spriteGallery = undefined\n    }\n\n    clickHandler(idx: number) {\n        this.props.onClick(this.props.options[idx])\n    }\n\n    render() {\n        let items = this.props.options\n            .map((c, i) =>\n                <Item\n                    key={c.buf.toString()}\n                    img={c}\n                    onClick={this.clickHandler.bind(this, i)}></Item>\n            )\n\n        return (\n            <div ref=\"sprite-gallery\"\n                className=\"sprite-gallery\">\n                {items}\n            </div>\n        );\n    }\n}\n\nexport default SpriteGallery;\n\n","import React from 'react';\nimport { Bitmap } from '../sprite-editor/bitmap';\nimport * as SE from '../sprite-editor/spriteEditor'\nimport { SpriteEditor } from '../sprite-editor/spriteEditor';\nimport SpriteGallery, { SpriteGalleryProps } from './SpriteGallery';\nimport { TOOLBAR_WIDTH, TOOLBAR_HEIGHT } from '../sprite-editor/sidebar';\n\ninterface SpriteEditorProps {\n    onPlay: () => void;\n    scale: number;\n    startImage: Bitmap;\n    galleryProps: SpriteGalleryProps;\n}\ninterface SpriteEditorState {\n}\n\nexport class SpriteEditorComp extends React.Component<SpriteEditorProps, SpriteEditorState>\n{\n    protected spriteEditorHolder: HTMLDivElement | undefined;\n    public editor: SpriteEditor | undefined;\n\n    constructor(props: SpriteEditorProps) {\n        super(props);\n\n        this.state = {\n        }\n\n    }\n\n    componentDidMount() {\n        this.spriteEditorHolder = this.refs['sprite-editor-holder'] as HTMLDivElement;\n        this.renderSpriteEditor()\n    }\n    componentWillUnmount() {\n        this.removeSpriteEditor();\n        this.spriteEditorHolder = undefined;\n    }\n    componentDidUpdate() {\n        this.removeSpriteEditor()\n        this.renderSpriteEditor()\n    }\n\n    // resize() {\n    //     this.spriteEditorHolder.style.transform = `scale(${this.props.scale})`;\n    // }\n\n    removeSpriteEditor() {\n        let toRemove: Element[] = []\n        for (let r of this.spriteEditorHolder.children)\n            toRemove.push(r)\n        toRemove\n            .filter(r => r.className !== \"sprite-gallery\")\n            .forEach(r =>\n                this.spriteEditorHolder.removeChild(r));\n        this.editor = null\n    }\n\n    renderSpriteEditor() {\n        let currImg = this.props.startImage\n        let spriteEditor = this.editor = new SpriteEditor(currImg, null, false, this.props.scale);\n        spriteEditor.render(this.spriteEditorHolder);\n        let controls = document.getElementsByClassName(\"sprite-canvas-controls\")[0]\n        controls.setAttribute(\"viewBox\", `${0} ${0} ${TOOLBAR_WIDTH} ${TOOLBAR_HEIGHT}`)\n\n        spriteEditor.rePaint();\n        spriteEditor.setActiveColor(1, true);\n        spriteEditor.setSizePresets([\n            [8, 8],\n            [16, 16],\n            [32, 32],\n            [10, 8]\n        ]);\n\n        this.spriteEditorHolder.className += ' sprite-editor-container sprite-editor-dropdown-bg sprite-editor-dropdown';\n        spriteEditor.addKeyListeners();\n        spriteEditor.onClose(() => {\n            this.props.onPlay()\n        });\n    }\n\n    render() {\n        let gp = this.props.galleryProps\n        return (\n            <div ref=\"sprite-editor-holder\">\n                <SpriteGallery options={gp.options} onClick={gp.onClick} height={gp.height} >\n\n                </SpriteGallery>\n            </div>\n        );\n    }\n}\n\nexport default SpriteEditor;\n","import { Bitmap } from '../sprite-editor/bitmap';\nimport { COLORS } from '../sprite-editor/spriteEditor';\n\nconst base = \"data:image/png;base64,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\";\nconst defaultBackground = 13;\nconst colors = [null].concat(COLORS)\n\n\nexport async function mkScreenshotAsync(bgColor: number, images: Bitmap[]): Promise<string> {\n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n\n    const background = await loadImageAsync(base);\n\n    canvas.width = background.width;\n    canvas.height = background.height;\n\n    context.drawImage(background, 0, 0);\n\n    if (bgColor != defaultBackground) {\n        const imgData = context.getImageData(0, 0, canvas.width, canvas.height);\n        const data = imgData.data;\n        const toReplace = colorToArray(colors[defaultBackground]);\n        const replace = colorToArray(colors[bgColor]);\n\n        for (let index = 0; index < data.length; index += 4) {\n            if (data[index] === toReplace[0] && data[index + 1] === toReplace[1] && data[index + 2] === toReplace[2]) {\n                data[index] = replace[0];\n                data[index + 1] = replace[1];\n                data[index + 2] = replace[2];\n            }\n        }\n\n        context.putImageData(imgData, 0, 0);\n    }\n\n    drawImage(images[0], context, 25, 85 - images[0].height);\n    drawImage(images[1], context, 10, 105 - images[1].height);\n    drawImage(images[2], context, 110, 105 - images[2].height);\n\n    return canvas.toDataURL();\n}\n\nfunction drawImage(image: Bitmap, context: CanvasRenderingContext2D, left: number, top: number) {\n    let current: number;\n    for (let x = 0; x < image.width; x++) {\n        for (let y = 0; y < image.height; y++) {\n            current = image.get(x, y);\n\n            if (current) {\n                context.fillStyle = colors[current];\n                context.fillRect(left + x, top + y, 1, 1);\n            }\n        }\n    }\n}\n\n\nexport async function loadImageAsync(uri: string): Promise<HTMLImageElement> {\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n        const el = document.createElement(\"img\");\n\n        el.onload = () => resolve(el);\n        el.onerror = (e) => reject(e);\n\n        el.src = uri;\n    });\n}\n\nfunction colorToArray(color: string) {\n    return [\n        parseInt(color.substr(1, 2), 16),\n        parseInt(color.substr(3, 2), 16),\n        parseInt(color.substr(5, 2), 16)\n    ];\n}","import React from 'react';\nimport TabBar from './TabBar'\nimport ColorPicker from './ColorPicker'\n\nimport '../css/GameModder.css';\nimport '../css/icons.css';\nimport '../css/SpriteEditor.css';\nimport { imageLiteralToBitmap, Bitmap } from '../sprite-editor/bitmap';\nimport { textToBitmap, createPngImg, updatePngImg, bitmapToBinHex, bitmapToText, isEmptyBitmap } from '../bitmap_helpers';\nimport { tickEvent } from '../telemetry/appinsights';\nimport { UserProject } from './util';\nimport { bunny_hop_bin_js } from '../games/bunny_hop/bin.js';\nimport { bunny_hop_main_ts } from '../games/bunny_hop/main.ts';\nimport { bunny_hop_main_blocks } from '../games/bunny_hop/main.blocks';\nimport { gameModderState } from '../App';\nimport { SpriteEditorComp } from './SpriteEditor';\nimport * as SE from '../sprite-editor/spriteEditor'\nimport { mkScreenshotAsync } from \"./screenshot\";\nimport { SpriteGalleryProps } from './SpriteGallery';\n// import { bunnyHopBinJs } from '../../public/games/bunny_hop/bunny_hop_min.js.js';\n\nexport interface GameModderProps {\n    playHandler: (proj: UserProject) => void;\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n}\n\nexport interface UserImage {\n    default: Bitmap,\n    data: Bitmap,\n    name: string,\n    callToAction: string,\n}\nexport interface GameModderState {\n    userImages: UserImage[]\n    currentImg: number,\n    currentBackground: number,\n}\nfunction IsGameModderState(s: any): s is GameModderState {\n    return !!(s as GameModderState).userImages\n}\n\nfunction CreateEmptyImageText(w: number, h: number) {\n    let res = \"\\n\"\n    for (let i = 0; i < h; i++)\n        res += \".\".repeat(w) + \"\\n\"\n    return res\n}\nfunction GetImageTextDimensions(s: string): { w: number, h: number } {\n    s = s.trim()\n    let lns = s.split(\"\\n\")\n    let ln1 = lns[0].replace(/\\s/g, \"\")\n    return {\n        w: ln1.length,\n        h: lns.length\n    }\n}\n\n// TODO: either we need binHexToBitmap or we need the original source code\n\nfunction mkPxtJson(): string {\n    let json = {\n        \"name\": \"SampleIMages\",\n        \"dependencies\": {\n            \"device\": \"*\"\n        },\n        \"description\": \"\",\n        \"files\": [\n            \"main.blocks\",\n            \"main.ts\",\n            \"README.md\"\n        ],\n        \"preferredEditor\": \"blocksprj\"\n    }\n    return JSON.stringify(json)\n}\n\nasync function getTxtFile(url: string): Promise<string> {\n    return new Promise((resolve, reject) => {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.responseType = 'text';\n        xhr.onload = function () {\n            var status = xhr.status;\n            if (status === 200) {\n                resolve(xhr.response);\n            } else {\n                const err = new Error(`Error response (${status}) from '${url}'; content: ${xhr.response}`);\n                reject(err)\n            }\n        };\n        xhr.send();\n    });\n};\n\nconst moddableImages: { [k: string]: string } = {\n    \"character\": `\n        . . . . . . . . . . . .\n        . . . 1 1 . 1 1 . . . .\n        . . . 1 3 . 1 3 . . . .\n        . . . . 1 3 . 1 3 . . .\n        . . . . 1 3 . 1 3 . . .\n        . . . 1 1 1 1 1 1 . . .\n        . . 1 1 1 1 1 1 1 1 . .\n        . . 1 1 1 f 1 1 f 1 . .\n        . . 1 1 1 1 1 1 1 1 . .\n        . . 1 1 1 1 f f 1 1 . .\n        . . . 1 1 1 1 1 1 . . .\n        . 1 1 1 1 1 1 1 1 1 1 .\n        . 1 1 1 1 1 1 1 1 1 1 .\n        . . . . 1 1 1 1 . . . .\n        . . . . 1 1 1 1 . . . .\n        . . . . 1 1 1 1 . . . .\n        . . . . 1 1 1 1 . . . .\n        . . . . . 1 1 . . . . .\n        . . . . . . 1 . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n    `,\n    \"obstacle1\": `\n        . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . 7 . . . . . . . . . . .\n        . . . . . . . . . . 7 7 . . . . . . . . . .\n        . . . . . . . . . 6 7 7 . . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 7 . . . . . . . .\n        . . . . . . . 6 6 7 7 7 7 7 . . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 . . . . . . . .\n        . . . . . . . . 6 6 6 6 6 . . . . . . . . .\n        . . . . . . . . 6 6 6 6 . . . . . . . . . .\n        . . . . . . . 6 6 6 6 6 7 7 . . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 7 . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 7 7 . . . . . .\n        . . . . . . 6 6 7 7 7 7 7 7 7 7 7 . . . . .\n        . . 6 6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 . . .\n        . . . 6 6 6 6 6 7 7 7 7 7 6 6 6 6 6 . . . .\n        . . . . . . . . 6 6 6 6 7 7 . . . . . . . .\n        . . . . . . . . 6 6 6 7 7 7 . . . . . . . .\n        . . . . . . 6 6 7 7 7 7 7 7 7 . . . . . . .\n        . . . 6 6 6 7 7 7 7 7 7 7 7 7 7 7 . . . . .\n        6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 7 7 . . . .\n        6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 6\n        . . . 6 6 6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 6 .\n        . . . . . 6 6 6 6 e e e e 7 7 7 7 7 6 6 6 .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . 6 . e e e e . . 6 . . . . . .\n        . . . 6 6 6 . . . e e e e . 6 . . . . . . .\n        . . . 6 . 6 . . . e e e e . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . .\n   `,\n    \"obstacle2\": `\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . e e e e e . . . . .\n        . . . . e e b b b e e . . . .\n        . . . e e b e e e b e e . . .\n        . . . e e b e e b b e e . . .\n        . . . . e e b b e e e . . . .\n        . . . e b e e e e b b e . . .\n        . . . e e b b b b e e e . . e\n        . . . e e e e e e e e . . e .\n        . . . e b e e b e b e . e . e\n        . . . e b e e e e b e e . . .\n        . . . e e e b e e e e . . . .\n        . . e e b e b e b e e e . . .\n        . e e e e e e e e e e e e . .\n        . . . . . . e e . . . . . . .\n   `,\n    \"background\": `\n    . . . d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d . . .\n    . . d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d . .\n    . d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d .\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d d b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d b b b b b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b b d d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b b d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d b b b b b b b d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d b b b b b b b b b b d d d d d d d d d d d d\n    d d d d d d d d d d d d b b b b d d b b b b b b b d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d b b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d b b b b b b d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d b b b b b b d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d b b b b b b b b d d d d d d d d d d d d d\n    d d d d d d d d d d d d b b b b b b b b b b b b b d d d d d d d d d d d\n    d d d d d d d d b b b b b b b b b b b b b b b b b b b b d d d d d d d d\n    d d d d d d d d d d d b b b b b b b b b b b b b b b b d d d d d d d d d\n    d d d d d d d d d d d d d d d d b b b b b b b d b d d d d d d d d d d d\n    d d d d d d d d d d d d d d b b b b b b b b b b b b b b b b d d d d d d\n    d d d d d d d d d d d b b b b b b b b b b b b b b b b b b d d d d d d d\n    d d d d d d d d b b b b b b b b b b b b b b b b b b b d d d d d d d d d\n    d d d d d d d d d d b b b b b d d d b b b b d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b b b d d d d d d d d d d d d d d d\n    d d d d d d d d d d d d d d d d d d b d b d d d d d d d d d d d d d d d\n    . d d d d d d d d d d d d d d d d d b d b d d d d d d d d d d d d d d .\n    . . d d d d d d d d d d d d d d d d b b b d d d d d d d d d d d d d . .\n    . . . d d d d d d d d d d d d d d d b b b d d d d d d d d d d d d . . .\n`\n}\nconst CALL_TO_ACTION: { [k: string]: string } = {\n    \"character\": \"Draw your character!\",\n    \"obstacle1\": \"Draw an obstacle!\",\n    \"obstacle2\": \"Draw another obstacle!\",\n    \"background\": \"Choose your background!\"\n}\n// TODO:\n// 15x32 stump\n// 22x32 tree\n\n\n\nfunction range(len: number): number[] {\n    return new Array(len)\n        .fill(undefined)\n        .map((_, i) => i)\n}\nfunction img2Rows(imgTxt: string) {\n    let rows = imgTxt.split(\"\\n\")\n        .map(r => r.replace(/\\s/g, \"\"))\n        .filter(r => !!r)\n    return rows\n}\nfunction rows2img(rows: string[]): string {\n    return rows.join('\\n')\n}\nfunction resizeUp(imgTxt: string, targW: number, targH: number): string {\n    let rows = img2Rows(imgTxt)\n    let oldW = rows[0].length\n    let oldH = rows.length\n\n    if (oldW > targW || oldH > targH)\n        return imgTxt;\n\n    const left2add = Math.floor((targW - oldW) / 2)\n    const right2add = targW - oldW - left2add\n    const top2add = targH - oldH\n\n    let addCols = (numL: number, numR: number) => {\n        let l = '.'.repeat(numL)\n        let r = '.'.repeat(numR)\n        rows = rows.map(o => l + o + r)\n    }\n    let addRows = (numT: number) => {\n        let newR = range(numT)\n            .map(_ => '.'.repeat(targW))\n        rows = [...newR, ...rows]\n    }\n\n    addCols(left2add, right2add)\n    addRows(top2add)\n\n    return rows2img(rows)\n}\nfunction resizeTo24x24(imgTxt: string) {\n    return resizeUp(imgTxt, 24, 24)\n}\nfunction mirror(imgTxt: string): string {\n    let rows = img2Rows(imgTxt)\n\n    rows = rows.map(r =>\n        r.split(\"\").reverse().join(\"\"))\n\n    return rows2img(rows)\n}\n\nconst SAMPLE_CHARACTERS = [`.`, `\n    . . . . . . . . . . b 5 b . . .\n    . . . . . . . . . b 5 b . . . .\n    . . . . . . . . . b c . . . . .\n    . . . . . . b b b b b b . . . .\n    . . . . . b b 5 5 5 5 5 b . . .\n    . . . . b b 5 d 1 f 5 5 d f . .\n    . . . . b 5 5 1 f f 5 d 4 c . .\n    . . . . b 5 5 d f b d d 4 4 . .\n    b d d d b b d 5 5 5 4 4 4 4 4 b\n    b b d 5 5 5 b 5 5 4 4 4 4 4 b .\n    b d c 5 5 5 5 d 5 5 5 5 5 b . .\n    c d d c d 5 5 b 5 5 5 5 5 5 b .\n    c b d d c c b 5 5 5 5 5 5 5 b .\n    . c d d d d d d 5 5 5 5 5 d b .\n    . . c b d d d d d 5 5 5 b b . .\n    . . . c c c c c c c c b b . . .\n`, mirror(`\n    e e e . . . . e e e . . . .\n    c d d c . . c d d c . . . .\n    c b d d f f d d b c . . . .\n    c 3 b d d b d b 3 c . . . .\n    f b 3 d d d d 3 b f . . . .\n    e d d d d d d d d e . . . .\n    e d f d d d d f d e . b f b\n    f d d f d d f d d f . f d f\n    f b d d b b d d 2 f . f d f\n    . f 2 2 2 2 2 2 b b f f d f\n    . f b d d d d d d b b d b f\n    . f d d d d d b d d f f f .\n    . f d f f f d f f d f . . .\n    . f f . . f f . . f f . . .\n`), mirror(`\n    . . 4 4 4 . . . . 4 4 4 . . . .\n    . 4 5 5 5 e . . e 5 5 5 4 . . .\n    4 5 5 5 5 5 e e 5 5 5 5 5 4 . .\n    4 5 5 4 4 5 5 5 5 4 4 5 5 4 . .\n    e 5 4 4 5 5 5 5 5 5 4 4 5 e . .\n    . e e 5 5 5 5 5 5 5 5 e e . . .\n    . . e 5 f 5 5 5 5 f 5 e . . . .\n    . . f 5 5 5 4 4 5 5 5 f . . f f\n    . . f 4 5 5 f f 5 5 6 f . f 5 f\n    . . . f 6 6 6 6 6 6 4 4 f 5 5 f\n    . . . f 4 5 5 5 5 5 5 4 4 5 f .\n    . . . f 5 5 5 5 5 4 5 5 f f . .\n    . . . f 5 f f f 5 f f 5 f . . .\n    . . . f f . . f f . . f f . . .\n`)].map(resizeTo24x24)\nconst SAMPLE_OBSTACLES = [`.`, `\n    . . . . . . . . . c c 8 . . . .\n    . . . . . . 8 c c c f 8 c c . .\n    . . . c c 8 8 f c a f f f c c .\n    . . c c c f f f c a a f f c c c\n    8 c c c f f f f c c a a c 8 c c\n    c c c b f f f 8 a c c a a a c c\n    c a a b b 8 a b c c c c c c c c\n    a f c a a b b a c c c c c f f c\n    a 8 f c a a c c a c a c f f f c\n    c a 8 a a c c c c a a f f f 8 a\n    . a c a a c f f a a b 8 f f c a\n    . . c c b a f f f a b b c c 6 c\n    . . . c b b a f f 6 6 a b 6 c .\n    . . . c c b b b 6 6 a c c c c .\n    . . . . c c a b b c c c . . . .\n    . . . . . c c c c c c . . . . .\n`, `\n    . . . . . . b b b b . . . . . .\n    . . . . . . b 4 4 4 b . . . . .\n    . . . . . . b b 4 4 4 b . . . .\n    . . . . . b 4 b b b 4 4 b . . .\n    . . . . b d 5 5 5 4 b 4 4 b . .\n    . . . . b 3 2 3 5 5 4 e 4 4 b .\n    . . . b d 2 2 2 5 7 5 4 e 4 4 e\n    . . . b 5 3 2 3 5 5 5 5 e e e e\n    . . b d 7 5 5 5 3 2 3 5 5 e e e\n    . . b 5 5 5 5 5 2 2 2 5 5 d e e\n    . b 3 2 3 5 7 5 3 2 3 5 d d e 4\n    . b 2 2 2 5 5 5 5 5 5 d d e 4 .\n    b d 3 2 d 5 5 5 d d d 4 4 . . .\n    b 5 5 5 5 d d 4 4 4 4 . . . . .\n    4 d d d 4 4 4 . . . . . . . . .\n    4 4 4 4 . . . . . . . . . . . .\n`, `\n    . . . b b b b b b b b b b . . .\n    . . b 1 1 1 1 1 1 1 1 1 1 b . .\n    . b 1 1 1 1 1 1 1 1 1 1 1 1 b .\n    . b 1 1 1 1 1 1 1 1 1 1 1 1 b .\n    . b d d c c c c c c c c d d b .\n    . b d c 6 6 6 6 6 6 6 6 c d b .\n    . b d c 6 1 d 6 6 6 6 6 c d b .\n    . b d c 6 d 6 6 6 6 6 6 c d b .\n    . b d c 6 6 6 6 6 6 6 6 c d b .\n    . b d c 6 6 6 6 6 6 6 6 c d b .\n    . b d c 6 6 6 6 6 6 6 6 c d b .\n    . b d d c c c c c c c c d d b .\n    . c b b b b b b b b b b b b c .\n    f c c c c c c c c c c c c c c f\n    f b b b b b b b b b b b b b b f\n    f b c d d d d d d d d d d d b f\n    f b c b b b b b b b b b b c b f\n    f b c b b b b b b b b b b c b f\n    f b c c c c c c c c c c c c b f\n    f b b b b b b b b b b b b b b f\n    f b f f f f f f f f f f f f b f\n    f f f f f f f f f f f f f f f f\n`].map(resizeTo24x24)\n\nconst SAMPLE_OBSTACLES2 = [`.`, `\n    . . . . . . . 6 . . . . . . . .\n    . . . . . . 8 6 6 . . . 6 8 . .\n    . . . e e e 8 8 6 6 . 6 7 8 . .\n    . . e 2 2 2 2 e 8 6 6 7 6 . . .\n    . e 2 2 4 4 2 7 7 7 7 7 8 6 . .\n    . e 2 4 4 2 6 7 7 7 6 7 6 8 8 .\n    e 2 4 5 2 2 6 7 7 6 2 7 7 6 . .\n    e 2 4 4 2 2 6 7 6 2 2 6 7 7 6 .\n    e 2 4 2 2 2 6 6 2 2 2 e 7 7 6 .\n    e 2 4 2 2 4 2 2 2 4 2 2 e 7 6 .\n    e 2 4 2 2 2 2 2 2 2 2 2 e c 6 .\n    e 2 2 2 2 2 2 2 4 e 2 e e c . .\n    e e 2 e 2 2 4 2 2 e e e c . . .\n    e e e e 2 e 2 2 e e e c . . . .\n    e e e 2 e e c e c c c . . . . .\n    . c c c c c c c . . . . . . . .\n`, `\n    . . . . . c c b b b . . . . . .\n    . . . . c b d d d d b . . . . .\n    . . . . c d d d d d d b b . . .\n    . . . . c d d d d d d d d b . .\n    . . . c b b d d d d d d d b . .\n    . . . c b b d d d d d d d b . .\n    . c c c c b b b b d d d b b b .\n    . c d d b c b b b b b b b b d b\n    c b b d d d b b b b b d d b d b\n    c c b b d d d d d d d b b b d c\n    c b c c c b b b b b b b d d c c\n    c c b b c c c c b d d d b c c b\n    . c c c c c c c c c c c b b b b\n    . . c c c c c b b b b b b b c .\n    . . . . . . c c b b b b c c . .\n    . . . . . . . . c c c c . . . .\n`, `\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . f f f . . . . . . . .\n    . . . . . . . . . . . . f 2 f f f f f . . . . .\n    . . . . . . . . . . f f 2 2 e e e e e f f . . .\n    . . . . . . . . . f f 2 2 2 e e e e e e f f . .\n    . . . . . . . . . f e e e e f f f e e e e f . .\n    . . . . . . . . f e 2 2 2 2 e e e f f f f f . .\n    . . . . . . . . f 2 e f f f f f 2 2 2 e f f f .\n    . c c . . . . . f f f e e e f f f f f f f f f .\n    . c d c c . . . f e e 4 4 f b b e 4 4 e f e f .\n    . c c d d c c . . f e d d f b b 4 d 4 e e f . .\n    . . . c d d d c e e f d d d d d 4 e e e f . . .\n    . . . . c c d c d d e e 2 2 2 2 2 2 2 f . . . .\n    . . . . . c c c d d 4 4 e 5 4 4 4 4 4 f . . . .\n    . . . . . . . . e e e e f f f f f f f f . . . .\n    . . . . . . . . . . . . f f . . . f f f . . . .\n`].map(resizeTo24x24)\n\n// console.dir(SAMPLE_CHARACTERS)\n// console.dir(SAMPLE_OBSTACLES)\n\nexport class GameModder extends React.Component<GameModderProps, GameModderState> {\n    protected playBtn: HTMLButtonElement | undefined;\n    protected spriteEditor: SpriteEditorComp;\n    protected header: HTMLHeadingElement | undefined;\n    private tabImages: Bitmap[];\n    private scale: number = 1.0;\n\n    constructor(props: GameModderProps) {\n        super(props);\n\n        if (IsGameModderState(gameModderState)) {\n            // Loading previous modder state\n            this.state = gameModderState\n        } else {\n            // Creating new modder state\n            let imgs = Object.keys(moddableImages)\n                .map((name) => {\n                    let def = moddableImages[name]\n                    // TODO: match the original dimensions? One difficulty with this\n                    // is the sprite editor canvas can't handle this\n                    // let { w, h } = GetImageTextDimensions(moddableImages[name])\n                    let [w, h] = [24, 24]\n                    let blank = CreateEmptyImageText(w, h);\n                    return {\n                        data: imageLiteralToBitmap(blank),\n                        name: name,\n                        callToAction: CALL_TO_ACTION[name],\n                        default: textToBitmap(def)\n                    };\n                })\n\n            this.state = {\n                userImages: imgs,\n                currentImg: 0,\n                currentBackground: 12\n            }\n            Object.assign(gameModderState, this.state)\n        }\n\n        this.tabImages = Object.keys(moddableImages)\n            .map(k => moddableImages[k])\n            .map(textToBitmap)\n    }\n\n\n    // async renderExperiments() {\n    //     let tabBar = this.refs[\"tab-bar\"] as TabBar\n    //     let dummyImg = createPngImg(20, 20, 64, 64)\n    //     tabBar.TabBarSvg.appendChild(dummyImg)\n    //     setInterval(() => {\n    //         updatePngImg(dummyImg, this.spriteEditor.bitmap().image)\n    //     }, 500)\n\n    //     function getImages(ts: string) {\n    //         let imgRegex = /img`([\\d\\s\\.a-f]*)`/gm\n    //         let match = imgRegex.exec(ts);\n    //         let res: string[] = []\n    //         while (match != null) {\n    //             res.push(match[1])\n    //             match = imgRegex.exec(ts);\n    //         }\n    //         return res\n    //     }\n\n    //     // HACK:\n    //     let mainTs = bunny_hop_main_ts;\n    //     // let mainTs = await getTxtFile(\"games/bunny_hop/main.ts\")\n\n    //     // TODO: find images\n    //     let imgs = getImages(mainTs)\n    //     // console.dir(imgs)\n\n    //     let imgsAsBmps = imgs.map(textToBitmap)\n    //     // console.dir(imgsAsBmps)\n    // }\n\n    private updateCurrentUserImage(bmp: Bitmap) {\n        // TODO: set image bug somehow?\n        function updateUserImage(old: UserImage, nw: Bitmap): UserImage {\n            return {\n                data: nw,\n                name: old.name,\n                callToAction: old.callToAction,\n                default: old.default\n            }\n        }\n        let newState = {\n            userImages: this.state.userImages.map((m, i) =>\n                i === this.state.currentImg\n                    ? updateUserImage(m, bmp)\n                    : m)\n        }\n        this.setState(newState)\n        Object.assign(gameModderState, newState)\n    }\n\n    private save() {\n        if (this.spriteEditor && this.spriteEditor.editor) {\n            this.spriteEditor.editor.commit()\n            let newImg = this.spriteEditor.editor.bitmap().image\n            this.updateCurrentUserImage(newImg)\n        }\n    }\n\n    onTabChange(idx: number) {\n        this.save()\n        this.setState({ currentImg: idx })\n        if (IsGameModderState(gameModderState))\n            gameModderState.currentImg = idx\n        tickEvent(\"shareExperiment.mod.tabChange\", { \"tab\": idx });\n    }\n\n    onBackgroundColorChanged(idx: number) {\n        this.setState({ currentBackground: idx })\n        if (IsGameModderState(gameModderState))\n            gameModderState.currentBackground = idx\n    }\n\n    onSpriteGalleryPick(bmp: Bitmap) {\n        tickEvent(\"shareExperiment.mod.galleryPick\");\n        this.updateCurrentUserImage(bmp)\n    }\n\n    render() {\n        let currImg = this.state.userImages[this.state.currentImg]\n        let isBackgroundTab = this.state.currentImg === 3\n\n        let body = document.getElementsByTagName('body')[0]\n        // const MARGIN = 20\n        const HEADER_HEIGHT = 50\n        let actualWidth = body.clientWidth\n        let actualHeight = body.clientHeight - HEADER_HEIGHT\n        let refWidth = 539.0\n        let refHeight = SE.TOTAL_HEIGHT\n        let wScale = actualWidth / refWidth\n        let hScale = actualHeight / refHeight\n        this.scale = Math.min(wScale, hScale)\n\n        const SPRITE_GALLERY_HEIGHT = 100\n        let spriteGalleryHeight = SPRITE_GALLERY_HEIGHT * this.scale\n        let colorPickerHeight = (SE.TOTAL_HEIGHT + SPRITE_GALLERY_HEIGHT) * this.scale\n\n        // TODO\n        let samples = [\n            SAMPLE_CHARACTERS,\n            SAMPLE_OBSTACLES,\n            SAMPLE_OBSTACLES2\n        ]\n        let spriteGalleryOptions =\n            (samples[this.state.currentImg] || SAMPLE_CHARACTERS)\n                .map(i => imageLiteralToBitmap(i))\n\n        let startImg = this.state.userImages[this.state.currentImg].data\n        let galKey = `tab${this.state.currentImg}__` + spriteGalleryOptions.map(b => b.buf.toString()).join(\"_\")\n        let galProps: SpriteGalleryProps = {\n            height: spriteGalleryHeight,\n            options: spriteGalleryOptions,\n            onClick: this.onSpriteGalleryPick.bind(this)\n        }\n        return (\n            <div className=\"game-modder\">\n                <h1 ref=\"header\" className=\"what-to-do-header\">{currImg.callToAction}</h1>\n                <TabBar ref=\"tab-bar\" tabImages={this.tabImages}\n                    tabChange={this.onTabChange.bind(this)} startTab={this.state.currentImg} />\n                {isBackgroundTab\n                    ?\n                    <ColorPicker selectionChanged={this.onBackgroundColorChanged.bind(this)}\n                        selected={this.state.currentBackground} colors={SE.COLORS}\n                        height={colorPickerHeight}></ColorPicker>\n                    :\n                    <SpriteEditorComp ref=\"sprite-editor\" startImage={startImg}\n                        onPlay={this.onPlay} scale={this.scale} galleryProps={galProps}></SpriteEditorComp>\n                }\n                {/* <div ref=\"sprite-gallery\" className=\"sprite-gallery\">\n                </div> */}\n                <button ref=\"play-btn\" className=\"play-btn\">Play</button>\n            </div>\n        )\n    }\n\n    async componentDidMount() {\n        this.playBtn = this.refs[\"play-btn\"] as HTMLButtonElement;\n        this.spriteEditor = this.refs[\"sprite-editor\"] as SpriteEditorComp;\n        this.header = this.refs['header'] as HTMLHeadingElement\n\n        // events\n        this.playBtn.addEventListener('click', this.onPlay.bind(this))\n\n        // HACK: Disable scrolling in iOS\n        document.ontouchmove = function (e) {\n            e.preventDefault();\n        }\n    }\n\n    componentDidUpdate() {\n        this.spriteEditor = this.refs[\"sprite-editor\"] as SpriteEditorComp;\n    }\n\n    componentWillUnmount() {\n        this.playBtn = undefined;\n        this.spriteEditor = undefined;\n        this.header = undefined;\n    }\n\n    async onPlay() {\n        this.save()\n\n        const toReplace = this.state.userImages.filter(ui => !isEmptyBitmap(ui.data));\n\n        function modBackground(bin: string, newColor: number): string {\n            const originalColor = 13\n            const template = (color: number) => `scene_setBackgroundColor__P15776_mk(s);s.tmp_0.arg0=${color}`\n            let old = template(originalColor)\n            let newIdx = newColor + 1 // arcade function is 1-based b/c 0 is transparent\n            let nw = template(newIdx)\n            return bin.replace(old, nw)\n        }\n\n        function modBackgroundTs(bin: string, newColor: number): string {\n            const originalColor = 13\n            const template = (color: number) => `scene.setBackgroundColor(${color})`\n            let old = template(originalColor)\n            let newIdx = newColor + 1 // arcade function is 1-based b/c 0 is transparent\n            let nw = template(newIdx)\n            return bin.replace(old, nw)\n        }\n\n        function modImg(bin: string, img: UserImage): string {\n            // HACK: for some reason the compiler emits image prefixes that look like:\n            // 8704100010000000\n            // whereas ours look like:\n            // e4101000\n            const MOD_PREFIX_LEN = \"e4101000\".length\n            const BIN_PREFIX_LEN = \"8704100010000000\".length\n\n            let newHex = bitmapToBinHex(img.data)\n\n            const oldToFind = bitmapToBinHex(img.default)\n                .slice(MOD_PREFIX_LEN)\n            let oldStartIncl = bin.indexOf(oldToFind) - BIN_PREFIX_LEN\n            if (oldStartIncl < 0)\n                return bin;\n            let oldEndExcl = bin.indexOf(`\"`, oldStartIncl)\n            let oldHex = bin.slice(oldStartIncl, oldEndExcl)\n\n            return bin.replace(oldHex, newHex)\n        }\n\n        let gameBinJs = bunny_hop_bin_js\n        let gameMainTs = bunny_hop_main_ts\n        let gameMainBlocks = bunny_hop_main_blocks;\n\n        for (let i of toReplace) {\n            const def = bitmapToText(i.default);\n            const user = bitmapToText(i.data);\n            gameBinJs = modImg(gameBinJs, i)\n            gameMainTs = replaceImages(gameMainTs, def, user);\n            gameMainBlocks = replaceImages(gameMainBlocks, def, user);\n        }\n        gameBinJs = modBackground(gameBinJs, this.state.currentBackground)\n        gameMainTs = modBackgroundTs(gameMainTs, this.state.currentBackground);\n\n        const screenshot = await mkScreenshotAsync(this.state.currentBackground + 1, this.state.userImages.map(u => isEmptyBitmap(u.data) ? u.default : u.data));\n\n        this.props.playHandler({\n            binJs: gameBinJs,\n            mainTs: gameMainTs,\n            mainBlocks: gameMainBlocks,\n            screenshot\n        });\n    }\n}\n\nfunction replaceImages(sourceFile: string, toReplace: string, userImage: string) {\n    const sourceLines = sourceFile.split(/\\n/).map(l => l.trim());\n    const replaceLines = toReplace.split(/\\n/).map(l => l.trim()).slice(1, -1);\n\n    userImage = userImage.replace(\"img`\", \"\").replace(\"`\", \"\");\n\n    let foundMatch = false;\n    for (let i = 0; i < sourceLines.length; i++) {\n        if (sourceLines[i] === replaceLines[0]) {\n            foundMatch = true;\n\n            for (let j = 1; j < replaceLines.length; j++) {\n                if (sourceLines[i + j] != replaceLines[j]) {\n                    foundMatch = false;\n                    break;\n                }\n            }\n\n            if (foundMatch) {\n                sourceLines.splice(i, replaceLines.length, userImage);\n            }\n        }\n    }\n\n    return sourceLines.join(\"\\n\");\n}\n\nexport default GameModder;\n","export const bunny_hop_main_ts: string = `\nnamespace SpriteKind {\n    export const Obstacle = SpriteKind.create()\n}\ncontroller.anyButton.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (bunny.ay == 0) {\n        bunny.vy = -160\n        bunny.ay = gravity\n    }\n})\nfunction setupFrames () {\n    birdFrames = [img\\`\n        . . . . . . . . . . . .\n        . . . . . 1 1 1 1 . . .\n        . . . . 1 1 1 1 . . . .\n        . . . . 1 1 1 . . . . .\n        . . . . 1 1 1 . . . . .\n        . . . . 1 1 1 . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . 1 1 1 1 1 1 . .\n        . . . 1 1 1 1 1 . . . .\n        . . . 1 1 1 1 . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . 1 1 1 1 . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . 1 1 1 1 1 1 1 1 .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . 1 1 1 1 . . . . .\n        . . . 1 1 1 1 1 1 . . .\n        . . . . 1 1 1 1 1 1 1 .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . 1 1 1 1 . . . . .\n        . . . 1 1 1 1 . . . . .\n        . . . . 1 1 1 1 1 . . .\n        . . . . . 1 1 1 1 1 . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . 1 1 1 1 . . . . .\n        . . . 1 1 1 1 . . . . .\n        . . . . 1 1 1 1 1 . . .\n        . . . . . 1 1 1 1 1 . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . 1 1 1 1 . . . . .\n        . . . 1 1 1 1 1 1 . . .\n        . . . . 1 1 1 1 1 1 1 .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . 1 1 1 1 . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . 1 1 1 1 1 1 1 1 .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . 1 1 1 1 1 1 . .\n        . . . 1 1 1 1 1 . . . .\n        . . . 1 1 1 1 . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . .\n        . . . . . 1 1 1 1 . . .\n        . . . . 1 1 1 1 . . . .\n        . . . . 1 1 1 . . . . .\n        . . . . 1 1 1 . . . . .\n        . . . . 1 1 1 . . . . .\n        . . 1 1 1 1 1 1 . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n        . . . . . . . . . . . .\n    \\`]\n    animation.runImageAnimation(\n    bird,\n    birdFrames,\n    40,\n    true\n    )\n    obstacles = [img\\`\n        . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . 7 . . . . . . . . . . .\n        . . . . . . . . . . 7 7 . . . . . . . . . .\n        . . . . . . . . . 6 7 7 . . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 . . . . . . . . .\n        . . . . . . . . 6 6 7 7 7 7 . . . . . . . .\n        . . . . . . . 6 6 7 7 7 7 7 . . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 . . . . . . . .\n        . . . . . . . . 6 6 6 6 6 . . . . . . . . .\n        . . . . . . . . 6 6 6 6 . . . . . . . . . .\n        . . . . . . . 6 6 6 6 6 7 7 . . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 7 . . . . . . .\n        . . . . . . 6 6 6 7 7 7 7 7 7 7 . . . . . .\n        . . . . . . 6 6 7 7 7 7 7 7 7 7 7 . . . . .\n        . . 6 6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 . . .\n        . . . 6 6 6 6 6 7 7 7 7 7 6 6 6 6 6 . . . .\n        . . . . . . . . 6 6 6 6 7 7 . . . . . . . .\n        . . . . . . . . 6 6 6 7 7 7 . . . . . . . .\n        . . . . . . 6 6 7 7 7 7 7 7 7 . . . . . . .\n        . . . 6 6 6 7 7 7 7 7 7 7 7 7 7 7 . . . . .\n        6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 7 7 . . . .\n        6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 6\n        . . . 6 6 6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 6 .\n        . . . . . 6 6 6 6 e e e e 7 7 7 7 7 6 6 6 .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . . . e e e e . . . . . . . . .\n        . . . . . . . 6 . e e e e . . 6 . . . . . .\n        . . . 6 6 6 . . . e e e e . 6 . . . . . . .\n        . . . 6 . 6 . . . e e e e . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . .\n        . . . . . e e e e e . . . . .\n        . . . . e e b b b e e . . . .\n        . . . e e b e e e b e e . . .\n        . . . e e b e e b b e e . . .\n        . . . . e e b b e e e . . . .\n        . . . e b e e e e b b e . . .\n        . . . e e b b b b e e e . . e\n        . . . e e e e e e e e . . e .\n        . . . e b e e b e b e . e . e\n        . . . e b e e e e b e e . . .\n        . . . e e e b e e e e . . . .\n        . . e e b e b e b e e e . . .\n        . e e e e e e e e e e e e . .\n        . . . . . . e e . . . . . . .\n    \\`]\n    trees = [img\\`\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b . . b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b . b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . b b b b b . . b b b b b . b b b b . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . b b b . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b . b b . . . . . . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . b b b b b b . . b b b b . b b b . . . . . . . . . . .\n        . . . . . . . . . . b b b b b . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . b b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . b b b b . b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . b b . . . . b b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . b b b b b b b b b b b b b b b b b b b b b b b . . . . . .\n        . . . . . . b b b b b b b b . . . b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b . b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b . . b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . b b b b . b b b b b b b b . b . . . . . . . . . .\n        . . . . . . . . . . . . b . . . b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b . b b b b . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . . b b b b . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b . b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b b . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b . . b b b . . . . . . . . .\n        . . . . . . . . . b b b b b b b b b b b b b b . . b b b b . . . . . . .\n        . . . . . . . . b b . . . b b b b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b . b . . . b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b . . b b b b . . . . . . . . .\n        . . . . . . . . . . . . . b b b b b . b b b b b b b b . . . . . . . . .\n        . . . . . . . . . b b b b b b . . b b b b . . b b b b b . . . . . . . .\n        . . . . . . . . b b . b . . . . b b b b b . . . . . b b b . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b . . b b b b b b b . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . b b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . b b b b b b b b . . . . . . . . . . . . .\n        . . . . . . . . . . . . b b b b b b b b b b b b b . . . . . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b b . . . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . . . . . . . . b b b b b b b . b . . . . . . . . . . .\n        . . . . . . . . . . . . . . b b b b b b b b b b b b b b b b . . . . . .\n        . . . . . . . . . . . b b b b b b b b b b b b b b b b b b . . . . . . .\n        . . . . . . . . b b b b b b b b b b b b b b b b b b b . . . . . . . . .\n        . . . . . . . . . . b b b b b . . . b b b b . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b . b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b . b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . b b b . . . . . . . . . . . . . . .\n    \\`]\n    grassImages = [img\\`\n        . . . . . . . .\n        . . . . . . . .\n        . . . . . . . .\n        . . . . . . . .\n        . . . . b . . .\n        . . . . b . . .\n        . . . b b . . .\n        . . . b b . . .\n   \\`, img\\`\n        . . . . . . . .\n        . . . . . . . .\n        . . . . . . . .\n        . . . . . . . .\n        . . . b . . . .\n        . . . b . . . .\n        . . . b b . b .\n        . . . b b . b .\n   \\`, img\\`\n        . . . . . . . .\n        . . . . . . . .\n        b . . . . . . .\n        b . . b . . . .\n        b . . b b . . .\n        b . b b b . . .\n        b . b b b . b .\n        b b b b b . b .\n   \\`, img\\`\n        . . . . . . . .\n        . . . . . . . .\n        . . . . . . . .\n        . . . . . . . b\n        . . . b . . . b\n        . . . b . . . b\n        . . . b b . b b\n        . . . b b . b b\n   \\`, img\\`\n        . . . . . . . .\n        . . . . . . . .\n        . . . b . . . .\n        . . . b . . . .\n        . . b b . . . .\n        . . b b b . . .\n        . . b b b . . .\n        . . b b b . . .\n   \\`, img\\`\n        . . . . . . . .\n        . . . . . . . .\n        . . . . . . . .\n        . b . . . . . .\n        . b . . . . . .\n        . b b . . . b .\n        . b b . . . b .\n        . b b . . . b .\n    \\`]\n    clouds = [img\\`\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 1 . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . .\n        . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . .\n        . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . .\n        . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . .\n        . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . .\n        . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . .\n        . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . .\n        . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . .\n        . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . .\n        . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . .\n        . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 1 . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . .\n        . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . .\n        . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . .\n        . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . .\n        . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . .\n        . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . .\n        . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . .\n        . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . .\n        . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . .\n        . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 . .\n   \\`, img\\`\n        . . . . . . . . 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . .\n        . . . . . . . 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . .\n        . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . .\n        . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . .\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . .\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . .\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . .\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . .\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . .\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . .\n        . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . . . . . . . . . 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . . .\n        . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . .\n        . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . .\n        . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . .\n        . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . .\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . .\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . .\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . 1 1 1 1 1 1 1 1 . . . . . . .\n   \\`, img\\`\n        . . . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 . . . . . . . . . . .\n        . . . . . . . . . . . . . . . . . 1 1 1 1 . . 1 1 1 1 1 1 . . . . . . . . . .\n        . . . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . .\n        . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . .\n        . . . . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . .\n        . . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . .\n        . . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . .\n        . . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . .\n        . . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . .\n        . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . .\n        . . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n        . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 .\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . .\n        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . . . . . .\n    \\`]\n}\nfunction createTree () {\n    tree = sprites.createProjectileFromSide(trees[Math.randomRange(0, trees.length - 1)], (-100 - game.runtime() / 250) / 2, 0)\n    tree.bottom = 100\n    tree.z = -1\n}\nfunction createCloud () {\n    cloud = sprites.createProjectileFromSide(clouds[Math.randomRange(0, clouds.length - 1)], -30, 0)\n    cloud.bottom = Math.randomRange(30, 55)\n    cloud.z = -2\n}\nsprites.onOverlap(SpriteKind.Player, SpriteKind.Obstacle, function (sprite, otherSprite) {\n    game.over(false, effects.melt)\n})\nlet grass: Sprite = null\nlet projectile: Sprite = null\nlet newObstacle: Image = null\nlet numObstacles = 0\nlet osbstacleSpeed = 0\nlet difficultyFactor = 0\nlet cloud: Sprite = null\nlet tree: Sprite = null\nlet clouds: Image[] = []\nlet grassImages: Image[] = []\nlet trees: Image[] = []\nlet obstacles: Image[] = []\nlet birdFrames: Image[] = []\nlet bird: Sprite = null\nlet gravity = 0\nlet bunny: Sprite = null\nlet theScore = 0\nscene.setBackgroundColor(13)\nbunny = sprites.create(img\\`\n    . . . . . . . . . . . .\n    . . . 1 1 . 1 1 . . . .\n    . . . 1 3 . 1 3 . . . .\n    . . . . 1 3 . 1 3 . . .\n    . . . . 1 3 . 1 3 . . .\n    . . . 1 1 1 1 1 1 . . .\n    . . 1 1 1 1 1 1 1 1 . .\n    . . 1 1 1 f 1 1 f 1 . .\n    . . 1 1 1 1 1 1 1 1 . .\n    . . 1 1 1 1 f f 1 1 . .\n    . . . 1 1 1 1 1 1 . . .\n    . 1 1 1 1 1 1 1 1 1 1 .\n    . 1 1 1 1 1 1 1 1 1 1 .\n    . . . . 1 1 1 1 . . . .\n    . . . . 1 1 1 1 . . . .\n    . . . . 1 1 1 1 . . . .\n    . . . . 1 1 1 1 . . . .\n    . . . . . 1 1 . . . . .\n    . . . . . . 1 . . . . .\n    . . . . . . . . . . . .\n    . . . . . . . . . . . .\n\\`, SpriteKind.Player)\ngravity = 400\nbunny.ay = gravity\nbunny.x = 20\nbird = sprites.create(img\\`\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n    . . . . . . . . . . . . . . . .\n\\`, SpriteKind.Projectile)\nbird.setPosition(160, 20)\nbird.setVelocity(-120, 0)\nsetupFrames()\ngame.onUpdate(function () {\n    if (bunny.bottom > 105) {\n        bunny.bottom = 105\n        bunny.vy = 0\n        bunny.ay = 0\n    }\n})\ngame.onUpdate(function () {\n    if (bird.x < 0) {\n        bird.setPosition(Math.randomRange(160, 240), Math.randomRange(20, 60))\n    }\n})\ngame.onUpdateInterval(100, function () {\n    bird.x += -1\n})\nforever(function () {\n    difficultyFactor = game.runtime() / 250\n    osbstacleSpeed = 100 + difficultyFactor\n    numObstacles = Math.randomRange(1, 3)\n    for (let i = 0; i < numObstacles; i++) {\n        newObstacle = obstacles[Math.randomRange(0, obstacles.length - 1)]\n        projectile = sprites.createProjectileFromSide(newObstacle, 0 - osbstacleSpeed, 0)\n        projectile.bottom = 105\n        projectile.setKind(SpriteKind.Obstacle)\n        pause(11500 / osbstacleSpeed)\n    }\n    pause(Math.randomRange(1500, 2500))\n})\ngame.onUpdateInterval(200, function () {\n    if (Math.percentChance(40)) {\n        grass = sprites.createProjectileFromSide(grassImages[Math.randomRange(0, grassImages.length - 1)], (-100 - game.runtime() / 250) / 2, 0)\n        grass.bottom = 100\n        grass.z = -1\n    }\n})\ngame.onUpdateInterval(100, function () {\n    info.changeScoreBy(1)\n    if (info.score() > 0 && info.score() % 100 == 0) {\n        effects.confetti.startScreenEffect()\n    } else if (info.score() > 0 && (info.score() - 10) % 100 == 0) {\n        effects.confetti.endScreenEffect()\n    }\n})\ngame.onUpdateInterval(1000, function () {\n    if (Math.percentChance(20)) {\n        createCloud()\n    }\n})\nforever(function () {\n    if (Math.percentChance(60)) {\n        createTree()\n        if (Math.percentChance(50)) {\n            pause(Math.randomRange(150, 300))\n            createTree()\n        }\n    }\n    pause(1500)\n})\n\n`;","export const bunny_hop_main_blocks: string = `\n`;","import { Bitmap } from \"../sprite-editor/bitmap\";\n\nexport interface HttpRequestOptions {\n    url: string;\n    method?: string; // default to GET\n    data?: any;\n    headers?: {[index: string]: string};\n    allowHttpErrors?: boolean; // don't treat non-200 responses as errors\n    allowGzipPost?: boolean;\n    responseArrayBuffer?: boolean;\n    forceLiveEndpoint?: boolean;\n}\n\nexport interface HttpResponse {\n    statusCode: number;\n    headers: {[index: string]: string | string[]};\n    buffer?: any;\n    text?: string;\n    json?: any;\n}\n\nexport interface UserProject {\n    binJs: string;\n    mainTs: string;\n    mainBlocks: string;\n    screenshot: string;\n}\n\nexport function requestAsync(options: HttpRequestOptions): Promise<HttpResponse> {\n    return httpRequestCoreAsync(options)\n        .then(resp => {\n            if ((resp.statusCode != 200 && resp.statusCode != 304) && !options.allowHttpErrors) {\n                let msg = `Bad HTTP status code: ${resp.statusCode} at ${options.url}; message: ${(resp.text || \"\").slice(0, 500)}`;\n                let err: any = new Error(msg)\n                err.statusCode = resp.statusCode\n                return Promise.reject(err)\n            }\n            if (resp.text && /application\\/json/.test(resp.headers[\"content-type\"] as string))\n                resp.json = JSON.parse(resp.text)\n            return resp\n        })\n}\n\nexport function httpGetTextAsync(url: string) {\n    return requestAsync({ url: url }).then(resp => resp.text)\n}\n\nexport function httpGetJsonAsync(url: string) {\n    return requestAsync({ url: url }).then(resp => resp.json)\n}\n\nexport function httpPostJsonAsync(url: string, data: any) {\n    return requestAsync({ url: url, data: data || {} }).then(resp => resp.json)\n}\n\nfunction httpRequestCoreAsync(options: HttpRequestOptions) {\n    return new Promise<HttpResponse>((resolve, reject) => {\n        let client: XMLHttpRequest;\n        let resolved = false\n\n        let headers = { ...options.headers }\n\n        client = new XMLHttpRequest();\n        if (options.responseArrayBuffer)\n            client.responseType = \"arraybuffer\";\n        client.onreadystatechange = () => {\n            if (resolved) return // Safari/iOS likes to call this thing more than once\n\n            if (client.readyState == 4) {\n                resolved = true\n                let res: HttpResponse = {\n                    statusCode: client.status,\n                    headers: {},\n                    buffer: (client as any).responseBody || client.response,\n                    text: options.responseArrayBuffer ? undefined : client.responseText,\n                }\n                const allHeaders = client.getAllResponseHeaders();\n                allHeaders.split(/\\r?\\n/).forEach(l => {\n                    let m = /^\\s*([^:]+): (.*)/.exec(l)\n                    if (m) res.headers[m[1].toLowerCase()] = m[2]\n                })\n                resolve(res)\n            }\n        }\n\n        let data = options.data\n        let method = options.method || (data == null ? \"GET\" : \"POST\");\n\n        let buf: any;\n\n        if (data == null) {\n            buf = null\n        } else if (data instanceof Uint8Array) {\n            buf = data\n        } else if (typeof data == \"object\") {\n            buf = JSON.stringify(data)\n            headers[\"content-type\"] = \"application/json; charset=utf8\"\n        } else if (typeof data == \"string\") {\n            buf = data\n        } else {\n            throw new Error(\"bad data\");\n        }\n\n        client.open(method, options.url);\n\n        Object.keys(headers).forEach(k => {\n            client.setRequestHeader(k, headers[k])\n        })\n\n        if (buf == null)\n            client.send();\n        else\n            client.send(buf);\n    })\n}\n\nexport function shareScriptAsync(screenshotUri: string, mainTS: string, mainBlocks: string) {\n    let thumbnailBuffer: string;\n    let thumbnailMimeType: string;\n\n    if (screenshotUri) {\n        const m = /^data:(image\\/(png|gif));base64,([a-zA-Z0-9+/]+=*)$/.exec(screenshotUri);\n        if (m) {\n            thumbnailBuffer = m[3];\n            thumbnailMimeType = m[1];\n        }\n    }\n\n    const text = {\n        ...scriptText\n    }\n\n    text[\"main.ts\"] = mainTS;\n    text[\"main.blocks\"] = mainBlocks;\n\n    const scrReq = {\n        name: \"Arcade Game\",\n        target: \"arcade\",\n        targetVersion: \"0.12.17\",\n        description: \"Made with ❤️ in Microsoft MakeCode Arcade.\",\n        editor: \"blocksprj\",\n        text,\n        meta: {\n            // versions: pxt.appTarget.versions,\n            // blocksHeight: meta.blocksHeight,\n            // blocksWidth: meta.blocksWidth\n        },\n        thumbnailBuffer,\n        thumbnailMimeType\n    };\n\n    const opts: HttpRequestOptions = {\n        headers: {},\n        url: \"https://arcade.makecode.com/api/scripts\",\n        data: scrReq,\n        allowGzipPost: true\n    }\n\n    return requestAsync(opts);\n}\n\nconst scriptText = {\n    \"README.md\": \"\",\n    \"main.blocks\": \"\",\n    \"main.ts\": \"\",\n    \"pxt.json\": \"{\\n    \\\"name\\\": \\\"My First Game\\\",\\n    \\\"dependencies\\\": {\\n        \\\"device\\\": \\\"*\\\",\\n \\\"animation\\\": \\\"*\\\"\\n   },\\n    \\\"description\\\": \\\"\\\",\\n    \\\"files\\\": [\\n        \\\"main.blocks\\\",\\n        \\\"main.ts\\\",\\n        \\\"README.md\\\"\\n    ],\\n    \\\"preferredEditor\\\": \\\"tsprj\\\",\\n    \\\"targetVersions\\\": {\\n        \\\"branch\\\": \\\"v0.12.17\\\",\\n        \\\"tag\\\": \\\"v0.12.17\\\",\\n        \\\"commits\\\": \\\"https://github.com/microsoft/pxt-arcade/commits/bbca8732cef11a27ce09394ba07a49d406ab792c\\\",\\n        \\\"target\\\": \\\"0.12.17\\\",\\n        \\\"pxt\\\": \\\"5.17.29\\\"\\n    }\\n}\"\n}","import * as React from \"react\";\n\nexport interface SocialButtonProps {\n    platform: \"twitter\" | \"facebook\";\n    shareUrl: string;\n}\n\nexport class SocialButton extends React.Component<SocialButtonProps, {}> {\n    render() {\n        const { platform, shareUrl } = this.props;\n        return <a\n            className={`social-button ${platform}`}\n            href={platform === \"twitter\" ? getTwitterUrl(shareUrl) : getFacebookUrl(shareUrl)} />\n    }\n}\n\nfunction getFacebookUrl(shareUrl: string) {\n    return `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`;\n}\n\nfunction getTwitterUrl(shareUrl: string) {\n    // https://developer.twitter.com/en/docs/twitter-for-websites/tweet-button/overview\n    const text = \"Check out what I made with @MSMakeCode!\";\n    const hashtags = \"ArcadeMod\"\n\n    return `https://twitter.com/intent/tweet?url=${encodeURIComponent(shareUrl)}` +\n        `&text=${encodeURIComponent(text)}&hashtags=${encodeURIComponent(hashtags)}`;\n}","import React from 'react';\n\nimport '../css/Share.css';\nimport '../css/icons.css';\n\nimport * as util from \"./util\";\nimport { SocialButton } from './Social';\n\nconst legalText = \"You need to publish your project to share it. You acknowledge having consent to publish this project.\";\nconst testURL = \"data:image/png;base64,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\";\n\ninterface ShareProps {\n    changeMode: (mode: \"play\" | \"share\" | \"mod\") => void;\n    proj: util.UserProject;\n}\n\ninterface ShareState {\n    publishID?: string;\n    pending?: boolean;\n}\n\nclass Share extends React.Component<ShareProps, ShareState> {\n\n    constructor(props: ShareProps) {\n        super(props);\n        this.state = {};\n    }\n\n    render() {\n        const { changeMode, proj } = this.props;\n\n        const screenshot = proj ? proj.screenshot : testURL;\n        return (\n            <div className=\"share-page\">\n                <h1>Share your game!</h1>\n                <div className=\"share-screenshot-container\">\n                    <img className=\"share-screenshot\" src={screenshot} ></img>\n                </div>\n                { (this.state && this.state.publishID) ? this.renderShared() : this.renderUnshared() }\n                <div className=\"share-action\">\n                    <button className=\"share-button play-button\" onClick={() => changeMode(\"play\")}>Play Again</button>\n                </div>\n            </div>\n        )\n    }\n\n    protected renderUnshared() {\n        const { pending } = this.state;\n        return <div>\n            <div className=\"share-legal-text\">\n                {legalText}\n            </div>\n            <div className=\"share-action\">\n                <button className=\"share-button publish-button\" onClick={this.publishScript}>{pending ? <div className=\"spinner\"/> : \"Publish\"}</button>\n            </div>\n        </div>\n    }\n\n    protected renderShared() {\n        const { publishID } = this.state;\n        const shareLink = `https://makecode.com/${publishID}`;\n\n        return <div>\n            <div className=\"copy-group\">\n                <input\n                    className=\"attached-copy-input\"\n                    ref=\"url-input\"\n                    value={shareLink}\n                    readOnly={true}\n                    autoComplete=\"off\"\n                    autoCorrect=\"off\"\n                    autoCapitalize=\"off\"\n                    spellCheck={false}/>\n                <button className=\"attached-copy-button\" onClick={this.copyToClipboard}>\n                    <div className=\"copy-button-icon\" />\n                </button>\n            </div>\n            <div className=\"social-buttons\">\n                <SocialButton platform=\"twitter\" shareUrl={shareLink} />\n                <SocialButton platform=\"facebook\" shareUrl={shareLink} />\n            </div>\n        </div>\n    }\n\n    protected publishScript = () => {\n        const { proj } = this.props;\n\n        this.setState({ pending: true });\n\n        if (!proj) {\n            // Just for testing, it's impossible to hit this case in the normal flow\n            setTimeout(() => {\n                this.setState({\n                    publishID: \"xxxx-xxxx-xxxx-xxxx\"\n                })\n            }, 2000);\n        }\n        else {\n            util.shareScriptAsync(proj.screenshot, proj.mainTs, proj.mainBlocks)\n            .then(resp => {\n                this.setState({\n                    publishID: resp.json.shortid\n                });\n            });\n        }\n\n    }\n\n    protected copyToClipboard = () => {\n        const input = this.refs[\"url-input\"] as HTMLInputElement;\n\n        if (input) {\n            input.focus();\n            input.setSelectionRange(0, 9999);\n        }\n\n        try {\n            const success = document.execCommand(\"copy\");\n        } catch (e) {\n        }\n    }\n}\n\nexport default Share;","import React from 'react';\nimport './App.css';\n\nimport GamePlayer from './components/GamePlayer';\nimport GameModder, { GameModderState } from './components/GameModder';\nimport Share from './components/Share';\nimport HeaderBar from './components/HeaderBar';\n\nimport { loadAppInsights, tickEvent } from './telemetry/appinsights';\nimport { UserProject } from './components/util';\n\ninterface AppState {\n    mode: \"mod\" | \"play\" | \"share\"\n}\n\nlet lastBinary: UserProject;\nlet playTimestamp: number;\nexport let gameModderState: GameModderState | {} = {};\n\n// HACK: Disable scrolling in iOS\ndocument.ontouchmove = function (e) {\n    e.preventDefault();\n}\n\nexport class App extends React.Component<{}, AppState> {\n    constructor(props: {}) {\n        super(props)\n        this.state = {\n            mode: \"mod\"\n        }\n\n        this.playGame = this.playGame.bind(this);\n\n        loadAppInsights(false);\n        tickEvent(\"shareExperiment.landing\");\n\n        window.addEventListener('resize', this.setVh);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.setVh);\n    }\n\n    render() {\n        this.setVh();\n        return (\n            <div className=\"App\">\n                {this.state.mode === \"mod\" ?\n                    <GameModder playHandler={this.playGame} changeMode={this.changeMode} /> :\n                    (\n                        this.state.mode === \"play\" ?\n                            <GamePlayer proj={lastBinary} changeMode={this.changeMode} /> :\n                            <Share proj={lastBinary} changeMode={this.changeMode} />\n                    )\n                }\n            </div>\n        );\n    }\n\n    playGame(binJs: UserProject) {\n        lastBinary = binJs;\n        playTimestamp = Date.now();\n\n        this.setState({ mode: \"play\" })\n        tickEvent(\"shareExperiment.play\");\n    }\n\n    modGame() {\n        this.setState({ mode: \"mod\" });\n        tickEvent(\"shareExperiment.mod\");\n    }\n\n    protected changeMode = (mode: \"play\" | \"share\" | \"mod\") => {\n        if (mode == \"play\") {\n            playTimestamp = Date.now();\n        } else if (this.state.mode == \"play\") {\n            tickEvent(\"shareExperiment.play.time\", { \"duration\": Date.now() - playTimestamp });\n            playTimestamp = null;\n        }\n\n        this.setState({ mode });\n    }\n\n    protected setVh = () => {\n        let vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}